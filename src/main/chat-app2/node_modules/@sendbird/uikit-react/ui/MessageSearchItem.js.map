{"version":3,"file":"MessageSearchItem.js","sources":["../../src/ui/MessageSearchItem/getCreatedAt.ts","../../src/ui/MessageSearchItem/index.tsx"],"sourcesContent":["import type { Locale } from 'date-fns';\nimport format from 'date-fns/format';\nimport isToday from 'date-fns/isToday';\nimport isThisYear from 'date-fns/isThisYear';\nimport isYesterday from 'date-fns/isYesterday';\n\ninterface GetCreatedAtProps {\n  createdAt: number;\n  locale?: Locale;\n  stringSet?: Record<string, string>;\n}\n\n// getCreatedAt\nexport default function ({\n  createdAt,\n  locale,\n  stringSet,\n}: GetCreatedAtProps): string {\n  const optionalParam = locale ? { locale } : null;\n  if (!createdAt) {\n    return '';\n  }\n  if (isToday(createdAt)) {\n    return format(createdAt, 'p', optionalParam);\n  }\n  if (isYesterday(createdAt)) {\n    return stringSet?.MESSAGE_STATUS__YESTERDAY || 'Yesterday';\n  }\n  if (isThisYear(createdAt)) {\n    return format(createdAt, 'MMM d', optionalParam);\n  }\n  return format(createdAt, 'yyyy/M/d', optionalParam);\n}\n","import React from 'react';\nimport './index.scss';\nimport getCreatedAt from './getCreatedAt';\n\nimport Avatar from '../Avatar';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport { UserMessage } from '@sendbird/chat/message';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: UserMessage;\n  selected?: boolean;\n  onClick?: (message: UserMessage) => void;\n}\n\nexport default function MessageSearchItem({\n  className,\n  message,\n  selected,\n  onClick,\n}: Props): JSX.Element {\n  const { createdAt } = message;\n  const messageText = message.message;\n  const sender = message.sender || message._sender;\n  const { profileUrl, nickname } = sender;\n  const { stringSet, dateLocale } = useLocalization();\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-message-search-item',\n        selected ? 'sendbird-message-search-item--selected' : '',\n      ].join(' ')}\n      onClick={(e) => {\n        e.stopPropagation();\n        onClick(message);\n      }}\n    >\n      <div className=\"sendbird-message-search-item__left\">\n        <Avatar\n          className=\"sendbird-message-search-item__left__sender-avatar\"\n          src={profileUrl}\n          alt=\"profile image\"\n          width=\"56px\"\n          height=\"56px\"\n        />\n      </div>\n      <div className=\"sendbird-message-search-item__right\">\n        <Label\n          className=\"sendbird-message-search-item__right__sender-name\"\n          type={LabelTypography.SUBTITLE_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {nickname || stringSet.NO_NAME}\n        </Label>\n        <Label\n          className=\"sendbird-message-search-item__right__message-text\"\n          type={LabelTypography.BODY_2}\n          color={LabelColors.ONBACKGROUND_3}\n        >\n          {messageText}\n        </Label>\n        <Label\n          className=\"sendbird-message-search-item__right__message-created-at\"\n          type={LabelTypography.CAPTION_3}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {getCreatedAt({ createdAt, locale: dateLocale, stringSet })}\n        </Label>\n      </div>\n      <div className=\"sendbird-message-search-item__right-footer\" />\n    </div>\n  );\n}\n"],"names":["_ref","createdAt","locale","stringSet","optionalParam","isToday","format","isYesterday","MESSAGE_STATUS__YESTERDAY","isThisYear","MessageSearchItem","className","message","selected","onClick","messageText","sender","_sender","profileUrl","nickname","dateLocale","useLocalization","React","createElement","Array","isArray","join","e","stopPropagation","Avatar","src","alt","width","height","Label","type","LabelTypography","SUBTITLE_2","color","LabelColors","ONBACKGROUND_1","NO_NAME","BODY_2","ONBACKGROUND_3","CAPTION_3","ONBACKGROUND_2","getCreatedAt"],"mappings":"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"}