{"version":3,"file":"Toggle.js","sources":["../../src/ui/Toggle/ToggleContext.ts","../../src/ui/Toggle/ToggleContainer.tsx","../../src/ui/Toggle/utils.ts","../../src/ui/Toggle/ToggleUI.tsx","../../src/ui/Toggle/index.tsx"],"sourcesContent":["import React, { ChangeEventHandler } from 'react';\n\n/**\n * The default value of `checked` should be null\n * to support both case of controlled and uncontrolled component\n * ref: https://github.com/aaronshaf/react-toggle#props\n */\nconst noop = (): void => { /* noop */ };\nexport const TOGGLE_DEFAULT_VALUE = {\n  checked: null,\n  defaultChecked: false,\n  disabled: false,\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n};\n\nexport interface ToggleContextInterface {\n  checked?: boolean | null;\n  defaultChecked?: boolean;\n  disabled?: boolean;\n  onChange?: ChangeEventHandler<HTMLInputElement>;\n  onFocus?: ChangeEventHandler<HTMLInputElement>;\n  onBlur?: ChangeEventHandler<HTMLInputElement>;\n}\n\nexport const ToggleContext = React.createContext<ToggleContextInterface>(TOGGLE_DEFAULT_VALUE);\n\nexport function useToggleContext(): ToggleContextInterface {\n  const context = React.useContext(ToggleContext);\n  if (context === undefined) {\n    throw new Error('@sendbird/uikit-react/ui/Toggle: useToggleContext must be used within a ToggleContainer.');\n  }\n  return context;\n}\n","import React, { ChangeEvent, useCallback, useState } from 'react';\n\nimport {\n  ToggleContext,\n  ToggleContextInterface,\n  TOGGLE_DEFAULT_VALUE as Dvalue,\n} from './ToggleContext';\n\nexport interface ToggleContainerProps extends ToggleContextInterface {\n  children?: React.ReactElement;\n}\n\n// Props Explanation https://github.com/aaronshaf/react-toggle#props\nexport function ToggleContainer({\n  checked = Dvalue.checked, // null\n  defaultChecked = Dvalue.defaultChecked,\n  disabled = Dvalue.disabled,\n  onChange = Dvalue.onChange,\n  onFocus = Dvalue.onFocus,\n  onBlur = Dvalue.onBlur,\n  children,\n}: ToggleContainerProps): React.ReactElement {\n  const [isChecked, setChecked] = useState(defaultChecked || false);\n  const handleChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    if (disabled) {\n      return;\n    }\n    if (checked === null) {\n      setChecked(e.currentTarget.checked);\n    }\n    onChange(e);\n  }, [onChange, checked]);\n\n  return (\n    <ToggleContext.Provider value={{\n      checked: checked !== null ? checked : isChecked,\n      disabled,\n      onChange: handleChange,\n      onFocus: (e) => {\n        if (!disabled) {\n          onFocus(e);\n        }\n      },\n      onBlur: (e) => {\n        if (!disabled) {\n          onBlur(e);\n        }\n      },\n    }}>\n      {children}\n    </ToggleContext.Provider>\n  );\n}\n","import useSendbirdStateContext from '../../hooks/useSendbirdStateContext';\n\nexport function filterNumber(input: string | number): Array<number> {\n  if (typeof input !== 'string' && typeof input !== 'number') {\n    try {\n      const { config } = useSendbirdStateContext();\n      const { logger } = config;\n      logger.warning('@sendbird/uikit-react/ui/Toggle: TypeError - expected string or number.', input);\n    } catch (_) { /* noop */ }\n    return [];\n  }\n  if (typeof input === 'number') {\n    return [input];\n  }\n  const regex = /(-?\\d+)(\\.\\d+)?/g;\n  const numbers = input.match(regex) || [];\n  return numbers.map(parseFloat);\n}\n","import React, { useState } from 'react';\nimport { useToggleContext } from './ToggleContext';\nimport { filterNumber } from './utils';\n\nexport interface ToggleUIProps {\n  reversed?: boolean;\n  width?: string;\n  animationDuration?: string;\n  style?: Record<string, string>;\n  name?: string;\n  id?: string;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n}\n\nexport function ToggleUI(props: ToggleUIProps): React.ReactElement {\n  const {\n    reversed = false,\n    width = '40px',\n    animationDuration = '0.5s',\n    style = {},\n    name = '',\n    id = '',\n    ariaLabel = '',\n    ariaLabelledby = '',\n  } = props;\n  const {\n    checked,\n    disabled,\n    onChange,\n    onFocus,\n    onBlur,\n  } = useToggleContext();\n\n  // animation should not be activated in the initialization step\n  const [animatedClassName, setAnimatedClassName] = useState('');\n\n  const toggleWidth = filterNumber(width)?.[0];\n  const toggleHeight = toggleWidth / 2;\n  // The size of dot should be 60% of toggle height\n  const dotSize = toggleHeight * 0.6;\n\n  return (\n    <label\n      className={[\n        'sendbird-input-toggle-button',\n        animatedClassName,\n        checked ? 'sendbird-input-toggle-button--checked' : 'sendbird-input-toggle-button--unchecked',\n        disabled ? 'sendbird-input-toggle-button--disabled' : [],\n        reversed ? 'sendbird-input-toggle-button--reversed' : [],\n      ].flat().join(' ')}\n      style={{\n        width: `${toggleWidth}px`,\n        height: `${toggleHeight}px`,\n        borderRadius: `${dotSize}px`,\n        ...style,\n      }}\n    >\n      <div\n        className={[\n          'sendbird-input-toggle-button__inner-dot',\n          checked\n            ? 'sendbird-input-toggle-button__inner-dot--activate'\n            : 'sendbird-input-toggle-button__inner-dot--inactivate',\n        ].join(' ')}\n        style={{\n          width: `${dotSize}px`,\n          height: `${dotSize}px`,\n          animationDuration,\n        }}\n      />\n      <input\n        type=\"checkbox\"\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabelledby}\n        name={name}\n        id={id}\n        checked={checked}\n        disabled={disabled}\n        onChange={(e) => {\n          onChange(e);\n          setAnimatedClassName(e.currentTarget.checked ? 'sendbird-input-toggle-button--turned-on' : 'sendbird-input-toggle-button--turned-off');\n        }}\n        onFocus={onFocus}\n        onBlur={onBlur}\n      />\n    </label>\n  );\n}\n","import React from 'react';\nimport './index.scss';\n\nimport { ToggleContainer, ToggleContainerProps } from './ToggleContainer';\nimport { useToggleContext } from './ToggleContext';\nimport { ToggleUI, ToggleUIProps } from './ToggleUI';\n\nexport interface ToggleProps extends ToggleContainerProps, ToggleUIProps {\n  className?: string;\n}\nfunction Toggle(props: ToggleProps): React.ReactElement {\n  const {\n    // ToggleProvider\n    checked,\n    defaultChecked,\n    disabled,\n    onChange,\n    onFocus,\n    onBlur,\n    // ToggleUI\n    className,\n    reversed,\n    width,\n    // height will be half of width\n    animationDuration,\n    style,\n    name,\n    id,\n    ariaLabel,\n    ariaLabelledby,\n  } = props;\n  return (\n    <div className={`sendbird-ui-toggle ${className}`}>\n      <ToggleContainer\n        checked={checked}\n        defaultChecked={defaultChecked}\n        disabled={disabled}\n        onChange={onChange}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        >\n        <ToggleUI\n          reversed={reversed}\n          width={width}\n          animationDuration={animationDuration}\n          style={style}\n          name={name}\n          id={id}\n          ariaLabel={ariaLabel}\n          ariaLabelledby={ariaLabelledby}\n        />\n      </ToggleContainer>\n    </div>\n  );\n}\n\nexport type { ToggleContainerProps, ToggleUIProps };\nexport { Toggle, ToggleContainer, ToggleUI, useToggleContext };\n"],"names":["noop","TOGGLE_DEFAULT_VALUE","checked","defaultChecked","disabled","onChange","onFocus","onBlur","ToggleContext","React","createContext","useToggleContext","context","useContext","undefined","Error","ToggleContainer","_ref","Dvalue","children","isChecked","setChecked","useState","handleChange","useCallback","e","currentTarget","createElement","Provider","value","filterNumber","input","config","useSendbirdStateContext","logger","warning","_","regex","numbers","match","map","parseFloat","ToggleUI","props","_filterNumber","reversed","width","animationDuration","style","name","id","ariaLabel","ariaLabelledby","animatedClassName","setAnimatedClassName","toggleWidth","toggleHeight","dotSize","className","flat","join","_objectSpread","height","borderRadius","type","Toggle"],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAMA,IAAI,GAAGA,MAAY,YAAc,CAAA;AAChC,MAAMC,oBAAoB,GAAG;AAClCC,EAAAA,OAAO,EAAE,IAAI;AACbC,EAAAA,cAAc,EAAE,KAAK;AACrBC,EAAAA,QAAQ,EAAE,KAAK;AACfC,EAAAA,QAAQ,EAAEL,IAAI;AACdM,EAAAA,OAAO,EAAEN,IAAI;AACbO,EAAAA,MAAM,EAAEP,IAAAA;AACV,CAAC,CAAA;AAWM,MAAMQ,aAAa,gBAAGC,cAAK,CAACC,aAAa,CAAyBT,oBAAoB,CAAC,CAAA;AAEvF,SAASU,gBAAgBA,GAA2B;AACzD,EAAA,MAAMC,OAAO,GAAGH,cAAK,CAACI,UAAU,CAACL,aAAa,CAAC,CAAA;EAC/C,IAAII,OAAO,KAAKE,SAAS,EAAE;AACzB,IAAA,MAAM,IAAIC,KAAK,CAAC,0FAA0F,CAAC,CAAA;AAC7G,GAAA;AACA,EAAA,OAAOH,OAAO,CAAA;AAChB;;ACtBA;AACO,SAASI,eAAeA,CAAAC,IAAA,EAQc;EAAA,IARb;IAC9Bf,OAAO,GAAGgB,oBAAM,CAAChB,OAAO;AAAE;IAC1BC,cAAc,GAAGe,oBAAM,CAACf,cAAc;IACtCC,QAAQ,GAAGc,oBAAM,CAACd,QAAQ;IAC1BC,QAAQ,GAAGa,oBAAM,CAACb,QAAQ;IAC1BC,OAAO,GAAGY,oBAAM,CAACZ,OAAO;IACxBC,MAAM,GAAGW,oBAAM,CAACX,MAAM;AACtBY,IAAAA,QAAAA;AACoB,GAAC,GAAAF,IAAA,CAAA;EACrB,MAAM,CAACG,SAAS,EAAEC,UAAU,CAAC,GAAGC,QAAQ,CAACnB,cAAc,IAAI,KAAK,CAAC,CAAA;AACjE,EAAA,MAAMoB,YAAY,GAAGC,WAAW,CAAEC,CAAgC,IAAK;AACrE,IAAA,IAAIrB,QAAQ,EAAE;AACZ,MAAA,OAAA;AACF,KAAA;IACA,IAAIF,OAAO,KAAK,IAAI,EAAE;AACpBmB,MAAAA,UAAU,CAACI,CAAC,CAACC,aAAa,CAACxB,OAAO,CAAC,CAAA;AACrC,KAAA;IACAG,QAAQ,CAACoB,CAAC,CAAC,CAAA;AACb,GAAC,EAAE,CAACpB,QAAQ,EAAEH,OAAO,CAAC,CAAC,CAAA;AAEvB,EAAA,oBACEO,cAAA,CAAAkB,aAAA,CAACnB,aAAa,CAACoB,QAAQ,EAAA;AAACC,IAAAA,KAAK,EAAE;AAC7B3B,MAAAA,OAAO,EAAEA,OAAO,KAAK,IAAI,GAAGA,OAAO,GAAGkB,SAAS;MAC/ChB,QAAQ;AACRC,MAAAA,QAAQ,EAAEkB,YAAY;MACtBjB,OAAO,EAAGmB,CAAC,IAAK;QACd,IAAI,CAACrB,QAAQ,EAAE;UACbE,OAAO,CAACmB,CAAC,CAAC,CAAA;AACZ,SAAA;OACD;MACDlB,MAAM,EAAGkB,CAAC,IAAK;QACb,IAAI,CAACrB,QAAQ,EAAE;UACbG,MAAM,CAACkB,CAAC,CAAC,CAAA;AACX,SAAA;AACF,OAAA;AACF,KAAA;AAAE,GAAA,EACCN,QAAQ,CACc,CAAA;AAE7B;;AClDO,SAASW,YAAYA,CAACC,KAAsB,EAAiB;EAClE,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC1D,IAAI;MACF,MAAM;AAAEC,QAAAA,MAAAA;OAAQ,GAAGC,uBAAuB,EAAE,CAAA;MAC5C,MAAM;AAAEC,QAAAA,MAAAA;AAAO,OAAC,GAAGF,MAAM,CAAA;AACzBE,MAAAA,MAAM,CAACC,OAAO,CAAC,yEAAyE,EAAEJ,KAAK,CAAC,CAAA;AAClG,KAAC,CAAC,OAAOK,CAAC,EAAE,YAAE;AACd,IAAA,OAAO,EAAE,CAAA;AACX,GAAA;AACA,EAAA,IAAI,OAAOL,KAAK,KAAK,QAAQ,EAAE;IAC7B,OAAO,CAACA,KAAK,CAAC,CAAA;AAChB,GAAA;EACA,MAAMM,KAAK,GAAG,kBAAkB,CAAA;EAChC,MAAMC,OAAO,GAAGP,KAAK,CAACQ,KAAK,CAACF,KAAK,CAAC,IAAI,EAAE,CAAA;AACxC,EAAA,OAAOC,OAAO,CAACE,GAAG,CAACC,UAAU,CAAC,CAAA;AAChC;;ACFO,SAASC,QAAQA,CAACC,KAAoB,EAAsB;AAAA,EAAA,IAAAC,aAAA,CAAA;EACjE,MAAM;AACJC,IAAAA,QAAQ,GAAG,KAAK;AAChBC,IAAAA,KAAK,GAAG,MAAM;AACdC,IAAAA,iBAAiB,GAAG,MAAM;IAC1BC,KAAK,GAAG,EAAE;AACVC,IAAAA,IAAI,GAAG,EAAE;AACTC,IAAAA,EAAE,GAAG,EAAE;AACPC,IAAAA,SAAS,GAAG,EAAE;AACdC,IAAAA,cAAc,GAAG,EAAA;AACnB,GAAC,GAAGT,KAAK,CAAA;EACT,MAAM;IACJzC,OAAO;IACPE,QAAQ;IACRC,QAAQ;IACRC,OAAO;AACPC,IAAAA,MAAAA;GACD,GAAGI,gBAAgB,EAAE,CAAA;;AAEtB;EACA,MAAM,CAAC0C,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC,CAAA;AAE9D,EAAA,MAAMiC,WAAW,GAAA,CAAAX,aAAA,GAAGd,YAAY,CAACgB,KAAK,CAAC,MAAA,IAAA,IAAAF,aAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAnBA,aAAA,CAAsB,CAAC,CAAC,CAAA;AAC5C,EAAA,MAAMY,YAAY,GAAGD,WAAW,GAAG,CAAC,CAAA;AACpC;AACA,EAAA,MAAME,OAAO,GAAGD,YAAY,GAAG,GAAG,CAAA;EAElC,oBACE/C,cAAA,CAAAkB,aAAA,CAAA,OAAA,EAAA;AACE+B,IAAAA,SAAS,EAAE,CACT,8BAA8B,EAC9BL,iBAAiB,EACjBnD,OAAO,GAAG,uCAAuC,GAAG,yCAAyC,EAC7FE,QAAQ,GAAG,wCAAwC,GAAG,EAAE,EACxDyC,QAAQ,GAAG,wCAAwC,GAAG,EAAE,CACzD,CAACc,IAAI,EAAE,CAACC,IAAI,CAAC,GAAG,CAAE;AACnBZ,IAAAA,KAAK,EAAAa,cAAA,CAAA;MACHf,KAAK,EAAG,CAAES,EAAAA,WAAY,CAAG,EAAA,CAAA;MACzBO,MAAM,EAAG,CAAEN,EAAAA,YAAa,CAAG,EAAA,CAAA;MAC3BO,YAAY,EAAG,GAAEN,OAAQ,CAAA,EAAA,CAAA;AAAG,KAAA,EACzBT,KAAK,CAAA;GAGVvC,eAAAA,cAAA,CAAAkB,aAAA,CAAA,KAAA,EAAA;AACE+B,IAAAA,SAAS,EAAE,CACT,yCAAyC,EACzCxD,OAAO,GACH,mDAAmD,GACnD,qDAAqD,CAC1D,CAAC0D,IAAI,CAAC,GAAG,CAAE;AACZZ,IAAAA,KAAK,EAAE;MACLF,KAAK,EAAG,CAAEW,EAAAA,OAAQ,CAAG,EAAA,CAAA;MACrBK,MAAM,EAAG,CAAEL,EAAAA,OAAQ,CAAG,EAAA,CAAA;AACtBV,MAAAA,iBAAAA;AACF,KAAA;GACA,CAAA,eACFtC,cAAA,CAAAkB,aAAA,CAAA,OAAA,EAAA;AACEqC,IAAAA,IAAI,EAAC,UAAU;AACf,IAAA,YAAA,EAAYb,SAAU;AACtB,IAAA,iBAAA,EAAiBC,cAAe;AAChCH,IAAAA,IAAI,EAAEA,IAAK;AACXC,IAAAA,EAAE,EAAEA,EAAG;AACPhD,IAAAA,OAAO,EAAEA,OAAQ;AACjBE,IAAAA,QAAQ,EAAEA,QAAS;IACnBC,QAAQ,EAAGoB,CAAC,IAAK;MACfpB,QAAQ,CAACoB,CAAC,CAAC,CAAA;MACX6B,oBAAoB,CAAC7B,CAAC,CAACC,aAAa,CAACxB,OAAO,GAAG,yCAAyC,GAAG,0CAA0C,CAAC,CAAA;KACtI;AACFI,IAAAA,OAAO,EAAEA,OAAQ;AACjBC,IAAAA,MAAM,EAAEA,MAAAA;AAAO,GAAA,CACf,CACI,CAAA;AAEZ;;AC9EA,SAAS0D,MAAMA,CAACtB,KAAkB,EAAsB;EACtD,MAAM;AACJ;IACAzC,OAAO;IACPC,cAAc;IACdC,QAAQ;IACRC,QAAQ;IACRC,OAAO;IACPC,MAAM;AACN;IACAmD,SAAS;IACTb,QAAQ;IACRC,KAAK;AACL;IACAC,iBAAiB;IACjBC,KAAK;IACLC,IAAI;IACJC,EAAE;IACFC,SAAS;AACTC,IAAAA,cAAAA;AACF,GAAC,GAAGT,KAAK,CAAA;EACT,oBACElC,cAAA,CAAAkB,aAAA,CAAA,KAAA,EAAA;IAAK+B,SAAS,EAAG,sBAAqBA,SAAU,CAAA,CAAA;AAAE,GAAA,eAChDjD,cAAA,CAAAkB,aAAA,CAACX,eAAe,EAAA;AACdd,IAAAA,OAAO,EAAEA,OAAQ;AACjBC,IAAAA,cAAc,EAAEA,cAAe;AAC/BC,IAAAA,QAAQ,EAAEA,QAAS;AACnBC,IAAAA,QAAQ,EAAEA,QAAS;AACnBC,IAAAA,OAAO,EAAEA,OAAQ;AACjBC,IAAAA,MAAM,EAAEA,MAAAA;AAAO,GAAA,eAEfE,cAAA,CAAAkB,aAAA,CAACe,QAAQ,EAAA;AACPG,IAAAA,QAAQ,EAAEA,QAAS;AACnBC,IAAAA,KAAK,EAAEA,KAAM;AACbC,IAAAA,iBAAiB,EAAEA,iBAAkB;AACrCC,IAAAA,KAAK,EAAEA,KAAM;AACbC,IAAAA,IAAI,EAAEA,IAAK;AACXC,IAAAA,EAAE,EAAEA,EAAG;AACPC,IAAAA,SAAS,EAAEA,SAAU;AACrBC,IAAAA,cAAc,EAAEA,cAAAA;AAAe,GAAA,CAC/B,CACc,CACd,CAAA;AAEV;;;;"}