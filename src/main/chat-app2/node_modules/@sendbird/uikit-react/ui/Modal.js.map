{"version":3,"file":"Modal.js","sources":["../../src/ui/Modal/index.tsx"],"sourcesContent":["import React, { ReactElement, useContext } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nimport Button, { ButtonTypes } from '../Button';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { useMediaQueryContext } from '../../lib/MediaQueryContext';\n\nexport interface ModalHeaderProps {\n  titleText: string;\n}\nexport const ModalHeader = ({ titleText }: ModalHeaderProps): ReactElement => (\n  <div className=\"sendbird-modal__header\">\n    <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n      {titleText}\n    </Label>\n  </div>\n);\n\nexport interface ModalBodyProps {\n  children?: ReactElement;\n}\nexport const ModalBody = ({ children }: ModalBodyProps): ReactElement => (\n  <div className=\"sendbird-modal__body\">\n    <Label\n      type={LabelTypography.SUBTITLE_1}\n      color={LabelColors.ONBACKGROUND_2}\n    >\n      {children}\n    </Label>\n  </div>\n);\n\nexport interface ModalFooterProps {\n  submitText: string;\n  disabled?: boolean;\n  type?: ButtonTypes;\n  onCancel: () => void;\n  onSubmit: (e: SubmitEvent) => void;\n}\nexport const ModalFooter = ({\n  submitText,\n  disabled = false,\n  type = ButtonTypes.DANGER,\n  onSubmit,\n  onCancel,\n}: ModalFooterProps): ReactElement => {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-modal__footer\">\n      <Button type={ButtonTypes.SECONDARY} onClick={onCancel}>\n        <Label type={LabelTypography.BUTTON_1} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.BUTTON__CANCEL}\n        </Label>\n      </Button>\n      <Button type={type} disabled={disabled} onClick={onSubmit}>\n        {submitText}\n      </Button>\n    </div>\n  );\n};\n\nexport interface ModalProps {\n  children?: ReactElement;\n  className?: string;\n  isCloseOnClickOutside?: boolean;\n  isFullScreenOnMobile?: boolean;\n  titleText?: string;\n  submitText?: string;\n  disabled?: boolean;\n  hideFooter?: boolean;\n  type?: ButtonTypes;\n  onCancel?: () => void;\n  onSubmit?: (e: SubmitEvent) => void;\n  renderHeader?: () => ReactElement;\n}\nexport default function Modal(props: ModalProps): ReactElement {\n  const {\n    children = null,\n    className = '',\n    isCloseOnClickOutside = false,\n    isFullScreenOnMobile = false,\n    titleText,\n    submitText,\n    disabled = false,\n    hideFooter = false,\n    type = ButtonTypes.DANGER,\n    onCancel = () => { /* noop */ },\n    onSubmit = () => { /* noop */ },\n    renderHeader,\n  } = props;\n\n  const { isMobile } = useMediaQueryContext();\n  return createPortal((\n    <div className={`\n      sendbird-modal ${className}\n      ${(isFullScreenOnMobile && isMobile) ? 'sendbird-modal--full-mobile' : ''}\n    `}>\n      <div className=\"sendbird-modal__content\">\n        {renderHeader?.() || (\n          <ModalHeader titleText={titleText} />\n        )}\n        <ModalBody>{children}</ModalBody>\n        {\n          !hideFooter && (\n            <ModalFooter\n              disabled={disabled}\n              onCancel={onCancel}\n              onSubmit={onSubmit}\n              submitText={submitText}\n              type={type}\n            />\n          )\n        }\n        <div className=\"sendbird-modal__close\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={onCancel}\n          >\n            <Icon\n              type={IconTypes.CLOSE}\n              fillColor={IconColors.DEFAULT}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div\n        className={`\n          sendbird-modal__backdrop\n          ${isCloseOnClickOutside && 'sendbird-modal__backdrop--clickoutside'}\n        `}\n        onClick={(e) => {\n          e?.stopPropagation();\n          if (isCloseOnClickOutside) {\n            onCancel();\n          }\n        }}\n      />\n    </div>\n  ), document.getElementById(MODAL_ROOT));\n}\n"],"names":["ModalHeader","_ref","titleText","React","createElement","className","Label","type","LabelTypography","H_1","color","LabelColors","ONBACKGROUND_1","ModalBody","_ref2","children","SUBTITLE_1","ONBACKGROUND_2","ModalFooter","_ref3","submitText","disabled","ButtonTypes","DANGER","onSubmit","onCancel","stringSet","useContext","LocalizationContext","Button","SECONDARY","onClick","BUTTON_1","BUTTON__CANCEL","Modal","props","isCloseOnClickOutside","isFullScreenOnMobile","hideFooter","renderHeader","isMobile","useMediaQueryContext","createPortal","IconButton","width","height","Icon","IconTypes","CLOSE","fillColor","IconColors","DEFAULT","e","stopPropagation","document","getElementById","MODAL_ROOT"],"mappings":"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"}