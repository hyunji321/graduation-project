{"version":3,"file":"SelectChannelType.js","sources":["../../../src/modules/CreateChannel/utils.ts","../../../src/modules/CreateChannel/components/SelectChannelType.tsx"],"sourcesContent":["import type { SendbirdGroupChat } from '@sendbird/chat/groupChannel';\n\nexport const isBroadcastChannelEnabled = (sdk: SendbirdGroupChat): boolean => {\n  const ALLOW_BROADCAST_CHANNEL = 'allow_broadcast_channel';\n  const applicationAttributes = sdk?.appInfo?.applicationAttributes;\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_BROADCAST_CHANNEL);\n  }\n\n  return false;\n};\n\nexport const isSuperGroupChannelEnabled = (sdk: SendbirdGroupChat): boolean => {\n  const ALLOW_SUPER_GROUP_CHANNEL = 'allow_super_group_channel';\n  const applicationAttributes = sdk?.appInfo?.applicationAttributes;\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_SUPER_GROUP_CHANNEL);\n  }\n\n  return false;\n};\n","import React, { useContext } from 'react';\nimport type { SendbirdGroupChat } from '@sendbird/chat/groupChannel';\n\nimport * as sendbirdSelectors from '../../../lib/selectors';\nimport useSendbirdStateContext from '../../../hooks/useSendbirdStateContext';\n\nimport { useCreateChannelContext } from '../context/CreateChannelProvider';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\n\nimport Modal from '../../../ui/Modal';\n\nimport {\n  isBroadcastChannelEnabled,\n  isSuperGroupChannelEnabled,\n} from '../utils';\nimport { CHANNEL_TYPE } from '../types';\n\nexport interface SelectChannelTypeProps {\n  onCancel?(): void;\n}\n\nconst SelectChannelType: React.FC<SelectChannelTypeProps> = (props: SelectChannelTypeProps) => {\n  const { onCancel } = props;\n  const store = useSendbirdStateContext();\n\n  const sdk = sendbirdSelectors.getSdk(store) as SendbirdGroupChat;\n\n  const createChannelProps = useCreateChannelContext();\n  const {\n    setStep,\n    setType,\n  } = createChannelProps;\n\n  const { stringSet } = useContext(LocalizationContext);\n\n  const isBroadcastAvailable = isBroadcastChannelEnabled(sdk);\n  const isSupergroupAvailable = isSuperGroupChannelEnabled(sdk);\n\n  return (\n    <Modal\n      titleText={stringSet?.MODAL__CREATE_CHANNEL__TITLE}\n      hideFooter\n      onCancel={() => { onCancel(); }}\n      className=\"sendbird-add-channel__modal\"\n    >\n      <div className=\"sendbird-add-channel__rectangle-wrap\">\n        <div\n          className=\"sendbird-add-channel__rectangle\"\n          onClick={() => {\n            setType(CHANNEL_TYPE.GROUP);\n            setStep(1);\n          }}\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={() => {\n            setType(CHANNEL_TYPE.GROUP);\n            setStep(1);\n          }}\n        >\n          <Icon\n            className=\"sendbird-add-channel__rectangle__chat-icon\"\n            type={IconTypes.CHAT}\n            fillColor={IconColors.PRIMARY}\n            width=\"28px\"\n            height=\"28px\"\n          />\n          <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.MODAL__CREATE_CHANNEL__GROUP}\n          </Label>\n        </div>\n        {\n          isSupergroupAvailable && (\n            <div\n              className=\"sendbird-add-channel__rectangle\"\n              onClick={() => {\n                setType(CHANNEL_TYPE.SUPERGROUP);\n                setStep(1);\n              }}\n              role=\"button\"\n              tabIndex={0}\n              onKeyDown={() => {\n                setType(CHANNEL_TYPE.SUPERGROUP);\n                setStep(1);\n              }}\n            >\n              <Icon\n                className=\"sendbird-add-channel__rectangle__supergroup-icon\"\n                type={IconTypes.SUPERGROUP}\n                fillColor={IconColors.PRIMARY}\n                width=\"28px\"\n                height=\"28px\"\n              />\n              <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                {stringSet.MODAL__CREATE_CHANNEL__SUPER}\n              </Label>\n            </div>\n          )\n        }\n        {\n          isBroadcastAvailable && (\n            <div\n              className=\"sendbird-add-channel__rectangle\"\n              onClick={() => {\n                setType(CHANNEL_TYPE.BROADCAST);\n                setStep(1);\n              }}\n              role=\"button\"\n              tabIndex={0}\n              onKeyDown={() => {\n                setType(CHANNEL_TYPE.BROADCAST);\n                setStep(1);\n              }}\n            >\n              <Icon\n                className=\"sendbird-add-channel__rectangle__broadcast-icon\"\n                type={IconTypes.BROADCAST}\n                fillColor={IconColors.PRIMARY}\n                width=\"28px\"\n                height=\"28px\"\n              />\n              <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                {stringSet.MODAL__CREATE_CHANNEL__BROADCAST}\n              </Label>\n            </div>\n          )\n        }\n      </div>\n    </Modal>\n  );\n};\n\nexport default SelectChannelType;\n"],"names":["isBroadcastChannelEnabled","sdk","_sdk$appInfo","ALLOW_BROADCAST_CHANNEL","applicationAttributes","appInfo","Array","isArray","includes","isSuperGroupChannelEnabled","_sdk$appInfo2","ALLOW_SUPER_GROUP_CHANNEL","SelectChannelType","props","onCancel","store","useSendbirdStateContext","sendbirdSelectors","createChannelProps","useCreateChannelContext","setStep","setType","stringSet","useContext","LocalizationContext","isBroadcastAvailable","isSupergroupAvailable","React","createElement","Modal","titleText","MODAL__CREATE_CHANNEL__TITLE","hideFooter","className","onClick","CHANNEL_TYPE","GROUP","role","tabIndex","onKeyDown","Icon","type","IconTypes","CHAT","fillColor","IconColors","PRIMARY","width","height","Label","LabelTypography","SUBTITLE_1","color","LabelColors","ONBACKGROUND_1","MODAL__CREATE_CHANNEL__GROUP","SUPERGROUP","MODAL__CREATE_CHANNEL__SUPER","BROADCAST","MODAL__CREATE_CHANNEL__BROADCAST"],"mappings":"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"}