{"version":3,"file":"ChannelUI.js","sources":["../../../../src/modules/Channel/components/ChannelUI/index.tsx"],"sourcesContent":["import './channel-ui.scss';\n\nimport React from 'react';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport ConnectionStatus from '../../../../ui/ConnectionStatus';\nimport ChannelHeader from '../ChannelHeader';\nimport MessageList from '../MessageList';\nimport TypingIndicator from '../TypingIndicator';\nimport MessageInputWrapper from '../MessageInput';\nimport { RenderCustomSeparatorProps, RenderMessageProps } from '../../../../types';\n\nexport interface ChannelUIProps {\n  isLoading?: boolean;\n  renderPlaceholderLoader?: () => React.ReactElement;\n  renderPlaceholderInvalid?: () => React.ReactElement;\n  renderPlaceholderEmpty?: () => React.ReactElement;\n  renderChannelHeader?: () => React.ReactElement;\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderMessageInput?: () => React.ReactElement;\n  renderFileUploadIcon?: () => React.ReactElement;\n  renderVoiceMessageIcon?: () => React.ReactElement;\n  renderSendMessageIcon?: () => React.ReactElement;\n  renderTypingIndicator?: () => React.ReactElement;\n  renderCustomSeparator?: (props: RenderCustomSeparatorProps) => React.ReactElement;\n}\n\nconst ChannelUI: React.FC<ChannelUIProps> = ({\n  isLoading,\n  renderPlaceholderLoader,\n  renderPlaceholderInvalid,\n  renderPlaceholderEmpty,\n  renderChannelHeader,\n  renderMessage,\n  renderMessageInput,\n  renderTypingIndicator,\n  renderCustomSeparator,\n  renderFileUploadIcon,\n  renderVoiceMessageIcon,\n  renderSendMessageIcon,\n}: ChannelUIProps) => {\n  const {\n    channelUrl,\n    isInvalid,\n  } = useChannelContext();\n\n  const globalStore = useSendbirdStateContext();\n  const sdkError = globalStore?.stores?.sdkStore?.error;\n  const logger = globalStore?.config?.logger;\n  const isOnline = globalStore?.config?.isOnline;\n\n  if (isLoading) {\n    return (<div className=\"sendbird-conversation\">\n      {\n        renderPlaceholderLoader?.() || (\n          <PlaceHolder type={PlaceHolderTypes.LOADING} />\n        )\n      }\n    </div>);\n  }\n\n  if (!channelUrl) {\n    return (<div className=\"sendbird-conversation\">\n      {\n        renderPlaceholderInvalid?.() || (\n          <PlaceHolder type={PlaceHolderTypes.NO_CHANNELS} />\n        )\n      }\n    </div>);\n  }\n  if (isInvalid) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder type={PlaceHolderTypes.WRONG} />\n          )\n        }\n      </div>\n    );\n  }\n  if (sdkError) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder\n              type={PlaceHolderTypes.WRONG}\n              retryToConnect={() => {\n                logger.info('Channel: reconnecting');\n                // reconnect();\n              }}\n            />\n          )\n        }\n      </div>\n    );\n  }\n  return (\n    <div className='sendbird-conversation'>\n      {renderChannelHeader?.() || (\n        <ChannelHeader className=\"sendbird-conversation__channel-header\" />\n      )}\n      <MessageList\n        className=\"sendbird-conversation__message-list\"\n        renderMessage={renderMessage}\n        renderPlaceholderEmpty={renderPlaceholderEmpty}\n        renderCustomSeparator={renderCustomSeparator}\n        renderPlaceholderLoader={renderPlaceholderLoader}\n      />\n      <div className=\"sendbird-conversation__footer\">\n        {\n          renderMessageInput?.() || (\n            <MessageInputWrapper\n              renderFileUploadIcon={renderFileUploadIcon}\n              renderVoiceMessageIcon={renderVoiceMessageIcon}\n              renderSendMessageIcon={renderSendMessageIcon}\n            />\n          )\n        }\n        <div className=\"sendbird-conversation__footer__typing-indicator\">\n          {\n            renderTypingIndicator?.() || (\n              <TypingIndicator />\n            )\n          }\n          {\n            !isOnline && (\n              <ConnectionStatus />\n            )\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChannelUI;\n"],"names":["ChannelUI","_ref","_globalStore$stores","_globalStore$stores$s","_globalStore$config","_globalStore$config2","isLoading","renderPlaceholderLoader","renderPlaceholderInvalid","renderPlaceholderEmpty","renderChannelHeader","renderMessage","renderMessageInput","renderTypingIndicator","renderCustomSeparator","renderFileUploadIcon","renderVoiceMessageIcon","renderSendMessageIcon","channelUrl","isInvalid","useChannelContext","globalStore","useSendbirdStateContext","sdkError","stores","sdkStore","error","logger","config","isOnline","React","createElement","className","PlaceHolder","type","PlaceHolderTypes","LOADING","NO_CHANNELS","WRONG","retryToConnect","info","ChannelHeader","MessageList","MessageInputWrapper","TypingIndicator","ConnectionStatus"],"mappings":"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"}