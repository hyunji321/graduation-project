{"version":3,"file":"CreateChannelProvider-2f105a5c.js","sources":["../../src/modules/CreateChannel/types.ts","../../src/modules/CreateChannel/context/CreateChannelProvider.tsx"],"sourcesContent":["export enum CHANNEL_TYPE {\n  GROUP = 'group',\n  SUPERGROUP = 'supergroup',\n  BROADCAST = 'broadcast',\n}\n","import React, { useState } from 'react';\nimport { User } from '@sendbird/chat';\nimport type {\n  GroupChannel,\n  GroupChannelCreateParams,\n  SendbirdGroupChat,\n} from '@sendbird/chat/groupChannel';\n\nimport { getCreateGroupChannel } from '../../../lib/selectors';\nimport useSendbirdStateContext from '../../../hooks/useSendbirdStateContext';\nimport { CHANNEL_TYPE } from '../types';\n\nconst CreateChannelContext = React.createContext(undefined);\n\nexport interface UserListQuery {\n  hasNext?: boolean;\n  next(): Promise<Array<User>>;\n}\n\ntype OverrideInviteUserType = {\n  users: Array<string>;\n  onClose: () => void;\n  channelType: CHANNEL_TYPE;\n};\n\nexport interface CreateChannelProviderProps {\n  children?: React.ReactElement;\n  onCreateChannel(channel: GroupChannel): void;\n  overrideInviteUser?(params: OverrideInviteUserType): void;\n  onBeforeCreateChannel?(users: Array<string>): GroupChannelCreateParams;\n  userListQuery?(): UserListQuery;\n}\n\ntype CreateChannel = (channelParams: GroupChannelCreateParams) => Promise<GroupChannel>;\n\nexport interface CreateChannelContextInterface {\n  onBeforeCreateChannel?(users: Array<string>): GroupChannelCreateParams;\n  createChannel: CreateChannel;\n  sdk: SendbirdGroupChat;\n  userListQuery?(): UserListQuery;\n  overrideInviteUser?(params: OverrideInviteUserType): void;\n  onCreateChannel?(channel: GroupChannel): void;\n  step: number,\n  setStep: React.Dispatch<React.SetStateAction<number>>,\n  type: CHANNEL_TYPE,\n  setType: React.Dispatch<React.SetStateAction<CHANNEL_TYPE>>,\n}\n\nconst CreateChannelProvider: React.FC<CreateChannelProviderProps> = (props: CreateChannelProviderProps) => {\n  const {\n    children,\n    onCreateChannel,\n    onBeforeCreateChannel,\n    overrideInviteUser,\n    userListQuery,\n  } = props;\n\n  const store = useSendbirdStateContext();\n  const userListQuery_ = store?.config?.userListQuery;\n  const createChannel: (channelParams: GroupChannelCreateParams)\n    => Promise<GroupChannel> = getCreateGroupChannel(store);\n\n  const [step, setStep] = useState(0);\n  const [type, setType] = useState(CHANNEL_TYPE.GROUP);\n\n  return (\n    <CreateChannelContext.Provider value={{\n      onBeforeCreateChannel,\n      createChannel,\n      onCreateChannel,\n      overrideInviteUser,\n      userListQuery: userListQuery || userListQuery_,\n      step,\n      setStep,\n      type,\n      setType,\n    }}>\n      {children}\n    </CreateChannelContext.Provider>\n  );\n};\n\nconst useCreateChannelContext = (): CreateChannelContextInterface => (\n  React.useContext(CreateChannelContext)\n);\n\nexport {\n  CreateChannelProvider,\n  useCreateChannelContext,\n};\n"],"names":["CHANNEL_TYPE","CreateChannelContext","React","createContext","undefined","CreateChannelProvider","props","_store$config","children","onCreateChannel","onBeforeCreateChannel","overrideInviteUser","userListQuery","store","useSendbirdStateContext","userListQuery_","config","createChannel","getCreateGroupChannel","step","setStep","useState","type","setType","GROUP","createElement","Provider","value","useCreateChannelContext","useContext"],"mappings":";;;;;;;;;;AAAYA,IAAAA,YAAY,0BAAZA,YAAY,EAAA;EAAZA,YAAY,CAAA,OAAA,CAAA,GAAA,OAAA,CAAA;EAAZA,YAAY,CAAA,YAAA,CAAA,GAAA,YAAA,CAAA;EAAZA,YAAY,CAAA,WAAA,CAAA,GAAA,WAAA,CAAA;AAAA,EAAA,OAAZA,YAAY,CAAA;AAAA,CAAA,CAAA,EAAA;;ACYxB,MAAMC,oBAAoB,gBAAGC,yBAAK,CAACC,aAAa,CAACC,SAAS,CAAC,CAAA;AAoCrDC,MAAAA,qBAA2D,GAAIC,KAAiC,IAAK;AAAA,EAAA,IAAAC,aAAA,CAAA;EACzG,MAAM;IACJC,QAAQ;IACRC,eAAe;IACfC,qBAAqB;IACrBC,kBAAkB;AAClBC,IAAAA,aAAAA;AACF,GAAC,GAAGN,KAAK,CAAA;EAET,MAAMO,KAAK,GAAGC,uBAAuB,EAAE,CAAA;AACvC,EAAA,MAAMC,cAAc,GAAGF,KAAK,KAALA,IAAAA,IAAAA,KAAK,wBAAAN,aAAA,GAALM,KAAK,CAAEG,MAAM,MAAAT,IAAAA,IAAAA,aAAA,KAAbA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,aAAA,CAAeK,aAAa,CAAA;AACnD,EAAA,MAAMK,aACoB,GAAGC,uCAAqB,CAACL,KAAK,CAAC,CAAA;EAEzD,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGC,cAAQ,CAAC,CAAC,CAAC,CAAA;EACnC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGF,cAAQ,CAACrB,YAAY,CAACwB,KAAK,CAAC,CAAA;AAEpD,EAAA,oBACEtB,yBAAA,CAAAuB,aAAA,CAACxB,oBAAoB,CAACyB,QAAQ,EAAA;AAACC,IAAAA,KAAK,EAAE;MACpCjB,qBAAqB;MACrBO,aAAa;MACbR,eAAe;MACfE,kBAAkB;MAClBC,aAAa,EAAEA,aAAa,IAAIG,cAAc;MAC9CI,IAAI;MACJC,OAAO;MACPE,IAAI;AACJC,MAAAA,OAAAA;AACF,KAAA;AAAE,GAAA,EACCf,QAAQ,CACqB,CAAA;AAEpC,EAAC;AAEKoB,MAAAA,uBAAuB,GAAGA,MAC9B1B,yBAAK,CAAC2B,UAAU,CAAC5B,oBAAoB;;;;;;"}