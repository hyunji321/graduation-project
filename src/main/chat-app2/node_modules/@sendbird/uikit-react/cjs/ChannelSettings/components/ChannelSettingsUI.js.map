{"version":3,"file":"ChannelSettingsUI.js","sources":["../../../../src/modules/ChannelSettings/components/ChannelSettingsUI/index.tsx"],"sourcesContent":["import './channel-settings-ui.scss';\n\nimport React, { useContext, useState } from 'react';\n\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\n\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport IconButton from '../../../../ui/IconButton';\nimport ChannelProfile from '../ChannelProfile';\nimport ModerationPanel from '../ModerationPanel';\nimport LeaveChannelModal from '../LeaveChannel';\nimport UserPanel from '../UserPanel';\n\nexport interface ChannelSettingsUIProps {\n  renderPlaceholderError?: () => React.ReactElement;\n  renderChannelProfile?: () => React.ReactElement;\n  renderModerationPanel?: () => React.ReactElement;\n  renderLeaveChannel?: () => React.ReactElement;\n}\n\nconst ChannelSettingsUI: React.FC<ChannelSettingsUIProps> = (props: ChannelSettingsUIProps) => {\n  const { stringSet } = useContext(LocalizationContext);\n\n  const state = useSendbirdStateContext();\n  const channelSettingStore = useChannelSettingsContext();\n\n  const [showLeaveChannelModal, setShowLeaveChannelModal] = useState(false);\n\n  const isOnline = state?.config?.isOnline;\n  const logger = state?.config?.logger;\n\n  const {\n    channel,\n    invalidChannel,\n    onCloseClick,\n  } = channelSettingStore;\n\n  const {\n    renderPlaceholderError,\n    renderChannelProfile,\n    renderModerationPanel,\n    renderLeaveChannel,\n  } = props;\n\n  if (!channel || invalidChannel) {\n    return (\n      <div>\n        <div className=\"sendbird-channel-settings__header\">\n          <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n          </Label>\n          <Icon\n            className=\"sendbird-channel-settings__close-icon\"\n            type={IconTypes.CLOSE}\n            height=\"24px\"\n            width=\"24px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick?.();\n            }}\n          />\n        </div>\n        <div>\n          {\n            renderPlaceholderError\n              ? renderPlaceholderError()\n              : (\n                <PlaceHolder type={PlaceHolderTypes.WRONG} />\n              )\n          }\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"sendbird-channel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <div className=\"sendbird-channel-settings__header-icon\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick?.();\n            }}\n          >\n            <Icon\n              className=\"sendbird-channel-settings__close-icon\"\n              type={IconTypes.CLOSE}\n              height=\"22px\"\n              width=\"22px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-channel-settings__scroll-area\">\n        {\n          renderChannelProfile?.() || (\n            <ChannelProfile />\n          )\n        }\n        {\n          renderModerationPanel?.() || (\n            channel?.myRole === 'operator'\n              ? (<ModerationPanel />)\n              : (<UserPanel />)\n          )\n        }\n        {\n          renderLeaveChannel?.() || (\n            <div\n              className={[\n                'sendbird-channel-settings__panel-item',\n                'sendbird-channel-settings__leave-channel',\n                !isOnline ? 'sendbird-channel-settings__panel-item__disabled' : '',\n              ].join(' ')}\n              role=\"button\"\n              onKeyDown={() => {\n                if (!isOnline) { return; }\n                setShowLeaveChannelModal(true);\n              }}\n              onClick={() => {\n                if (!isOnline) { return; }\n                setShowLeaveChannelModal(true);\n              }}\n              tabIndex={0}\n            >\n              <Icon\n                className={[\n                  'sendbird-channel-settings__panel-icon-left',\n                  'sendbird-channel-settings__panel-icon__leave',\n                ].join(' ')}\n                type={IconTypes.LEAVE}\n                fillColor={IconColors.ERROR}\n                height=\"24px\"\n                width=\"24px\"\n              />\n              <Label\n                type={LabelTypography.SUBTITLE_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {stringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n              </Label>\n            </div>\n          )\n        }\n        {\n          showLeaveChannelModal && (\n            <LeaveChannelModal\n              onCancel={() => {\n                setShowLeaveChannelModal(false);\n              }}\n              onSubmit={() => {\n                setShowLeaveChannelModal(false);\n                onCloseClick?.();\n              }}\n            />\n          )\n        }\n      </div>\n    </>\n  );\n};\n\nexport default ChannelSettingsUI;\n"],"names":["ChannelSettingsUI","props","_state$config","_state$config2","stringSet","useContext","LocalizationContext","state","useSendbirdStateContext","channelSettingStore","useChannelSettingsContext","showLeaveChannelModal","setShowLeaveChannelModal","useState","isOnline","config","logger","channel","invalidChannel","onCloseClick","renderPlaceholderError","renderChannelProfile","renderModerationPanel","renderLeaveChannel","React","createElement","className","Label","type","LabelTypography","H_2","color","LabelColors","ONBACKGROUND_1","CHANNEL_SETTING__HEADER__TITLE","Icon","IconTypes","CLOSE","height","width","onClick","info","PlaceHolder","PlaceHolderTypes","WRONG","Fragment","IconButton","ChannelProfile","myRole","ModerationPanel","UserPanel","join","role","onKeyDown","tabIndex","LEAVE","fillColor","IconColors","ERROR","SUBTITLE_1","CHANNEL_SETTING__LEAVE_CHANNEL__TITLE","LeaveChannelModal","onCancel","onSubmit"],"mappings":"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"}