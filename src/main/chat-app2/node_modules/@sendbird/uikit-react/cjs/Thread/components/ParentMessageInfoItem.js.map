{"version":3,"file":"ParentMessageInfoItem.js","sources":["../../../../src/modules/Thread/components/ParentMessageInfo/ParentMessageInfoItem.tsx"],"sourcesContent":["import React, { ReactElement, useMemo, useState } from 'react';\nimport { FileMessage, UserMessage } from '@sendbird/chat/message';\n\nimport './ParentMessageInfoItem.scss';\n\nimport { useLocalization } from '../../../../lib/LocalizationContext';\nimport {\n  getUIKitFileType,\n  getUIKitMessageType,\n  getUIKitMessageTypes,\n  isEditedMessage,\n  isVoiceMessage,\n  isGifMessage,\n  // isOGMessage,\n  isSentMessage,\n  isThumbnailMessage,\n  isUserMessage,\n  isVideoMessage,\n  truncateString,\n} from '../../../../utils';\n\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport ImageRenderer from '../../../../ui/ImageRenderer';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport TextButton from '../../../../ui/TextButton';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport EmojiReactions from '../../../../ui/EmojiReactions';\nimport { useThreadContext } from '../../context/ThreadProvider';\nimport VoiceMessageItemBody from '../../../../ui/VoiceMessageItemBody';\nimport TextFragment from '../../../Message/components/TextFragment';\nimport { tokenizeMessage } from '../../../Message/utils/tokens/tokenize';\n\nexport interface ParentMessageInfoItemProps {\n  className?: string;\n  message: UserMessage | FileMessage;\n  showFileViewer?: (bool: boolean) => void;\n}\n\nexport default function ParentMessageInfoItem({\n  className,\n  message,\n  showFileViewer,\n}: ParentMessageInfoItemProps): ReactElement {\n  const { stores, config } = useSendbirdStateContext();\n  const {\n    replyType,\n    isMentionEnabled,\n    isReactionEnabled,\n  } = config;\n  const currentUserId = stores?.userStore?.user?.userId;\n  const { stringSet } = useLocalization();\n  const {\n    currentChannel,\n    emojiContainer,\n    nicknamesMap,\n    toggleReaction,\n  } = useThreadContext();\n\n  const isMentionedMessage = isMentionEnabled\n    && message?.mentionedMessageTemplate?.length > 0\n    && message?.mentionedUsers?.length > 0;\n\n  // Emoji reactions\n  const isReactionActivated = isReactionEnabled\n    && replyType === 'THREAD'\n    && !currentChannel?.isSuper\n    && !currentChannel?.isBroadcast\n    && message?.reactions?.length > 0;\n\n  const tokens = useMemo(() => {\n    if (isMentionedMessage) {\n      return tokenizeMessage({\n        mentionedUsers: message?.mentionedUsers,\n        messageText: message?.mentionedMessageTemplate,\n      });\n    }\n    return tokenizeMessage({\n      messageText: (message as UserMessage)?.message,\n    });\n  }, [message?.updatedAt]);\n\n  // Thumbnail mesage\n  const [isImageRendered, setImageRendered] = useState(false);\n  const thumbnailUrl: string = (message as FileMessage)?.thumbnails?.length > 0\n    ? (message as FileMessage)?.thumbnails[0]?.url : '';\n\n  return (\n    <div className={`sendbird-parent-message-info-item ${className}`}>\n      {isUserMessage(message) && (\n        <Label\n          className=\"sendbird-parent-message-info-item__text-message\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          <TextFragment tokens={tokens} />\n          {isEditedMessage(message) && (\n            <Label\n              className=\"sendbird-parent-message-info-item__text-message edited\"\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {` ${stringSet.MESSAGE_EDITED} `}\n            </Label>\n          )}\n        </Label>\n      )}\n      {/* Will enable ogMessage after Server support - getMessage including og_tag */}\n      {/* {isOGMessage(message) && (\n        <div\n          className=\"sendbird-parent-message-info-item__og-field\"\n          onClick={openUrl}\n        >\n          <ImageRenderer\n            className=\"sendbird-parent-message-info-item__og-field__thumbnail\"\n            url={message?.ogMetaData?.defaultImage?.url || ''}\n            alt={message?.ogMetaData?.defaultImage?.alt || ''}\n            width=\"200px\"\n            height=\"148px\"\n            defaultComponent={() => (\n              <div className=\"sendbird-parent-message-info-item__og-field__thumbnail__placeholder\">\n                <Icon\n                  className=\"sendbird-parent-message-info-item__og-field__thumbnail__placeholder__icon\"\n                  type={IconTypes.THUMBNAIL_NONE}\n                  fillColor={IconColors.ON_BACKGROUND_2}\n                  width=\"56px\"\n                  height=\"56px\"\n                />\n              </div>\n            )}\n          />\n          <div className=\"sendbird-parent-message-info-item__og-field__content\">\n            {message?.ogMetaData?.title && (\n              <Label\n                className=\"sendbird-parent-message-info-item__og-field__content__title\"\n                type={LabelTypography.SUBTITLE_2}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {message.ogMetaData.title}\n              </Label>\n            )}\n            {message?.ogMetaData?.description && (\n              <Label\n                className=\"sendbird-parent-message-info-item__og-field__content__description\"\n                type={LabelTypography.BODY_2}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {message.ogMetaData.description}\n              </Label>\n            )}\n            {message?.ogMetaData?.url && (\n              <Label\n                className=\"sendbird-parent-message-info-item__og-field__content__url\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_2}\n              >\n                {message.ogMetaData.url}\n              </Label>\n            )}\n          </div>\n        </div>\n      )} */}\n      {\n        (getUIKitMessageType((message as FileMessage)) === getUIKitMessageTypes().FILE) && (\n          <div className=\"sendbird-parent-message-info-item__file-message\">\n            <div className=\"sendbird-parent-message-info-item__file-message__file-icon\">\n              <Icon\n                className=\"sendbird-parent-message-info-item__file-message__file-icon__icon\"\n                type={{\n                  IMAGE: IconTypes.PHOTO,\n                  VIDEO: IconTypes.PLAY,\n                  AUDIO: IconTypes.FILE_AUDIO,\n                  GIF: IconTypes.GIF,\n                  OTHERS: IconTypes.FILE_DOCUMENT,\n                }[getUIKitFileType((message as FileMessage)?.type)]}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n            </div>\n            <TextButton\n              className=\"sendbird-parent-message-info-item__file-message__file-name\"\n              onClick={() => { window.open((message as FileMessage)?.url); }}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              <Label\n                className=\"sendbird-parent-message-info-item__file-message__file-name__text\"\n                type={LabelTypography.BODY_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {truncateString((message as FileMessage)?.name || (message as FileMessage)?.url, 30)}\n              </Label>\n            </TextButton>\n          </div>\n        )\n      }\n      {\n        isVoiceMessage(message as FileMessage) && (\n          <div className=\"sendbird-parent-message-info-item__voice-message\">\n            <VoiceMessageItemBody\n              className=\"sendbird-parent-message-info-item__voice-message__item\"\n              message={message as FileMessage}\n              channelUrl={currentChannel?.url}\n              isByMe={false}\n              isReactionEnabled={isReactionEnabled}\n            />\n          </div>\n        )\n      }\n      {isThumbnailMessage(message) && (\n        <div\n          className=\"sendbird-parent-message-info-item__thumbnail-message\"\n          onClick={() => {\n            if (isSentMessage(message)) {\n              showFileViewer(true);\n            }\n          }}\n        >\n          <ImageRenderer\n            className=\"sendbird-parent-message-info-item__thumbnail-message__thumbnail\"\n            url={thumbnailUrl || (message as FileMessage)?.url || (message as FileMessage)?.plainUrl}\n            alt={(message as FileMessage)?.type}\n            width=\"200px\"\n            height=\"148px\"\n            onLoad={() => { setImageRendered(true); }}\n            placeHolder={(style_: Record<string, any>) => (\n              <div\n                className=\"sendbird-parent-message-info-item__thumbnail-message__placeholder\"\n                style={style_}\n              >\n                <div className=\"sendbird-parent-message-info-item__thumbnail-message__placeholder__icon\">\n                  <Icon\n                    type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.PHOTO}\n                    fillColor={IconColors.ON_BACKGROUND_2}\n                    width=\"34px\"\n                    height=\"34px\"\n                  />\n                </div>\n              </div>\n            )}\n          />\n          {(isVideoMessage(message) && !thumbnailUrl) && !isImageRendered && (\n            <video className=\"sendbird-parent-message-info-item__thumbnail-message__video\">\n              <source src={(message as FileMessage)?.url || (message as FileMessage)?.plainUrl} type={(message as FileMessage)?.type} />\n            </video>\n          )}\n          <div className=\"sendbird-parent-message-info-item__thumbnail-message__image-cover\" />\n          {(isVideoMessage(message) || isGifMessage(message)) && (\n            <div className=\"sendbird-parent-message-info-item__thumbnail-message__icon-wrapper\">\n              <div className=\"sendbird-parent-message-info-item__thumbnail-message__icon-wrapper__icon\">\n                <Icon\n                  type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF}\n                  fillColor={IconColors.GRAY}\n                  width=\"34px\"\n                  height=\"34px\"\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n      {getUIKitMessageType(message) === getUIKitMessageTypes?.()?.UNKNOWN && (\n        <div className=\"sendbird-parent-message-info-item__unknown-message\">\n          <Label\n            className=\"sendbird-parent-message-info-item__unknown-message__header\"\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {stringSet.UNKNOWN__UNKNOWN_MESSAGE_TYPE}\n          </Label>\n          <Label\n            className=\"sendbird-parent-message-info-item__unknown-message__description\"\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {stringSet.UNKNOWN__CANNOT_READ_MESSAGE}\n          </Label>\n        </div>\n      )}\n\n      {/* reactions */}\n      {isReactionActivated && (\n        <div className=\"sendbird-parent-message-info__reactions\">\n          <EmojiReactions\n            userId={currentUserId}\n            message={message}\n            channel={currentChannel}\n            isByMe={false}\n            emojiContainer={emojiContainer}\n            memberNicknamesMap={nicknamesMap}\n            toggleReaction={toggleReaction}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["ParentMessageInfoItem","_ref","_stores$userStore","_stores$userStore$use","_message$mentionedMes","_message$mentionedUse","_message$reactions","_thumbnails","_thumbnails$","_getUIKitMessageTypes","className","message","showFileViewer","stores","config","useSendbirdStateContext","replyType","isMentionEnabled","isReactionEnabled","currentUserId","userStore","user","userId","stringSet","useLocalization","currentChannel","emojiContainer","nicknamesMap","toggleReaction","useThreadContext","isMentionedMessage","mentionedMessageTemplate","length","mentionedUsers","isReactionActivated","isSuper","isBroadcast","reactions","tokens","useMemo","tokenizeMessage","messageText","updatedAt","isImageRendered","setImageRendered","useState","thumbnailUrl","thumbnails","url","React","createElement","isUserMessage","Label","type","LabelTypography","BODY_1","color","LabelColors","ONBACKGROUND_1","TextFragment","isEditedMessage","ONBACKGROUND_2","MESSAGE_EDITED","getUIKitMessageType","getUIKitMessageTypes","FILE","Icon","IMAGE","IconTypes","PHOTO","VIDEO","PLAY","AUDIO","FILE_AUDIO","GIF","OTHERS","FILE_DOCUMENT","getUIKitFileType","fillColor","IconColors","PRIMARY","width","height","TextButton","onClick","window","open","truncateString","name","isVoiceMessage","VoiceMessageItemBody","channelUrl","isByMe","isThumbnailMessage","isSentMessage","ImageRenderer","plainUrl","alt","onLoad","placeHolder","style_","style","isVideoMessage","ON_BACKGROUND_2","src","isGifMessage","GRAY","UNKNOWN","UNKNOWN__UNKNOWN_MESSAGE_TYPE","UNKNOWN__CANNOT_READ_MESSAGE","EmojiReactions","channel","memberNicknamesMap"],"mappings":"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"}