{"version":3,"file":"OpenchannelUserMessage.js","sources":["../../../src/ui/OpenchannelUserMessage/index.tsx"],"sourcesContent":["import React, {\n  useContext,\n  useRef,\n  useState,\n  ReactElement,\n  useEffect,\n} from 'react';\nimport { UserMessage } from '@sendbird/chat/message';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\n\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport { copyToClipboard } from './utils';\nimport uuidv4 from '../../utils/uuid';\nimport {\n  checkIsPending,\n  checkIsFailed,\n  isFineCopy,\n  isFineEdit,\n  isFineResend,\n  isFineDelete,\n  showMenuTrigger,\n  getSenderFromMessage,\n} from '../../utils/openChannelUtils';\nimport { useMediaQueryContext } from '../../lib/MediaQueryContext';\nimport OpenChannelMobileMenu from '../OpenChannelMobileMenu';\nimport useLongPress from '../../hooks/useLongPress';\nimport { isEditedMessage } from '../../utils';\n\ninterface OpenChannelUserMessageProps {\n  className?: string | Array<string>;\n  message: UserMessage;\n  isOperator?: boolean;\n  isEphemeral?: boolean;\n  userId: string;\n  disabled?: boolean;\n  showEdit(bool: boolean): void;\n  showRemove(bool: boolean): void;\n  resendMessage(message: UserMessage): void;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n}\n\nexport default function OpenchannelUserMessage({\n  className,\n  message,\n  isOperator,\n  isEphemeral = false,\n  userId,\n  resendMessage,\n  disabled,\n  showEdit,\n  showRemove,\n  chainTop,\n}: OpenChannelUserMessageProps): ReactElement {\n  if (!message || message.messageType !== 'user') {\n    return null;\n  }\n\n  // hooks\n  const { stringSet, dateLocale } = useLocalization();\n  const { disableUserProfile, renderUserProfile } = useContext<UserProfileContext>(UserProfileContext);\n  const messageRef = useRef(null);\n  const avatarRef = useRef(null);\n  const contextMenuRef = useRef(null);\n  const mobileMenuRef = useRef(null);\n  const [contextStyle, setContextStyle] = useState({});\n  const [contextMenu, setContextMenu] = useState(false);\n\n  // consts\n  const status = message?.sendingStatus;\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n\n  // place context menu top depending clientHeight of message component\n  useEffect(() => {\n    if (messageRef?.current?.clientHeight > 36) {\n      setContextStyle({ top: '8px ' });\n    } else {\n      setContextStyle({ top: '2px' });\n    }\n  }, [window.innerWidth]);\n\n  const onLongPress = useLongPress({\n    onLongPress: () => {\n      setContextMenu(true);\n    },\n  });\n\n  const { isMobile } = useMediaQueryContext();\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-user-message',\n      ].join(' ')}\n      ref={messageRef}\n    >\n      <div className=\"sendbird-openchannel-user-message__left\">\n        {\n          !chainTop && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <Avatar\n                  className=\"sendbird-openchannel-user-message__left__avatar\"\n                  src={sender.profileUrl || ''}\n                  ref={avatarRef}\n                  width=\"28px\"\n                  height=\"28px\"\n                  onClick={() => {\n                    if (!disableUserProfile) {\n                      toggleDropdown();\n                    }\n                  }}\n                />\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={avatarRef}\n                  parentContainRef={avatarRef}\n                  closeDropdown={closeDropdown}\n                  style={{ paddingTop: '0px', paddingBottom: '0px' }}\n                >\n                  {\n                    renderUserProfile\n                      ? (\n                        renderUserProfile({\n                          user: sender,\n                          close: closeDropdown,\n                        })\n                      )\n                      : (\n                        <UserProfile\n                          user={sender}\n                          onSuccess={closeDropdown}\n                          disableMessaging\n                        />\n                      )\n                  }\n                </MenuItems>\n              )}\n            />\n          )\n        }\n      </div>\n      <div className=\"sendbird-openchannel-user-message__right\">\n        {\n          !chainTop && (\n            <div className=\"sendbird-openchannel-user-message__right__top\">\n              <Label\n                className=\"sendbird-openchannel-user-message__right__top__sender-name\"\n                type={LabelTypography.CAPTION_2}\n                color={isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n              >\n                {\n                  sender && (\n                    sender.friendName\n                    || sender.nickname\n                    || sender.userId\n                  )\n                }\n              </Label>\n              <Label\n                className=\"sendbird-openchannel-user-message__right__top__sent-at\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_3}\n              >\n                {\n                  message?.createdAt && (\n                    format(message?.createdAt, 'p', {\n                      locale: dateLocale,\n                    })\n                  )\n                }\n              </Label>\n            </div>\n          )\n        }\n        <div\n          {...(isMobile ? { ...onLongPress } : {})}\n          className=\"sendbird-openchannel-user-message__right__bottom\" ref={mobileMenuRef}>\n          <Label\n            className=\"sendbird-openchannel-user-message__right__bottom__message\"\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {message?.message}\n            {isEditedMessage(message) && (\n              <Label\n                key={uuidv4()}\n                type={LabelTypography.BODY_1}\n                color={LabelColors.ONBACKGROUND_2}\n                calssName=\"sendbird-openchannel-user-message-word\"\n              >\n                {` ${stringSet.MESSAGE_EDITED} `}\n              </Label>\n            )}\n          </Label>\n        </div>\n        {\n          (isPending || isFailed) && (\n            <div className=\"sendbird-openchannel-user-message__right__tail\">\n              {\n                isPending && (\n                  <Loader\n                    width=\"16px\"\n                    height=\"16px\"\n                  >\n                    <Icon\n                      className=\"sendbird-openchannel-user-message__right__tail__pending\"\n                      type={IconTypes.SPINNER}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  </Loader>\n                )\n              }\n              {\n                isFailed && (\n                  <Icon\n                    className=\"sendbird-openchannel-user-message__right__tail__failed\"\n                    type={IconTypes.ERROR}\n                    fillColor={IconColors.ERROR}\n                    width=\"16px\"\n                    height=\"16px\"\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n      {\n        !isMobile && (\n          <div\n            className=\"sendbird-openchannel-user-message__context-menu\"\n            ref={contextMenuRef}\n            style={contextStyle}\n          >\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                showMenuTrigger({ message: message, userId: userId, status: status }) && (\n                  <IconButton\n                    className=\"sendbird-openchannel-user-message__context-menu--icon\"\n                    width=\"32px\"\n                    height=\"32px\"\n                    onClick={() => {\n                      toggleDropdown();\n                    }}\n                  >\n                    <Icon\n                      type={IconTypes.MORE}\n                      fillColor={IconColors.CONTENT_INVERSE}\n                      width=\"24px\"\n                      height=\"24px\"\n                    />\n                  </IconButton>\n                )\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={contextMenuRef}\n                  parentContainRef={contextMenuRef}\n                  closeDropdown={closeDropdown}\n                  openLeft\n                >\n                  {\n                    isFineCopy({ message: message, userId: userId, status: status }) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-user-message__context-menu__copy\"\n                        onClick={() => {\n                          copyToClipboard(message.message);\n                          closeDropdown();\n                        }}\n                        dataSbId=\"open_channel_user_message_menu_copy\"\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__COPY}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    (!isEphemeral && isFineEdit({ message: message, userId: userId, status: status })) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-user-message__context-menu__edit\"\n                        onClick={() => {\n                          if (disabled) {\n                            return;\n                          }\n                          showEdit(true);\n                          closeDropdown();\n                        }}\n                        dataSbId=\"open_channel_user_message_menu_edit\"\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__EDIT}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    isFineResend({ message: message, userId: userId, status: status }) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-user-message__context-menu__resend\"\n                        onClick={() => {\n                          resendMessage(message);\n                          closeDropdown();\n                        }}\n                        dataSbId=\"open_channel_user_message_menu_resend\"\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-user-message__context-menu__delete\"\n                        onClick={() => {\n                          if (disabled) {\n                            return;\n                          }\n                          showRemove(true);\n                          closeDropdown();\n                        }}\n                        dataSbId=\"open_channel_user_message_menu_delete\"\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                      </MenuItem>\n                    )\n                  }\n                </MenuItems>\n              )}\n            />\n          </div>\n\n        )\n      }\n      {\n        contextMenu && (\n          <OpenChannelMobileMenu\n            message={message}\n            parentRef={mobileMenuRef}\n            hideMenu={() => {\n              setContextMenu(false);\n            }}\n            showRemove={() => {\n              setContextMenu(false);\n              showRemove(true);\n            }}\n            showEdit={() => {\n              setContextMenu(false);\n              showEdit(true);\n            }}\n            copyToClipboard={() => {\n              setContextMenu(false);\n              copyToClipboard(message?.message);\n            }}\n            resendMessage={() => {\n              setContextMenu(false);\n              resendMessage(message);\n            }}\n          />\n        )\n      }\n    </div>\n  );\n}\n"],"names":["OpenchannelUserMessage","_ref","className","message","isOperator","isEphemeral","userId","resendMessage","disabled","showEdit","showRemove","chainTop","messageType","stringSet","dateLocale","useLocalization","disableUserProfile","renderUserProfile","useContext","UserProfileContext","messageRef","useRef","avatarRef","contextMenuRef","mobileMenuRef","contextStyle","setContextStyle","useState","contextMenu","setContextMenu","status","sendingStatus","isPending","checkIsPending","isFailed","checkIsFailed","sender","getSenderFromMessage","useEffect","_messageRef$current","current","clientHeight","top","window","innerWidth","onLongPress","useLongPress","isMobile","useMediaQueryContext","React","createElement","Array","isArray","join","ref","ContextMenu","menuTrigger","toggleDropdown","Avatar","src","profileUrl","width","height","onClick","menuItems","closeDropdown","MenuItems","parentRef","parentContainRef","style","paddingTop","paddingBottom","user","close","UserProfile","onSuccess","disableMessaging","Label","type","LabelTypography","CAPTION_2","color","LabelColors","SECONDARY_3","ONBACKGROUND_2","friendName","nickname","CAPTION_3","ONBACKGROUND_3","createdAt","format","locale","_extends","_objectSpread","BODY_1","ONBACKGROUND_1","isEditedMessage","key","uuidv4","calssName","MESSAGE_EDITED","Loader","Icon","IconTypes","SPINNER","fillColor","IconColors","PRIMARY","ERROR","showMenuTrigger","IconButton","MORE","CONTENT_INVERSE","openLeft","isFineCopy","MenuItem","copyToClipboard","dataSbId","CONTEXT_MENU_DROPDOWN__COPY","isFineEdit","CONTEXT_MENU_DROPDOWN__EDIT","isFineResend","CONTEXT_MENU_DROPDOWN__RESEND","isFineDelete","CONTEXT_MENU_DROPDOWN__DELETE","OpenChannelMobileMenu","hideMenu"],"mappings":"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"}