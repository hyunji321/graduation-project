{"version":3,"file":"OpenchannelFileMessage.js","sources":["../../../src/ui/OpenchannelFileMessage/utils.ts","../../../src/ui/OpenchannelFileMessage/index.tsx"],"sourcesContent":["import { IconTypes } from '../Icon';\n\nexport const checkFileType = (fileUrl: string): string => {\n  const audioFile = /(\\.mp3)$/i;\n  const gifFile = /(\\.gif)$/i;\n  if (audioFile.test(fileUrl)) {\n    return IconTypes.FILE_AUDIO;\n  }\n  if (gifFile.test(fileUrl)) {\n    return IconTypes.GIF;\n  }\n  return IconTypes.FILE_DOCUMENT;\n};\n\nexport const truncate = (fullStr:string, strLen: number): string => {\n  if (fullStr === null || fullStr === undefined) return '';\n  if (fullStr.length <= strLen) return fullStr;\n  const separator = '...';\n  const sepLen = separator.length;\n  const charsToShow = strLen - sepLen;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n","import React, { useContext, useRef, useState } from 'react';\nimport { FileMessage } from '@sendbird/chat/message';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport TextButton from '../TextButton';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\n\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport { checkFileType, truncate } from './utils';\nimport {\n  checkIsPending,\n  checkIsFailed,\n  isFineDelete,\n  isFineResend,\n  showMenuTrigger,\n  getSenderFromMessage,\n} from '../../utils/openChannelUtils';\nimport { useMediaQueryContext } from '../../lib/MediaQueryContext';\nimport OpenChannelMobileMenu from '../OpenChannelMobileMenu';\nimport useLongPress from '../../hooks/useLongPress';\n\ninterface OpenChannelFileMessageProps {\n  className?: string | Array<string>;\n  message: FileMessage;\n  isOperator?: boolean;\n  isEphemeral?: boolean;\n  userId: string;\n  disabled?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  showRemove(bool: boolean): void;\n  resendMessage(message: FileMessage): void;\n}\n\nexport default function OpenchannelFileMessage({\n  className,\n  message,\n  isOperator,\n  isEphemeral = false,\n  userId,\n  disabled,\n  chainTop,\n  showRemove,\n  resendMessage,\n}: OpenChannelFileMessageProps): JSX.Element {\n  const status = message?.sendingStatus;\n  const { dateLocale, stringSet } = useLocalization();\n  const contextMenuRef = useRef(null);\n  const mobileMenuRef = useRef(null);\n  const avatarRef = useRef(null);\n  const { disableUserProfile, renderUserProfile } = useContext<UserProfileContext>(UserProfileContext);\n\n  const { isMobile } = useMediaQueryContext();\n  const openFileUrl = () => { window.open(message.url); };\n\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n  const [contextMenu, setContextMenu] = useState(false);\n  const longPress = useLongPress({\n    onLongPress: () => {\n      if (isMobile) {\n        setContextMenu(true);\n      }\n    },\n    onClick: openFileUrl,\n  }, { delay: 300 });\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-file-message',\n      ].join(' ')}\n      ref={mobileMenuRef}\n    >\n      <div className=\"sendbird-openchannel-file-message__left\">\n        {\n          !chainTop && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <Avatar\n                  className=\"sendbird-openchannel-file-message__left__avatar\"\n                  src={sender.profileUrl || ''}\n                  ref={avatarRef}\n                  width=\"28px\"\n                  height=\"28px\"\n                  onClick={() => {\n                    if (!disableUserProfile) {\n                      toggleDropdown();\n                    }\n                  }}\n                />\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={avatarRef}\n                  parentContainRef={avatarRef}\n                  closeDropdown={closeDropdown}\n                  style={{ paddingTop: '0px', paddingBottom: '0px' }}\n                >\n                  {\n                    renderUserProfile\n                      ? (\n                        renderUserProfile({\n                          user: sender,\n                          close: closeDropdown,\n                        })\n                      )\n                      : (\n                        <UserProfile\n                          user={sender}\n                          onSuccess={closeDropdown}\n                          disableMessaging\n                        />\n                      )\n                  }\n                </MenuItems>\n              )}\n            />\n          )\n        }\n      </div>\n      <div className=\"sendbird-openchannel-file-message__right\">\n        {\n          !chainTop && (\n            <div className=\"sendbird-openchannel-file-message__right__title\">\n              <Label\n                className=\"sendbird-openchannel-file-message__right__title__sender-name\"\n                type={LabelTypography.CAPTION_2}\n                color={isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n              >\n                {\n                  sender && (\n                    sender.friendName\n                    || sender.nickname\n                    || sender.userId\n                  )\n                }\n              </Label>\n              <Label\n                className=\"sendbird-openchannel-file-message__right__title__sent-at\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_3}\n              >\n                {\n                  message?.createdAt && (\n                    format(message.createdAt, 'p', {\n                      locale: dateLocale,\n                    })\n                  )\n                }\n              </Label>\n            </div>\n          )\n        }\n        <div\n          className=\"sendbird-openchannel-file-message__right__body\"\n          {...(isMobile ? { ...longPress } : {})}\n        >\n          {\n            checkFileType(message.url) && (\n              <Icon\n                className=\"sendbird-openchannel-file-message__right__body__icon\"\n                type={checkFileType(message.url)}\n                fillColor={IconColors.PRIMARY}\n                width=\"48px\"\n                height=\"48px\"\n              />\n            )\n          }\n          <TextButton\n            className=\"sendbird-openchannel-file-message__right__body__file-name\"\n            onClick={openFileUrl}\n          >\n            <Label\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {truncate(message.name || message.url, 40)}\n            </Label>\n          </TextButton>\n        </div>\n        {\n          (isPending || isFailed) && (\n            <div className=\"sendbird-openchannel-file-message__right__tail\">\n              {\n                isPending && (\n                  <Loader\n                    width=\"16px\"\n                    height=\"16px\"\n                  >\n                    <Icon\n                      className=\"sendbird-openchannel-file-message__right__tail__pending\"\n                      type={IconTypes.SPINNER}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  </Loader>\n                )\n              }\n              {\n                isFailed && (\n                  <Icon\n                    className=\"sendbird-openchannel-file-message__right__tail__failed\"\n                    type={IconTypes.ERROR}\n                    fillColor={IconColors.ERROR}\n                    width=\"16px\"\n                    height=\"16px\"\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n      {\n        !isMobile && (\n          <div\n            className=\"sendbird-openchannel-file-message__context-menu\"\n            ref={contextMenuRef}\n          >\n            {\n              (isFineResend({ message, userId, status }) || !isEphemeral) && (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    showMenuTrigger({ message, userId, status }) && (\n                      <IconButton\n                        className=\"sendbird-openchannel-file-message__context-menu__icon\"\n                        width=\"32px\"\n                        height=\"32px\"\n                        onClick={toggleDropdown}\n                      >\n                        <Icon\n                          type={IconTypes.MORE}\n                          width=\"24px\"\n                          height=\"24px\"\n                        />\n                      </IconButton>\n                    )\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentRef={contextMenuRef}\n                      parentContainRef={contextMenuRef}\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      {\n                        isFineResend({ message, userId, status }) && (\n                          <MenuItem\n                            onClick={() => {\n                              if (disabled) { return; }\n                              resendMessage(message);\n                              closeDropdown();\n                            }}\n                            dataSbId=\"open_channel_file_message_context_menu_resend\"\n                          >\n                            {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                          </MenuItem>\n                        )\n                      }\n                      {\n                        (!isEphemeral && isFineDelete({ message, userId, status })) && (\n                          <MenuItem\n                            onClick={() => {\n                              if (disabled) { return; }\n                              showRemove(true);\n                              closeDropdown();\n                            }}\n                            dataSbId=\"open_channel_file_message_context_menu_delete\"\n                          >\n                            {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                          </MenuItem>\n                        )\n                      }\n                    </MenuItems>\n                  )}\n                />\n              )\n            }\n          </div>\n        )\n      }\n      {\n        contextMenu && (\n          <OpenChannelMobileMenu\n            message={message}\n            hideMenu={() => {\n              setContextMenu(false);\n            }}\n            parentRef={mobileMenuRef}\n            showRemove={() => {\n              setContextMenu(false);\n              showRemove(true);\n            }}\n          />\n        )\n      }\n    </div>\n  );\n}\n"],"names":["checkFileType","fileUrl","audioFile","gifFile","test","IconTypes","FILE_AUDIO","GIF","FILE_DOCUMENT","truncate","fullStr","strLen","undefined","length","separator","sepLen","charsToShow","frontChars","Math","ceil","backChars","floor","substr","OpenchannelFileMessage","_ref","className","message","isOperator","isEphemeral","userId","disabled","chainTop","showRemove","resendMessage","status","sendingStatus","dateLocale","stringSet","useLocalization","contextMenuRef","useRef","mobileMenuRef","avatarRef","disableUserProfile","renderUserProfile","useContext","UserProfileContext","isMobile","useMediaQueryContext","openFileUrl","window","open","url","isPending","checkIsPending","isFailed","checkIsFailed","sender","getSenderFromMessage","contextMenu","setContextMenu","useState","longPress","useLongPress","onLongPress","onClick","delay","React","createElement","Array","isArray","join","ref","ContextMenu","menuTrigger","toggleDropdown","Avatar","src","profileUrl","width","height","menuItems","closeDropdown","MenuItems","parentRef","parentContainRef","style","paddingTop","paddingBottom","user","close","UserProfile","onSuccess","disableMessaging","Label","type","LabelTypography","CAPTION_2","color","LabelColors","SECONDARY_3","ONBACKGROUND_2","friendName","nickname","CAPTION_3","ONBACKGROUND_3","createdAt","format","locale","_extends","_objectSpread","Icon","fillColor","IconColors","PRIMARY","TextButton","BODY_1","ONBACKGROUND_1","name","Loader","SPINNER","ERROR","isFineResend","showMenuTrigger","IconButton","MORE","openLeft","MenuItem","dataSbId","CONTEXT_MENU_DROPDOWN__RESEND","isFineDelete","CONTEXT_MENU_DROPDOWN__DELETE","OpenChannelMobileMenu","hideMenu"],"mappings":"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"}