{"version":3,"file":"Avatar.js","sources":["../../../src/utils/pxToNumber.ts","../../../src/ui/Avatar/index.tsx"],"sourcesContent":["export default (px: string | number): number | void => {\n  if (typeof px === 'number') {\n    return px;\n  }\n  if (typeof px === 'string') {\n    const parsed = Number.parseFloat(px);\n    if (!Number.isNaN(parsed)) {\n      return parsed;\n    }\n  }\n  return null;\n};\n","import React, { ReactElement, RefObject } from 'react';\n\nimport ImageRenderer from '../ImageRenderer';\nimport Icon, { IconTypes, IconColors } from '../Icon';\n\nimport './index.scss';\nimport { uuidv4 } from '../../utils/uuid';\nimport pxToNumber from '../../utils/pxToNumber';\n\nconst imageRendererClassName = 'sendbird-avatar-img';\n\ninterface DefaultComponentProps {\n  width: string | number,\n  height: string | number,\n}\n\nconst DefaultComponent = ({ width, height }: DefaultComponentProps): ReactElement => {\n  let iconWidth = pxToNumber(width);\n  let iconHeight = pxToNumber(height);\n  if (typeof iconWidth === 'number') {\n    iconWidth *= 0.575;\n  }\n  if (typeof iconHeight === 'number') {\n    iconHeight *= 0.575;\n  }\n\n  return (\n    <div className=\"sendbird-avatar-img--default\" style={{ width, height }}>\n      <Icon\n        type={IconTypes.USER}\n        fillColor={IconColors.CONTENT}\n        width={iconWidth}\n        height={iconHeight}\n      />\n    </div>\n  );\n};\n\nconst _defaultComponent = ({\n  width,\n  height,\n}: DefaultComponentProps) => (\n  <DefaultComponent width={width} height={height} />\n);\n\ninterface AvatarInnerProps {\n  height: string | number,\n  width: string | number,\n  src?: string | Array<string>,\n  alt?: string,\n  customDefaultComponent?({ width, height }: { width: number | string, height: number | string }): ReactElement;\n}\n\nexport const AvatarInner = ({\n  src = '',\n  alt = '',\n  height,\n  width,\n  customDefaultComponent,\n}: AvatarInnerProps): ReactElement => {\n  const defaultComponent = () => customDefaultComponent ? customDefaultComponent({ width, height }) : _defaultComponent({ width, height });\n\n  if (typeof src === 'string') {\n    return (\n      <ImageRenderer\n        className={imageRendererClassName}\n        url={src}\n        height={height}\n        width={width}\n        alt={alt}\n        defaultComponent={defaultComponent}\n      />\n    );\n  }\n\n  if (src && src.length) {\n    if (src.length === 1) {\n      return (\n        <ImageRenderer\n          className={imageRendererClassName}\n          url={src[0]}\n          height={height}\n          width={width}\n          alt={alt}\n          defaultComponent={defaultComponent}\n        />\n      );\n    }\n\n    if (src.length === 2) {\n      return (\n        <div className=\"sendbird-avatar--inner__two-child\">\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[0]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent}\n          />\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[1]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent}\n          />\n        </div>\n      );\n    }\n\n    if (src.length === 3) {\n      return (\n        <>\n          <div className=\"sendbird-avatar--inner__three-child--upper\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[0]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n          </div>\n          <div className=\"sendbird-avatar--inner__three-child--lower\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[1]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[2]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"sendbird-avatar--inner__four-child\">\n        {\n          src.slice(0, 4)\n            .map((i) => (\n              <ImageRenderer\n                className={imageRendererClassName}\n                url={i}\n                height={height}\n                width={width}\n                alt={alt}\n                key={uuidv4()}\n                defaultComponent={defaultComponent}\n              />\n            ))\n        }\n      </div>\n    );\n  }\n  // default img\n  return (\n    <ImageRenderer\n      className={imageRendererClassName}\n      url=\"\"\n      height={height}\n      width={width}\n      alt={alt}\n      defaultComponent={defaultComponent}\n    />\n  );\n};\n\ninterface AvatarProps {\n  className?: string | Array<string>,\n  height?: string | number,\n  width?: string | number,\n  src?: string | Array<string>,\n  alt?: string,\n  onClick?(): void,\n  customDefaultComponent?({ width, height }: { width: number | string, height: number | string }): ReactElement;\n}\n\nfunction Avatar(\n  {\n    className = '',\n    src = '',\n    alt = '',\n    width = '56px',\n    height = '56px',\n    onClick,\n    customDefaultComponent,\n  }: AvatarProps,\n  ref: RefObject<HTMLDivElement>,\n): ReactElement {\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-avatar',\n      ].join(' ')}\n      role=\"button\"\n      ref={ref}\n      style={{ height, width }}\n      onClick={onClick}\n      onKeyDown={onClick}\n      tabIndex={0}\n    >\n      <AvatarInner\n        src={src}\n        width={width}\n        height={height}\n        alt={alt}\n        customDefaultComponent={customDefaultComponent}\n      />\n    </div>\n  );\n}\n\nexport default React.forwardRef(Avatar);\n"],"names":["px","parsed","Number","parseFloat","isNaN","imageRendererClassName","DefaultComponent","_ref","width","height","iconWidth","pxToNumber","iconHeight","React","createElement","className","style","Icon","type","IconTypes","USER","fillColor","IconColors","CONTENT","_defaultComponent","_ref2","AvatarInner","_ref3","src","alt","customDefaultComponent","defaultComponent","ImageRenderer","url","length","Fragment","slice","map","i","key","uuidv4","Avatar","_ref4","ref","onClick","Array","isArray","join","role","onKeyDown","tabIndex","forwardRef"],"mappings":";;;;;;;;;;;;;;AAAA,iBAAA,CAAgBA,EAAmB,IAAoB;AACrD,EAAA,IAAI,OAAOA,EAAE,KAAK,QAAQ,EAAE;AAC1B,IAAA,OAAOA,EAAE,CAAA;AACX,GAAA;AACA,EAAA,IAAI,OAAOA,EAAE,KAAK,QAAQ,EAAE;AAC1B,IAAA,MAAMC,MAAM,GAAGC,MAAM,CAACC,UAAU,CAACH,EAAE,CAAC,CAAA;AACpC,IAAA,IAAI,CAACE,MAAM,CAACE,KAAK,CAACH,MAAM,CAAC,EAAE;AACzB,MAAA,OAAOA,MAAM,CAAA;AACf,KAAA;AACF,GAAA;AACA,EAAA,OAAO,IAAI,CAAA;AACb,CAAC;;ACFD,MAAMI,sBAAsB,GAAG,qBAAqB,CAAA;AAOpD,MAAMC,gBAAgB,GAAGC,IAAA,IAA4D;EAAA,IAA3D;IAAEC,KAAK;AAAEC,IAAAA,MAAAA;AAA8B,GAAC,GAAAF,IAAA,CAAA;AAChE,EAAA,IAAIG,SAAS,GAAGC,UAAU,CAACH,KAAK,CAAC,CAAA;AACjC,EAAA,IAAII,UAAU,GAAGD,UAAU,CAACF,MAAM,CAAC,CAAA;AACnC,EAAA,IAAI,OAAOC,SAAS,KAAK,QAAQ,EAAE;AACjCA,IAAAA,SAAS,IAAI,KAAK,CAAA;AACpB,GAAA;AACA,EAAA,IAAI,OAAOE,UAAU,KAAK,QAAQ,EAAE;AAClCA,IAAAA,UAAU,IAAI,KAAK,CAAA;AACrB,GAAA;EAEA,oBACEC,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,SAAS,EAAC,8BAA8B;AAACC,IAAAA,KAAK,EAAE;MAAER,KAAK;AAAEC,MAAAA,MAAAA;AAAO,KAAA;AAAE,GAAA,eACrEI,yBAAA,CAAAC,aAAA,CAACG,kBAAI,EAAA;IACHC,IAAI,EAAEC,iBAAS,CAACC,IAAK;IACrBC,SAAS,EAAEC,kBAAU,CAACC,OAAQ;AAC9Bf,IAAAA,KAAK,EAAEE,SAAU;AACjBD,IAAAA,MAAM,EAAEG,UAAAA;AAAW,GAAA,CACnB,CACE,CAAA;AAEV,CAAC,CAAA;AAED,MAAMY,iBAAiB,GAAGC,KAAA,IAAA;EAAA,IAAC;IACzBjB,KAAK;AACLC,IAAAA,MAAAA;AACqB,GAAC,GAAAgB,KAAA,CAAA;AAAA,EAAA,oBACtBZ,yBAAA,CAAAC,aAAA,CAACR,gBAAgB,EAAA;AAACE,IAAAA,KAAK,EAAEA,KAAM;AAACC,IAAAA,MAAM,EAAEA,MAAAA;GAAU,CAAA,CAAA;AAAA,CACnD,CAAA;AAUYiB,MAAAA,WAAW,GAAGC,KAAA,IAMW;EAAA,IANV;AAC1BC,IAAAA,GAAG,GAAG,EAAE;AACRC,IAAAA,GAAG,GAAG,EAAE;IACRpB,MAAM;IACND,KAAK;AACLsB,IAAAA,sBAAAA;AACgB,GAAC,GAAAH,KAAA,CAAA;AACjB,EAAA,MAAMI,gBAAgB,GAAGA,MAAMD,sBAAsB,GAAGA,sBAAsB,CAAC;IAAEtB,KAAK;AAAEC,IAAAA,MAAAA;GAAQ,CAAC,GAAGe,iBAAiB,CAAC;IAAEhB,KAAK;AAAEC,IAAAA,MAAAA;AAAO,GAAC,CAAC,CAAA;AAExI,EAAA,IAAI,OAAOmB,GAAG,KAAK,QAAQ,EAAE;AAC3B,IAAA,oBACEf,yBAAA,CAAAC,aAAA,CAACkB,gBAAa,EAAA;AACZjB,MAAAA,SAAS,EAAEV,sBAAuB;AAClC4B,MAAAA,GAAG,EAAEL,GAAI;AACTnB,MAAAA,MAAM,EAAEA,MAAO;AACfD,MAAAA,KAAK,EAAEA,KAAM;AACbqB,MAAAA,GAAG,EAAEA,GAAI;AACTE,MAAAA,gBAAgB,EAAEA,gBAAAA;KAClB,CAAA,CAAA;AAEN,GAAA;AAEA,EAAA,IAAIH,GAAG,IAAIA,GAAG,CAACM,MAAM,EAAE;AACrB,IAAA,IAAIN,GAAG,CAACM,MAAM,KAAK,CAAC,EAAE;AACpB,MAAA,oBACErB,yBAAA,CAAAC,aAAA,CAACkB,gBAAa,EAAA;AACZjB,QAAAA,SAAS,EAAEV,sBAAuB;AAClC4B,QAAAA,GAAG,EAAEL,GAAG,CAAC,CAAC,CAAE;AACZnB,QAAAA,MAAM,EAAEA,MAAO;AACfD,QAAAA,KAAK,EAAEA,KAAM;AACbqB,QAAAA,GAAG,EAAEA,GAAI;AACTE,QAAAA,gBAAgB,EAAEA,gBAAAA;OAClB,CAAA,CAAA;AAEN,KAAA;AAEA,IAAA,IAAIH,GAAG,CAACM,MAAM,KAAK,CAAC,EAAE;MACpB,oBACErB,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,SAAS,EAAC,mCAAA;AAAmC,OAAA,eAChDF,yBAAA,CAAAC,aAAA,CAACkB,gBAAa,EAAA;AACZjB,QAAAA,SAAS,EAAEV,sBAAuB;AAClC4B,QAAAA,GAAG,EAAEL,GAAG,CAAC,CAAC,CAAE;AACZnB,QAAAA,MAAM,EAAEA,MAAO;AACfD,QAAAA,KAAK,EAAEA,KAAM;AACbqB,QAAAA,GAAG,EAAEA,GAAI;AACTE,QAAAA,gBAAgB,EAAEA,gBAAAA;AAAiB,OAAA,CACnC,eACFlB,yBAAA,CAAAC,aAAA,CAACkB,gBAAa,EAAA;AACZjB,QAAAA,SAAS,EAAEV,sBAAuB;AAClC4B,QAAAA,GAAG,EAAEL,GAAG,CAAC,CAAC,CAAE;AACZnB,QAAAA,MAAM,EAAEA,MAAO;AACfD,QAAAA,KAAK,EAAEA,KAAM;AACbqB,QAAAA,GAAG,EAAEA,GAAI;AACTE,QAAAA,gBAAgB,EAAEA,gBAAAA;AAAiB,OAAA,CACnC,CACE,CAAA;AAEV,KAAA;AAEA,IAAA,IAAIH,GAAG,CAACM,MAAM,KAAK,CAAC,EAAE;MACpB,oBACErB,yBAAA,CAAAC,aAAA,CAAAD,yBAAA,CAAAsB,QAAA,EAAA,IAAA,eACEtB,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,SAAS,EAAC,4CAAA;AAA4C,OAAA,eACzDF,yBAAA,CAAAC,aAAA,CAACkB,gBAAa,EAAA;AACZjB,QAAAA,SAAS,EAAEV,sBAAuB;AAClC4B,QAAAA,GAAG,EAAEL,GAAG,CAAC,CAAC,CAAE;AACZnB,QAAAA,MAAM,EAAEA,MAAO;AACfD,QAAAA,KAAK,EAAEA,KAAM;AACbqB,QAAAA,GAAG,EAAEA,GAAI;AACTE,QAAAA,gBAAgB,EAAEA,gBAAAA;AAAiB,OAAA,CACnC,CACE,eACNlB,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,SAAS,EAAC,4CAAA;AAA4C,OAAA,eACzDF,yBAAA,CAAAC,aAAA,CAACkB,gBAAa,EAAA;AACZjB,QAAAA,SAAS,EAAEV,sBAAuB;AAClC4B,QAAAA,GAAG,EAAEL,GAAG,CAAC,CAAC,CAAE;AACZnB,QAAAA,MAAM,EAAEA,MAAO;AACfD,QAAAA,KAAK,EAAEA,KAAM;AACbqB,QAAAA,GAAG,EAAEA,GAAI;AACTE,QAAAA,gBAAgB,EAAEA,gBAAAA;AAAiB,OAAA,CACnC,eACFlB,yBAAA,CAAAC,aAAA,CAACkB,gBAAa,EAAA;AACZjB,QAAAA,SAAS,EAAEV,sBAAuB;AAClC4B,QAAAA,GAAG,EAAEL,GAAG,CAAC,CAAC,CAAE;AACZnB,QAAAA,MAAM,EAAEA,MAAO;AACfD,QAAAA,KAAK,EAAEA,KAAM;AACbqB,QAAAA,GAAG,EAAEA,GAAI;AACTE,QAAAA,gBAAgB,EAAEA,gBAAAA;AAAiB,OAAA,CACnC,CACE,CACL,CAAA;AAEP,KAAA;IAEA,oBACElB,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,SAAS,EAAC,oCAAA;AAAoC,KAAA,EAE/Ca,GAAG,CAACQ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CACZC,GAAG,CAAEC,CAAC,iBACLzB,yBAAA,CAAAC,aAAA,CAACkB,gBAAa,EAAA;AACZjB,MAAAA,SAAS,EAAEV,sBAAuB;AAClC4B,MAAAA,GAAG,EAAEK,CAAE;AACP7B,MAAAA,MAAM,EAAEA,MAAO;AACfD,MAAAA,KAAK,EAAEA,KAAM;AACbqB,MAAAA,GAAG,EAAEA,GAAI;MACTU,GAAG,EAAEC,WAAM,EAAG;AACdT,MAAAA,gBAAgB,EAAEA,gBAAAA;AAAiB,KAAA,CAEtC,CAAC,CAEF,CAAA;AAEV,GAAA;AACA;AACA,EAAA,oBACElB,yBAAA,CAAAC,aAAA,CAACkB,gBAAa,EAAA;AACZjB,IAAAA,SAAS,EAAEV,sBAAuB;AAClC4B,IAAAA,GAAG,EAAC,EAAE;AACNxB,IAAAA,MAAM,EAAEA,MAAO;AACfD,IAAAA,KAAK,EAAEA,KAAM;AACbqB,IAAAA,GAAG,EAAEA,GAAI;AACTE,IAAAA,gBAAgB,EAAEA,gBAAAA;GAClB,CAAA,CAAA;AAEN,EAAC;AAYD,SAASU,MAAMA,CAAAC,KAAA,EAUbC,GAA8B,EAChB;EAAA,IAVd;AACE5B,IAAAA,SAAS,GAAG,EAAE;AACda,IAAAA,GAAG,GAAG,EAAE;AACRC,IAAAA,GAAG,GAAG,EAAE;AACRrB,IAAAA,KAAK,GAAG,MAAM;AACdC,IAAAA,MAAM,GAAG,MAAM;IACfmC,OAAO;AACPd,IAAAA,sBAAAA;AACW,GAAC,GAAAY,KAAA,CAAA;EAGd,oBACE7B,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;IACEC,SAAS,EAAE,CACT,IAAI8B,KAAK,CAACC,OAAO,CAAC/B,SAAS,CAAC,GAAGA,SAAS,GAAG,CAACA,SAAS,CAAC,CAAC,EACvD,iBAAiB,CAClB,CAACgC,IAAI,CAAC,GAAG,CAAE;AACZC,IAAAA,IAAI,EAAC,QAAQ;AACbL,IAAAA,GAAG,EAAEA,GAAI;AACT3B,IAAAA,KAAK,EAAE;MAAEP,MAAM;AAAED,MAAAA,KAAAA;KAAQ;AACzBoC,IAAAA,OAAO,EAAEA,OAAQ;AACjBK,IAAAA,SAAS,EAAEL,OAAQ;AACnBM,IAAAA,QAAQ,EAAE,CAAA;AAAE,GAAA,eAEZrC,yBAAA,CAAAC,aAAA,CAACY,WAAW,EAAA;AACVE,IAAAA,GAAG,EAAEA,GAAI;AACTpB,IAAAA,KAAK,EAAEA,KAAM;AACbC,IAAAA,MAAM,EAAEA,MAAO;AACfoB,IAAAA,GAAG,EAAEA,GAAI;AACTC,IAAAA,sBAAsB,EAAEA,sBAAAA;AAAuB,GAAA,CAC/C,CACE,CAAA;AAEV,CAAA;AAEA,eAAA,aAAejB,yBAAK,CAACsC,UAAU,CAACV,MAAM,CAAC;;;;;"}