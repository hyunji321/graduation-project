{"ast":null,"code":"import _toConsumableArray from \"C:/Users/\\uC774\\uACBD\\uBBFC/IdeaProjects/sendbird-uikit-whatsapp-sample/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"C:/Users/\\uC774\\uACBD\\uBBFC/IdeaProjects/sendbird-uikit-whatsapp-sample/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React__default, { useState, useMemo } from 'react';\n\n/*\n  ImageRenderer displays image with url or source\n  it checks if the source exist with img tag first\n  if it exists onLoad is called, if not onError is called\n  and those properties switch img tag to real purposing element\n*/\n\nvar ImageRenderer = function ImageRenderer(_ref) {\n  var _ref$className = _ref.className,\n    className = _ref$className === void 0 ? '' : _ref$className,\n    url = _ref.url,\n    _ref$alt = _ref.alt,\n    alt = _ref$alt === void 0 ? '' : _ref$alt,\n    _ref$width = _ref.width,\n    width = _ref$width === void 0 ? null : _ref$width,\n    _ref$height = _ref.height,\n    height = _ref$height === void 0 ? null : _ref$height,\n    _ref$circle = _ref.circle,\n    circle = _ref$circle === void 0 ? false : _ref$circle,\n    _ref$fixedSize = _ref.fixedSize,\n    fixedSize = _ref$fixedSize === void 0 ? false : _ref$fixedSize,\n    _ref$placeHolder = _ref.placeHolder,\n    placeHolder = _ref$placeHolder === void 0 ? null : _ref$placeHolder,\n    _ref$defaultComponent = _ref.defaultComponent,\n    defaultComponent = _ref$defaultComponent === void 0 ? null : _ref$defaultComponent,\n    _ref$onLoad = _ref.onLoad,\n    _onLoad = _ref$onLoad === void 0 ? function () {/* noop */} : _ref$onLoad,\n    _ref$onError = _ref.onError,\n    _onError = _ref$onError === void 0 ? function () {/* noop */} : _ref$onError;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showDefaultComponent = _useState2[0],\n    setShowDefaultComponent = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showPlaceHolder = _useState4[0],\n    setShowPlaceHolder = _useState4[1];\n  var DefaultComponent = useMemo(function () {\n    return typeof defaultComponent === 'function' ? defaultComponent() : defaultComponent;\n  }, [defaultComponent]);\n  var PlaceHolder = useMemo(function () {\n    return placeHolder && typeof placeHolder === 'function' ? placeHolder({\n      style: {\n        width: '100%',\n        minWidth: width,\n        maxWidth: fixedSize ? width : '400px',\n        height: height,\n        position: 'absolute',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      }\n    }) : null;\n  }, [placeHolder]);\n  var HiddenImageLoader = useMemo(function () {\n    setShowDefaultComponent(false);\n    // reset the state when url is changed\n    return /*#__PURE__*/React__default.createElement(\"img\", {\n      className: \"sendbird-image-renderer__hidden-image-loader\",\n      src: url,\n      alt: alt,\n      onLoad: function onLoad() {\n        setShowPlaceHolder(false);\n        _onLoad();\n      },\n      onError: function onError() {\n        setShowDefaultComponent(true);\n        _onError();\n      }\n    });\n  }, [url]);\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), ['sendbird-image-renderer']).join(' '),\n    style: {\n      width: '100%',\n      minWidth: width,\n      maxWidth: fixedSize ? width : '400px',\n      height: height\n    }\n  }, showPlaceHolder && PlaceHolder, showDefaultComponent ? DefaultComponent : /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-image-renderer__image\",\n    style: {\n      width: '100%',\n      minWidth: width,\n      maxWidth: fixedSize ? width : '400px',\n      height: height,\n      position: 'absolute',\n      backgroundRepeat: 'no-repeat',\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      backgroundImage: \"url(\".concat(url, \")\"),\n      borderRadius: circle ? '50%' : null\n    }\n  }), HiddenImageLoader);\n};\nexport { ImageRenderer as default };","map":{"version":3,"mappings":"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","names":["ImageRenderer","_ref","className","url","alt","width","height","circle","fixedSize","placeHolder","defaultComponent","onLoad","onError","useState","showDefaultComponent","setShowDefaultComponent","showPlaceHolder","setShowPlaceHolder","DefaultComponent","useMemo","PlaceHolder","style","minWidth","maxWidth","position","display","justifyContent","alignItems","HiddenImageLoader","React","src","Array","isArray","join","backgroundRepeat","backgroundPosition","backgroundSize","backgroundImage","borderRadius"],"sources":["C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\ui\\ImageRenderer\\index.tsx"],"sourcesContent":["import React, { useState, useMemo, ReactElement } from 'react';\n\nimport './index.scss';\n\n/*\n  ImageRenderer displays image with url or source\n  it checks if the source exist with img tag first\n  if it exists onLoad is called, if not onError is called\n  and those properties switch img tag to real purposing element\n*/\n\nexport interface ImageRendererProps {\n  className?: string | Array<string>;\n  url: string;\n  alt?: string;\n  width?: string | number;\n  height?: string | number;\n  circle?: boolean;\n  fixedSize?: boolean;\n  placeHolder?: ((props: { style: { [key: string]: string | number } }) => ReactElement) | ReactElement;\n  defaultComponent?: (() => ReactElement) | ReactElement;\n  onLoad?: () => void;\n  onError?: () => void;\n}\n\nconst ImageRenderer = ({\n  className = '',\n  url,\n  alt = '',\n  width = null,\n  height = null,\n  circle = false,\n  fixedSize = false,\n  placeHolder = null,\n  defaultComponent = null,\n  onLoad = () => { /* noop */ },\n  onError = () => { /* noop */ },\n}: ImageRendererProps): ReactElement => {\n  const [showDefaultComponent, setShowDefaultComponent] = useState(false);\n  const [showPlaceHolder, setShowPlaceHolder] = useState(true);\n\n  const DefaultComponent = useMemo(() => {\n    return typeof defaultComponent === 'function'\n      ? defaultComponent()\n      : defaultComponent;\n  }, [defaultComponent]);\n\n  const PlaceHolder = useMemo(() => {\n    return (placeHolder && typeof placeHolder === 'function')\n      ? placeHolder({\n        style: {\n          width: '100%',\n          minWidth: width,\n          maxWidth: fixedSize ? width : '400px',\n          height,\n          position: 'absolute',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n        },\n      })\n      : null;\n  }, [placeHolder]);\n\n  const HiddenImageLoader = useMemo(() => {\n    setShowDefaultComponent(false);\n    // reset the state when url is changed\n    return (\n      <img\n        className=\"sendbird-image-renderer__hidden-image-loader\"\n        src={url}\n        alt={alt}\n        onLoad={() => {\n          setShowPlaceHolder(false);\n          onLoad();\n        }}\n        onError={() => {\n          setShowDefaultComponent(true);\n          onError();\n        }}\n      />\n    );\n  }, [url]);\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-image-renderer',\n      ].join(' ')}\n      style={{\n        width: '100%',\n        minWidth: width,\n        maxWidth: fixedSize ? width : '400px',\n        height,\n      }}\n    >\n      {showPlaceHolder && PlaceHolder}\n      {\n        showDefaultComponent\n          ? DefaultComponent\n          : (\n            <div\n              className=\"sendbird-image-renderer__image\"\n              style={{\n                width: '100%',\n                minWidth: width,\n                maxWidth: fixedSize ? width : '400px',\n                height,\n                position: 'absolute',\n                backgroundRepeat: 'no-repeat',\n                backgroundPosition: 'center',\n                backgroundSize: 'cover',\n                backgroundImage: `url(${url})`,\n                borderRadius: circle ? '50%' : null,\n              }}\n            />\n          )\n      }\n      {HiddenImageLoader}\n    </div>\n  );\n};\n\nexport default ImageRenderer;\n"]},"metadata":{},"sourceType":"module"}