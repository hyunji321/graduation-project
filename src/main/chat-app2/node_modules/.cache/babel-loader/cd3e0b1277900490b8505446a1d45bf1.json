{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/\\uC774\\uACBD\\uBBFC/IdeaProjects/sendbird-uikit-whatsapp-sample/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _classCallCheck from \"C:/Users/\\uC774\\uACBD\\uBBFC/IdeaProjects/sendbird-uikit-whatsapp-sample/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/\\uC774\\uACBD\\uBBFC/IdeaProjects/sendbird-uikit-whatsapp-sample/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _asyncToGenerator from \"C:/Users/\\uC774\\uACBD\\uBBFC/IdeaProjects/sendbird-uikit-whatsapp-sample/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/\\uC774\\uACBD\\uBBFC/IdeaProjects/sendbird-uikit-whatsapp-sample/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { _ as _objectSpread2, a as _defineProperty } from './_rollupPluginBabelHelpers-6bb0305c.js';\nimport React__default, { useLayoutEffect, useState, useEffect, useCallback, useContext, createContext, useMemo, useReducer } from 'react';\nimport { SendbirdSdkContext } from './withSendbird.js';\nimport cssVars from 'css-vars-ponyfill';\nimport { K } from './index.module-54d57ec3.js';\nimport { U as USER_ACTIONS } from './actionTypes-ce6caec1.js';\nimport SendbirdChat, { ConnectionHandler } from '@sendbird/chat';\nimport { u as uuidv4 } from './uuid-1adedf62.js';\nimport { OpenChannelModule } from '@sendbird/chat/openChannel';\nimport { GroupChannelModule } from '@sendbird/chat/groupChannel';\nimport { i as isTextuallyNull } from './index-7eb65acf.js';\nimport { V as VoicePlayerProvider } from './index-5c985608.js';\nimport { VoiceRecorderProvider } from './VoiceRecorder/context.js';\nimport { L as LocalizationProvider } from './LocalizationContext-076d6d2e.js';\nimport { M as MediaQueryProvider } from './MediaQueryContext-11f0e43f.js';\nimport { g as getStringSet } from './stringSet-13bbd4a2.js';\nimport { V as VOICE_RECORDER_DEFAULT_MAX, a as VOICE_RECORDER_DEFAULT_MIN } from './consts-95d8566e.js';\nimport './utils/message/getOutgoingMessageState.js';\nimport './useSendbirdStateContext.js';\nimport './index-99aabd9e.js';\nvar isEmpty = function isEmpty(obj) {\n  if (obj === null || obj === undefined) {\n    return true;\n  }\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n  return JSON.stringify(obj) === JSON.stringify({});\n};\nvar useTheme = function useTheme(overrides) {\n  useLayoutEffect(function () {\n    if (!isEmpty(overrides)) {\n      cssVars({\n        variables: _objectSpread2(_objectSpread2({}, {\n          '--sendbird-dark-primary-500': '#4d2aa6',\n          '--sendbird-dark-primary-400': '#6440C4',\n          '--sendbird-dark-primary-300': '#7B53EF',\n          '--sendbird-dark-primary-200': '#9E8CF5',\n          '--sendbird-dark-primary-100': '#E2DFFF',\n          '--sendbird-dark-secondary-500': '#007A7A',\n          '--sendbird-dark-secondary-400': '#189A8D',\n          '--sendbird-dark-secondary-300': '#2EBA9F',\n          '--sendbird-dark-secondary-200': '#6FD6BE',\n          '--sendbird-dark-secondary-100': '#AEF2DC',\n          '--sendbird-dark-information-100': '#b2d9ff',\n          '--sendbird-dark-error-500': '#A30E2D',\n          '--sendbird-dark-error-400': '#C11F41',\n          '--sendbird-dark-error-300': '#E53157',\n          '--sendbird-dark-error-200': '#FF6183',\n          '--sendbird-dark-error-100': '#FFABBD',\n          '--sendbird-dark-background-700': '#000000',\n          '--sendbird-dark-background-600': '#161616',\n          '--sendbird-dark-background-500': '#2C2C2C',\n          '--sendbird-dark-background-400': '#393939',\n          '--sendbird-dark-background-300': '#A8A8A8',\n          '--sendbird-dark-background-200': '#D9D9D9',\n          '--sendbird-dark-background-100': '#F0F0F0',\n          '--sendbird-dark-background-50': '#FFFFFF',\n          '--sendbird-dark-overlay': 'rgba(0, 0, 0, 0.32)',\n          '--sendbird-dark-onlight-01': 'rgba(0, 0, 0, 0.88)',\n          '--sendbird-dark-onlight-02': 'rgba(0, 0, 0, 0.50)',\n          '--sendbird-dark-onlight-03': 'rgba(0, 0, 0, 0.38)',\n          '--sendbird-dark-onlight-04': 'rgba(0, 0, 0, 0.12)',\n          '--sendbird-dark-ondark-01': 'rgba(255, 255, 255, 0.88)',\n          '--sendbird-dark-ondark-02': 'rgba(255, 255, 255, 0.50)',\n          '--sendbird-dark-ondark-03': 'rgba(255, 255, 255, 0.38)',\n          '--sendbird-dark-ondark-04': 'rgba(255, 255, 255, 0.12)',\n          '--sendbird-dark-shadow-01': '0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)',\n          '--sendbird-dark-shadow-02': '0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)',\n          '--sendbird-dark-shadow-03': '0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)',\n          '--sendbird-dark-shadow-04': '0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)',\n          '--sendbird-dark-shadow-message-input': '0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-primary-500': '#4d2aa6',\n          '--sendbird-light-primary-400': '#6440C4',\n          '--sendbird-light-primary-300': '#7B53EF',\n          '--sendbird-light-primary-200': '#9E8CF5',\n          '--sendbird-light-primary-100': '#E2DFFF',\n          '--sendbird-light-secondary-500': '#007A7A',\n          '--sendbird-light-secondary-400': '#189A8D',\n          '--sendbird-light-secondary-300': '#2EBA9F',\n          '--sendbird-light-secondary-200': '#6FD6BE',\n          '--sendbird-light-secondary-100': '#AEF2DC',\n          '--sendbird-light-information-100': '#b2d9ff',\n          '--sendbird-light-error-500': '#A30E2D',\n          '--sendbird-light-error-400': '#C11F41',\n          '--sendbird-light-error-300': '#E53157',\n          '--sendbird-light-error-200': '#FF6183',\n          '--sendbird-light-error-100': '#FFABBD',\n          '--sendbird-light-background-700': '#000000',\n          '--sendbird-light-background-600': '#161616',\n          '--sendbird-light-background-500': '#2C2C2C',\n          '--sendbird-light-background-400': '#393939',\n          '--sendbird-light-background-300': '#A8A8A8',\n          '--sendbird-light-background-200': '#D9D9D9',\n          '--sendbird-light-background-100': '#F0F0F0',\n          '--sendbird-light-background-50': ' #FFFFFF',\n          '--sendbird-light-overlay': 'rgba(0, 0, 0, 0.32)',\n          '--sendbird-light-onlight-01': 'rgba(0, 0, 0, 0.88)',\n          '--sendbird-light-onlight-02': 'rgba(0, 0, 0, 0.50)',\n          '--sendbird-light-onlight-03': 'rgba(0, 0, 0, 0.38)',\n          '--sendbird-light-onlight-04': 'rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-ondark-01': 'rgba(255, 255, 255, 0.88)',\n          '--sendbird-light-ondark-02': 'rgba(255, 255, 255, 0.50)',\n          '--sendbird-light-ondark-03': 'rgba(255, 255, 255, 0.38)',\n          '--sendbird-light-ondark-04': 'rgba(255, 255, 255, 0.12)',\n          '--sendbird-light-shadow-01': '0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-shadow-02': '0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-shadow-03': '0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-shadow-04': '0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-shadow-message-input': '0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)'\n        }), overrides)\n      });\n    }\n  }, [overrides]);\n};\nvar SDK_ACTIONS = {\n  INIT_SDK: 'INIT_SDK',\n  SET_SDK_LOADING: 'SET_SDK_LOADING',\n  RESET_SDK: 'RESET_SDK',\n  SDK_ERROR: 'SDK_ERROR'\n};\nvar initialState$1 = {\n  initialized: false,\n  loading: false,\n  sdk: {},\n  error: false\n};\nfunction reducer$1(state, action) {\n  return K(action).with({\n    type: SDK_ACTIONS.SET_SDK_LOADING\n  }, function (_ref) {\n    var payload = _ref.payload;\n    return _objectSpread2(_objectSpread2({}, state), {}, {\n      initialized: false,\n      loading: payload\n    });\n  }).with({\n    type: SDK_ACTIONS.SDK_ERROR\n  }, function () {\n    return _objectSpread2(_objectSpread2({}, state), {}, {\n      initialized: false,\n      loading: false,\n      error: true\n    });\n  }).with({\n    type: SDK_ACTIONS.INIT_SDK\n  }, function (_ref2) {\n    var payload = _ref2.payload;\n    return {\n      sdk: payload,\n      initialized: true,\n      loading: false,\n      error: false\n    };\n  }).with({\n    type: SDK_ACTIONS.RESET_SDK\n  }, function () {\n    return initialState$1;\n  }).otherwise(function () {\n    return state;\n  });\n}\nvar initialState = {\n  initialized: false,\n  loading: false,\n  user: {}\n};\nfunction reducer(state, action) {\n  return K(action).with({\n    type: USER_ACTIONS.INIT_USER\n  }, function (_ref) {\n    var payload = _ref.payload;\n    return {\n      initialized: true,\n      loading: false,\n      user: payload\n    };\n  }).with({\n    type: USER_ACTIONS.RESET_USER\n  }, function () {\n    return initialState;\n  }).with({\n    type: USER_ACTIONS.UPDATE_USER_INFO\n  }, function (_ref2) {\n    var payload = _ref2.payload;\n    return _objectSpread2(_objectSpread2({}, state), {}, {\n      user: payload\n    });\n  }).otherwise(function () {\n    return state;\n  });\n}\nfunction useConnectionStatus(sdk, logger) {\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isOnline = _useState2[0],\n    setIsOnline = _useState2[1];\n  useEffect(function () {\n    var uniqueHandlerId = uuidv4();\n    try {\n      logger.warning('sdk changed', uniqueHandlerId);\n      var handler = new ConnectionHandler();\n      handler.onDisconnected = function () {\n        logger.warning('onDisconnected', {\n          isOnline: isOnline\n        });\n      };\n      handler.onReconnectStarted = function () {\n        setIsOnline(false);\n        logger.warning('onReconnectStarted', {\n          isOnline: isOnline\n        });\n      };\n      handler.onReconnectSucceeded = function () {\n        setIsOnline(true);\n        logger.warning('onReconnectSucceeded', {\n          isOnline: isOnline\n        });\n      };\n      handler.onReconnectFailed = function () {\n        sdk.reconnect();\n        logger.warning('onReconnectFailed');\n      };\n      logger.info('Added ConnectionHandler', uniqueHandlerId);\n      // workaround -> addConnectionHandler invalidates session handler\n      // provided through configureSession\n      if (sdk !== null && sdk !== void 0 && sdk.addConnectionHandler) {\n        sdk.addConnectionHandler(uniqueHandlerId, handler);\n      }\n    } catch (_unused) {\n      //\n    }\n    return function () {\n      try {\n        sdk.removeConnectionHandler(uniqueHandlerId);\n        logger.info('Removed ConnectionHandler', uniqueHandlerId);\n      } catch (_unused2) {\n        //\n      }\n    };\n  }, [sdk]);\n  useEffect(function () {\n    var tryReconnect = function tryReconnect() {\n      try {\n        logger.warning('Try reconnecting SDK');\n        if (sdk.connectionState !== 'OPEN') {\n          // connection is not broken yet\n          sdk.reconnect();\n        }\n      } catch (_unused3) {\n        //\n      }\n    };\n    // addEventListener version\n    window.addEventListener('online', tryReconnect);\n    return function () {\n      window.removeEventListener('online', tryReconnect);\n    };\n  }, [sdk]);\n\n  // add offline-class to body\n  useEffect(function () {\n    var body = document.querySelector('body');\n    if (!isOnline) {\n      try {\n        body.classList.add('sendbird__offline');\n        logger.info('Added class sendbird__offline to body');\n      } catch (e) {\n        //\n      }\n    } else {\n      try {\n        body.classList.remove('sendbird__offline');\n        logger.info('Removed class sendbird__offline from body');\n      } catch (e) {\n        //\n      }\n    }\n  }, [isOnline]);\n  return isOnline;\n}\nfunction disconnectSdk(_x) {\n  return _disconnectSdk.apply(this, arguments);\n}\nfunction _disconnectSdk() {\n  _disconnectSdk = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_ref) {\n    var sdkDispatcher, userDispatcher, sdk;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            sdkDispatcher = _ref.sdkDispatcher, userDispatcher = _ref.userDispatcher, sdk = _ref.sdk;\n            return _context4.abrupt(\"return\", new Promise(function (resolve) {\n              sdkDispatcher({\n                type: SDK_ACTIONS.SET_SDK_LOADING,\n                payload: true\n              });\n              if (sdk !== null && sdk !== void 0 && sdk.disconnect) {\n                sdk.disconnect().then(function () {\n                  sdkDispatcher({\n                    type: SDK_ACTIONS.RESET_SDK\n                  });\n                  userDispatcher({\n                    type: USER_ACTIONS.RESET_USER\n                  });\n                }).finally(function () {\n                  resolve(true);\n                });\n              } else {\n                resolve(true);\n              }\n            }));\n          case 2:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _disconnectSdk.apply(this, arguments);\n}\nvar APP_VERSION_STRING = '3.4.9';\nvar INIT_SDK = SDK_ACTIONS.INIT_SDK,\n  SET_SDK_LOADING = SDK_ACTIONS.SET_SDK_LOADING,\n  RESET_SDK = SDK_ACTIONS.RESET_SDK,\n  SDK_ERROR = SDK_ACTIONS.SDK_ERROR;\nvar INIT_USER = USER_ACTIONS.INIT_USER,\n  UPDATE_USER_INFO = USER_ACTIONS.UPDATE_USER_INFO,\n  RESET_USER = USER_ACTIONS.RESET_USER;\nfunction getMissingParamError(_ref) {\n  var userId = _ref.userId,\n    appId = _ref.appId;\n  return \"SendbirdProvider | useConnect/setupConnection/Connection failed UserId: \".concat(userId, \" or appId: \").concat(appId, \" missing\");\n}\nfunction getConnectSbError(error) {\n  return \"SendbirdProvider | useConnect/setupConnection/Connection failed. \".concat((error === null || error === void 0 ? void 0 : error.code) || '', \" \").concat((error === null || error === void 0 ? void 0 : error.message) || '');\n}\nfunction setUpParams(_ref2) {\n  var appId = _ref2.appId,\n    customApiHost = _ref2.customApiHost,\n    customWebSocketHost = _ref2.customWebSocketHost;\n  var params = {\n    appId: appId,\n    modules: [new GroupChannelModule(), new OpenChannelModule()]\n  };\n  if (customApiHost) {\n    params['customApiHost'] = customApiHost;\n  }\n  if (customWebSocketHost) {\n    params['customWebSocketHost'] = customWebSocketHost;\n  }\n  var newSdk = SendbirdChat.init(params);\n  return newSdk;\n}\n\n// Steps\n// 1. Check if minimum userID/appID is provided\n//  1.a. If not, throw error > !reject\n//  1.b. If yes, continue\n// 2. Set up params with custom host if provided\n// 3. Set up session handler if provided\n// 4. Set up version\n// 5. Connect to Sendbird -> either using user ID or (user ID + access token)\n// 6. If connected, connectCbSucess\n//  6.a check if nickname is to be updated -> no > !resolve immediately\n//  6.b check if nickname is to be updated -> yes > update nickname > !resolve\n// 7. If not connected, connectCbError > !reject\nfunction setUpConnection(_x2) {\n  return _setUpConnection.apply(this, arguments);\n}\nfunction _setUpConnection() {\n  _setUpConnection = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(_ref3) {\n    var logger, sdkDispatcher, userDispatcher, initDashboardConfigs, userId, appId, customApiHost, customWebSocketHost, configureSession, nickname, profileUrl, accessToken;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            logger = _ref3.logger, sdkDispatcher = _ref3.sdkDispatcher, userDispatcher = _ref3.userDispatcher, initDashboardConfigs = _ref3.initDashboardConfigs, userId = _ref3.userId, appId = _ref3.appId, customApiHost = _ref3.customApiHost, customWebSocketHost = _ref3.customWebSocketHost, configureSession = _ref3.configureSession, nickname = _ref3.nickname, profileUrl = _ref3.profileUrl, accessToken = _ref3.accessToken;\n            return _context6.abrupt(\"return\", new Promise(function (resolve, reject) {\n              var _logger$info;\n              logger === null || logger === void 0 ? void 0 : (_logger$info = logger.info) === null || _logger$info === void 0 ? void 0 : _logger$info.call(logger, 'SendbirdProvider | useConnect/setupConnection/init', {\n                userId: userId,\n                appId: appId\n              });\n              sdkDispatcher({\n                type: SET_SDK_LOADING,\n                payload: true\n              });\n              if (userId && appId) {\n                var _logger$info3, _logger$info8;\n                var newSdk = setUpParams({\n                  appId: appId,\n                  customApiHost: customApiHost,\n                  customWebSocketHost: customWebSocketHost\n                });\n                if (configureSession && typeof configureSession === 'function') {\n                  var _logger$info2;\n                  var sessionHandler = configureSession(newSdk);\n                  logger === null || logger === void 0 ? void 0 : (_logger$info2 = logger.info) === null || _logger$info2 === void 0 ? void 0 : _logger$info2.call(logger, 'SendbirdProvider | useConnect/setupConnection/configureSession', sessionHandler);\n                  newSdk.setSessionHandler(sessionHandler);\n                }\n                logger === null || logger === void 0 ? void 0 : (_logger$info3 = logger.info) === null || _logger$info3 === void 0 ? void 0 : _logger$info3.call(logger, 'SendbirdProvider | useConnect/setupConnection/setVersion', {\n                  version: APP_VERSION_STRING\n                });\n                newSdk.addExtension('sb_uikit', APP_VERSION_STRING);\n                var connectCbSucess = /*#__PURE__*/function () {\n                  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(user) {\n                    var _logger$info4, _logger$info6;\n                    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            logger === null || logger === void 0 ? void 0 : (_logger$info4 = logger.info) === null || _logger$info4 === void 0 ? void 0 : _logger$info4.call(logger, 'SendbirdProvider | useConnect/setupConnection/connectCbSucess', user);\n                            sdkDispatcher({\n                              type: INIT_SDK,\n                              payload: newSdk\n                            });\n                            userDispatcher({\n                              type: INIT_USER,\n                              payload: user\n                            });\n                            initDashboardConfigs(newSdk).then(function (config) {\n                              var _logger$info5;\n                              logger === null || logger === void 0 ? void 0 : (_logger$info5 = logger.info) === null || _logger$info5 === void 0 ? void 0 : _logger$info5.call(logger, 'SendbirdProvider | useConnect/setupConnection/getUIKitConfiguration success', {\n                                config: config\n                              });\n                            }).catch(function (error) {\n                              var _logger$error;\n                              logger === null || logger === void 0 ? void 0 : (_logger$error = logger.error) === null || _logger$error === void 0 ? void 0 : _logger$error.call(logger, 'SendbirdProvider | useConnect/setupConnection/getUIKitConfiguration failed', {\n                                error: error\n                              });\n                            });\n\n                            // use nickname/profileUrl if provided\n                            // or set userID as nickname\n                            if ((nickname !== user.nickname || profileUrl !== user.profileUrl) && !(isTextuallyNull(nickname) && isTextuallyNull(profileUrl))) {\n                              logger === null || logger === void 0 ? void 0 : (_logger$info6 = logger.info) === null || _logger$info6 === void 0 ? void 0 : _logger$info6.call(logger, 'SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo', {\n                                nickname: nickname,\n                                profileUrl: profileUrl\n                              });\n                              newSdk.updateCurrentUserInfo({\n                                nickname: nickname || user.nickname,\n                                profileUrl: profileUrl || user.profileUrl\n                              }).then(function (namedUser) {\n                                var _logger$info7;\n                                logger === null || logger === void 0 ? void 0 : (_logger$info7 = logger.info) === null || _logger$info7 === void 0 ? void 0 : _logger$info7.call(logger, 'SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo success', {\n                                  nickname: nickname,\n                                  profileUrl: profileUrl\n                                });\n                                userDispatcher({\n                                  type: UPDATE_USER_INFO,\n                                  payload: namedUser\n                                });\n                              }).finally(function () {\n                                resolve();\n                              });\n                            } else {\n                              resolve();\n                            }\n                          case 5:\n                          case \"end\":\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5);\n                  }));\n                  return function connectCbSucess(_x6) {\n                    return _ref5.apply(this, arguments);\n                  };\n                }();\n                var connectCbError = function connectCbError(e) {\n                  var _logger$error2;\n                  var errorMessage = getConnectSbError(e);\n                  logger === null || logger === void 0 ? void 0 : (_logger$error2 = logger.error) === null || _logger$error2 === void 0 ? void 0 : _logger$error2.call(logger, errorMessage, {\n                    e: e,\n                    appId: appId,\n                    userId: userId\n                  });\n                  sdkDispatcher({\n                    type: RESET_SDK\n                  });\n                  userDispatcher({\n                    type: RESET_USER\n                  });\n                  sdkDispatcher({\n                    type: SDK_ERROR\n                  });\n                  // exit promise with error\n                  reject(errorMessage);\n                };\n                logger === null || logger === void 0 ? void 0 : (_logger$info8 = logger.info) === null || _logger$info8 === void 0 ? void 0 : _logger$info8.call(logger, \"SendbirdProvider | useConnect/setupConnection/connect connecting using \".concat(accessToken !== null && accessToken !== void 0 ? accessToken : userId));\n                newSdk.connect(userId, accessToken).then(function (res) {\n                  return connectCbSucess(res);\n                }).catch(function (err) {\n                  return connectCbError(err);\n                });\n              } else {\n                var _logger$error3;\n                var errorMessage = getMissingParamError({\n                  userId: userId,\n                  appId: appId\n                });\n                sdkDispatcher({\n                  type: SDK_ERROR\n                });\n                logger === null || logger === void 0 ? void 0 : (_logger$error3 = logger.error) === null || _logger$error3 === void 0 ? void 0 : _logger$error3.call(logger, errorMessage);\n                // exit promise with error\n                reject(errorMessage);\n              }\n            }));\n          case 2:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _setUpConnection.apply(this, arguments);\n}\nfunction connect(_x3) {\n  return _connect.apply(this, arguments);\n}\nfunction _connect() {\n  _connect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(_ref) {\n    var logger, sdkDispatcher, userDispatcher, initDashboardConfigs, userId, appId, customApiHost, customWebSocketHost, configureSession, nickname, profileUrl, accessToken, sdk;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            logger = _ref.logger, sdkDispatcher = _ref.sdkDispatcher, userDispatcher = _ref.userDispatcher, initDashboardConfigs = _ref.initDashboardConfigs, userId = _ref.userId, appId = _ref.appId, customApiHost = _ref.customApiHost, customWebSocketHost = _ref.customWebSocketHost, configureSession = _ref.configureSession, nickname = _ref.nickname, profileUrl = _ref.profileUrl, accessToken = _ref.accessToken, sdk = _ref.sdk;\n            _context7.next = 3;\n            return disconnectSdk({\n              logger: logger,\n              sdkDispatcher: sdkDispatcher,\n              userDispatcher: userDispatcher,\n              sdk: sdk\n            });\n          case 3:\n            _context7.next = 5;\n            return setUpConnection({\n              logger: logger,\n              sdkDispatcher: sdkDispatcher,\n              userDispatcher: userDispatcher,\n              initDashboardConfigs: initDashboardConfigs,\n              userId: userId,\n              appId: appId,\n              customApiHost: customApiHost,\n              customWebSocketHost: customWebSocketHost,\n              configureSession: configureSession,\n              nickname: nickname,\n              profileUrl: profileUrl,\n              accessToken: accessToken\n            });\n          case 5:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _connect.apply(this, arguments);\n}\nfunction useConnect(triggerTypes, staticTypes) {\n  var _logger$info;\n  var userId = triggerTypes.userId,\n    appId = triggerTypes.appId,\n    accessToken = triggerTypes.accessToken;\n  var logger = staticTypes.logger,\n    nickname = staticTypes.nickname,\n    profileUrl = staticTypes.profileUrl,\n    configureSession = staticTypes.configureSession,\n    customApiHost = staticTypes.customApiHost,\n    customWebSocketHost = staticTypes.customWebSocketHost,\n    sdk = staticTypes.sdk,\n    sdkDispatcher = staticTypes.sdkDispatcher,\n    userDispatcher = staticTypes.userDispatcher,\n    initDashboardConfigs = staticTypes.initDashboardConfigs;\n  logger === null || logger === void 0 ? void 0 : (_logger$info = logger.info) === null || _logger$info === void 0 ? void 0 : _logger$info.call(logger, 'SendbirdProvider | useConnect', _objectSpread2(_objectSpread2({}, triggerTypes), staticTypes));\n  useEffect(function () {\n    var _logger$info2;\n    logger === null || logger === void 0 ? void 0 : (_logger$info2 = logger.info) === null || _logger$info2 === void 0 ? void 0 : _logger$info2.call(logger, 'SendbirdProvider | useConnect/useEffect', {\n      userId: userId,\n      appId: appId,\n      accessToken: accessToken\n    });\n    try {\n      connect({\n        userId: userId,\n        appId: appId,\n        accessToken: accessToken,\n        logger: logger,\n        nickname: nickname,\n        profileUrl: profileUrl,\n        configureSession: configureSession,\n        customApiHost: customApiHost,\n        customWebSocketHost: customWebSocketHost,\n        sdk: sdk,\n        sdkDispatcher: sdkDispatcher,\n        userDispatcher: userDispatcher,\n        initDashboardConfigs: initDashboardConfigs\n      });\n    } catch (error) {\n      var _logger$error;\n      logger === null || logger === void 0 ? void 0 : (_logger$error = logger.error) === null || _logger$error === void 0 ? void 0 : _logger$error.call(logger, 'SendbirdProvider | useConnect/useEffect', error);\n    }\n  }, [userId, appId, accessToken]);\n  var reconnect = useCallback(function () {\n    var _logger$info3;\n    logger === null || logger === void 0 ? void 0 : (_logger$info3 = logger.info) === null || _logger$info3 === void 0 ? void 0 : _logger$info3.call(logger, 'SendbirdProvider | useConnect/reconnect/useCallback', {\n      sdk: sdk\n    });\n    try {\n      connect({\n        userId: userId,\n        appId: appId,\n        accessToken: accessToken,\n        logger: logger,\n        nickname: nickname,\n        profileUrl: profileUrl,\n        configureSession: configureSession,\n        customApiHost: customApiHost,\n        customWebSocketHost: customWebSocketHost,\n        sdk: sdk,\n        sdkDispatcher: sdkDispatcher,\n        userDispatcher: userDispatcher,\n        initDashboardConfigs: initDashboardConfigs\n      });\n    } catch (error) {\n      var _logger$error2;\n      logger === null || logger === void 0 ? void 0 : (_logger$error2 = logger.error) === null || _logger$error2 === void 0 ? void 0 : _logger$error2.call(logger, 'SendbirdProvider | useConnect/reconnect/useCallback', error);\n    }\n  }, [sdk]);\n  return reconnect;\n}\n\n// Logger, pretty much explains it\n// in SendbirdProvider\n\n// const [logger, setLogger] = useState(LoggerFactory(logLevel));\nvar LOG_LEVELS = {\n  DEBUG: 'debug',\n  WARNING: 'warning',\n  ERROR: 'error',\n  INFO: 'info',\n  ALL: 'all'\n};\nvar colorLog = function colorLog(level) {\n  switch (level) {\n    case LOG_LEVELS.WARNING:\n      return 'color: Orange';\n    case LOG_LEVELS.ERROR:\n      return 'color: Red';\n    default:\n      return 'color: Gray';\n  }\n};\nvar printLog = function printLog(_ref) {\n  var level = _ref.level,\n    title = _ref.title,\n    _ref$description = _ref.description,\n    description = _ref$description === void 0 ? '' : _ref$description;\n  // eslint-disable-next-line no-console\n  console.log(\"%c SendbirdUIKit | \".concat(level, \" | \").concat(new Date().toISOString(), \" | \").concat(title, \" \").concat(description && '|'), colorLog(level), description);\n};\nvar noop = function noop() {/* noop */};\nvar getDefaultLogger = function getDefaultLogger() {\n  return {\n    info: noop,\n    error: noop,\n    warning: noop\n  };\n};\nvar LoggerFactory = function LoggerFactory(lvl, customInterface) {\n  var logInterface = customInterface || printLog;\n  var lvlArray = Array.isArray(lvl) ? lvl : [lvl];\n  var applyLog = function applyLog(lgLvl) {\n    return function (title, description) {\n      return logInterface({\n        level: lgLvl,\n        title: title,\n        description: description\n      });\n    };\n  };\n  var logger = lvlArray.reduce(function (accumulator, currentLvl) {\n    if (currentLvl === LOG_LEVELS.DEBUG || currentLvl === LOG_LEVELS.ALL) {\n      return _objectSpread2(_objectSpread2({}, accumulator), {}, {\n        info: applyLog(LOG_LEVELS.INFO),\n        error: applyLog(LOG_LEVELS.ERROR),\n        warning: applyLog(LOG_LEVELS.WARNING)\n      });\n    }\n    if (currentLvl === LOG_LEVELS.INFO) {\n      return _objectSpread2(_objectSpread2({}, accumulator), {}, {\n        info: applyLog(LOG_LEVELS.INFO)\n      });\n    }\n    if (currentLvl === LOG_LEVELS.ERROR) {\n      return _objectSpread2(_objectSpread2({}, accumulator), {}, {\n        error: applyLog(LOG_LEVELS.ERROR)\n      });\n    }\n    if (currentLvl === LOG_LEVELS.WARNING) {\n      return _objectSpread2(_objectSpread2({}, accumulator), {}, {\n        warning: applyLog(LOG_LEVELS.WARNING)\n      });\n    }\n    return _objectSpread2({}, accumulator);\n  }, getDefaultLogger());\n  return logger;\n};\n\n// TODO: Make this to hook, useLogger\n\n// https://davidwalsh.name/pubsub-javascript\n// we use pubsub to sync events between multiple components(example - ChannelList, Channel)\n// for example, if customer sends a message from their custom component\n// without pubsub,we would not be able to listen to it\n// in our ChannelList or Conversation\n\nvar pubSubFactory = function pubSubFactory() {\n  var topics = {};\n  var hOP = topics.hasOwnProperty;\n  return {\n    __getTopics: function __getTopics() {\n      return topics;\n    },\n    subscribe: function subscribe(topic, listener) {\n      // Create the topic's object if not yet created\n      if (!hOP.call(topics, topic)) {\n        topics[topic] = [];\n      }\n\n      // Add the listener to queue\n      var index = topics[topic].push(listener) - 1;\n\n      // Provide handle back for removal of topic\n      return {\n        remove: function remove() {\n          delete topics[topic][index];\n        }\n      };\n    },\n    publish: function publish(topic, info) {\n      // If the topic doesn't exist, or there's no listeners in queue, just leave\n      if (!hOP.call(topics, topic)) {\n        return;\n      }\n\n      // Cycle through topics queue, fire!\n      topics[topic].forEach(function (item) {\n        item(info !== undefined ? info : {});\n      });\n    }\n  };\n};\n\n/* eslint-disable default-param-last */\nfunction useAppendDomNode() {\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var rootSelector = arguments.length > 1 ? arguments[1] : undefined;\n  useEffect(function () {\n    var root = document.querySelector(rootSelector);\n    ids.forEach(function (id) {\n      var elem = document.createElement('div');\n      elem.setAttribute('id', id);\n      root.appendChild(elem);\n    });\n    return function () {\n      ids.forEach(function (id) {\n        var target = document.getElementById(id);\n        if (target) {\n          root.removeChild(target);\n        }\n      });\n    };\n  }, []);\n}\nfunction snakeToCamel(obj) {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n  if (Array.isArray(obj)) {\n    return obj.map(function (item) {\n      return snakeToCamel(item);\n    });\n  }\n  var result = {};\n  Object.keys(obj).forEach(function (key) {\n    var camelKey = key.replace(/_\\w/g, function (m) {\n      return m[1].toUpperCase();\n    });\n    result[camelKey] = snakeToCamel(obj[key]);\n  });\n  return result;\n}\n\n// @link https://gist.github.com/navix/6c25c15e0a2d3cd0e5bce999e0086fc9\n/* eslint-disable @typescript-eslint/ban-types */\n\nfunction isSameType(a, b) {\n  // we do this cause typeof can't differenciate object/ array/ null\n  return Object.prototype.toString.call(a) === Object.prototype.toString.call(b);\n}\n\n/**\n * @param localConfigs Set directly in code level. It has higher priority than remote ones\n * @param remoteConfigs Set by Feature Config setting in Dashboard\n * @returns\n */\nfunction getConfigsByPriority(localConfigs, remoteConfigs) {\n  var prioritizedConfigs = _objectSpread2({}, remoteConfigs); // copy remoteConfigs to prevent mutation\n\n  Object.keys(localConfigs).forEach(function (key) {\n    if (prioritizedConfigs.hasOwnProperty(key) && isSameType(localConfigs[key], prioritizedConfigs[key])) {\n      prioritizedConfigs[key] = typeof localConfigs[key] === 'object'\n      // Recursively call getConfigsByPriority only when the value of the key is Object\n      ? getConfigsByPriority(localConfigs[key], prioritizedConfigs[key]) : localConfigs[key];\n    }\n  });\n  return prioritizedConfigs;\n}\n\n// @link: https://docs.google.com/spreadsheets/d/1-AozBMHRYOXS74vZ-7x2ptQcBL6nnM-orJWRvUgmkd4/edit#gid=0\nvar initialConfig = {\n  common: {\n    enableUsingDefaultUserProfile: false\n  },\n  groupChannel: {\n    channel: {\n      enableMention: false,\n      enableOgtag: true,\n      enableReactions: true,\n      enableTypingIndicator: true,\n      enableVoiceMessage: false,\n      input: {\n        camera: {\n          enablePhoto: true,\n          enableVideo: true\n        },\n        enableDocument: true,\n        gallery: {\n          enablePhoto: true,\n          enableVideo: true\n        }\n      },\n      replyType: 'quote_reply',\n      threadReplySelectType: 'thread'\n    },\n    channelList: {\n      enableMessageReceiptStatus: false,\n      enableTypingIndicator: false\n    },\n    setting: {\n      enableMessageSearch: false\n    }\n  },\n  openChannel: {\n    channel: {\n      enableOgtag: true,\n      input: {\n        camera: {\n          enablePhoto: true,\n          enableVideo: true\n        },\n        enableDocument: true,\n        gallery: {\n          enablePhoto: true,\n          enableVideo: true\n        }\n      }\n    }\n  }\n};\nvar UIKitConfigStorageManager = /*#__PURE__*/function () {\n  function UIKitConfigStorageManager(storage) {\n    _classCallCheck(this, UIKitConfigStorageManager);\n    _defineProperty(this, \"key\", void 0);\n    _defineProperty(this, \"storage\", void 0);\n    this.storage = storage;\n  }\n  _createClass(UIKitConfigStorageManager, [{\n    key: \"init\",\n    value: function init(appId) {\n      this.key = \"sbu@\".concat(appId, \".uikitConfiguration\");\n      return this.get();\n    }\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload) {\n        var storedConfig, mergedConfig;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.get();\n              case 2:\n                storedConfig = _context.sent;\n                mergedConfig = {\n                  lastUpdatedAt: payload.lastUpdatedAt,\n                  uikitConfigurations: getConfigsByPriority(payload === null || payload === void 0 ? void 0 : payload.uikitConfigurations, storedConfig === null || storedConfig === void 0 ? void 0 : storedConfig.uikitConfigurations)\n                };\n                _context.next = 6;\n                return this.storage.setItem(this.key, JSON.stringify(mergedConfig));\n              case 6:\n                return _context.abrupt(\"return\", mergedConfig);\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function update(_x4) {\n        return _update.apply(this, arguments);\n      }\n      return update;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var initialPayload, storedConfig;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                initialPayload = {\n                  lastUpdatedAt: 0,\n                  uikitConfigurations: initialConfig\n                };\n                _context2.prev = 1;\n                _context2.next = 4;\n                return this.storage.getItem(this.key);\n              case 4:\n                storedConfig = _context2.sent;\n                if (!storedConfig) {\n                  _context2.next = 9;\n                  break;\n                }\n                return _context2.abrupt(\"return\", JSON.parse(storedConfig));\n              case 9:\n                return _context2.abrupt(\"return\", initialPayload);\n              case 10:\n                _context2.next = 15;\n                break;\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", initialPayload);\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 12]]);\n      }));\n      function get() {\n        return _get.apply(this, arguments);\n      }\n      return get;\n    }()\n  }]);\n  return UIKitConfigStorageManager;\n}();\nvar UIKitConfigContext = /*#__PURE__*/createContext({\n  initDashboardConfigs: function initDashboardConfigs() {\n    return Promise.resolve();\n  },\n  configs: initialConfig\n});\nvar UIKitConfigProvider = function UIKitConfigProvider(_ref) {\n  var storage = _ref.storage,\n    children = _ref.children,\n    localConfigs = _ref.localConfigs;\n  // Set by Feature Config setting in Dashboard\n  var _useState3 = useState(initialConfig),\n    _useState4 = _slicedToArray(_useState3, 2),\n    remoteConfigs = _useState4[0],\n    setRemoteConfigs = _useState4[1];\n  var initDashboardConfigs = useCallback( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(sdk) {\n      var payload, manager, storedConfigs, _payload, updatedPayloed;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              if (!(storage == null)) {\n                _context3.next = 7;\n                break;\n              }\n              _context3.next = 4;\n              return sdk.getUIKitConfiguration();\n            case 4:\n              payload = _context3.sent;\n              setRemoteConfigs(snakeToCamel(payload.json.uikit_configurations));\n              return _context3.abrupt(\"return\");\n            case 7:\n              // Compare the sdk uikitConfig's lastUpdatedAt <-> stored one\n              manager = new UIKitConfigStorageManager(storage);\n              _context3.next = 10;\n              return manager.init(sdk.appId);\n            case 10:\n              storedConfigs = _context3.sent;\n              if (!(sdk.appInfo.uikitConfigInfo.lastUpdatedAt === storedConfigs.lastUpdatedAt)) {\n                _context3.next = 15;\n                break;\n              }\n              setRemoteConfigs(storedConfigs.uikitConfigurations);\n              _context3.next = 22;\n              break;\n            case 15:\n              _context3.next = 17;\n              return sdk.getUIKitConfiguration();\n            case 17:\n              _payload = _context3.sent;\n              _context3.next = 20;\n              return manager.update(snakeToCamel(_payload.json));\n            case 20:\n              updatedPayloed = _context3.sent;\n              setRemoteConfigs(updatedPayloed.uikitConfigurations);\n            case 22:\n              _context3.next = 26;\n              break;\n            case 24:\n              _context3.prev = 24;\n              _context3.t0 = _context3[\"catch\"](0);\n            case 26:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 24]]);\n    }));\n    return function (_x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }(), []);\n  var configs = getConfigsByPriority(localConfigs, remoteConfigs);\n  return /*#__PURE__*/React__default.createElement(UIKitConfigContext.Provider, {\n    value: {\n      initDashboardConfigs: initDashboardConfigs,\n      configs: configs\n    }\n  }, children);\n};\nvar useUIKitConfig = function useUIKitConfig() {\n  return useContext(UIKitConfigContext);\n};\nvar VoiceMessageProvider = function VoiceMessageProvider(_ref) {\n  var children = _ref.children,\n    _ref$isVoiceMessageEn = _ref.isVoiceMessageEnabled,\n    isVoiceMessageEnabled = _ref$isVoiceMessageEn === void 0 ? true : _ref$isVoiceMessageEn;\n  if (!isVoiceMessageEnabled) {\n    return /*#__PURE__*/React__default.createElement(VoicePlayerProvider, null, children);\n  }\n  return /*#__PURE__*/React__default.createElement(VoiceRecorderProvider, null, /*#__PURE__*/React__default.createElement(VoicePlayerProvider, null, children));\n};\nvar TIMEOUT = 2000;\n\n/*\n  * This is a factory function that returns a scheduler.\n  * The scheduler is a queue that calls the callback function on intervals.\n  * If interval is empty, the callback function is called immediately.\n  * If interval is not empty, the callback function is called after the interval.\n*/\nfunction schedulerFactory(_ref) {\n  var logger = _ref.logger,\n    timeout = _ref.timeout,\n    cb = _ref.cb;\n  var queue = [];\n  var interval = null;\n  var push = function push(channel) {\n    var channelPresent = queue.find(function (c) {\n      return c.url === channel.url;\n    });\n    if (!channelPresent) {\n      queue.push(channel);\n    } else {\n      logger.info('Channel: Mark as read already in queue', {\n        channel: channel\n      });\n    }\n    // start the interval if it's not already running\n    if (interval) {\n      return;\n    }\n    var item = queue.shift();\n    if (item) {\n      cb(item);\n    }\n    interval = setInterval(function () {\n      if (queue.length === 0 && interval) {\n        clearInterval(interval);\n        interval = null;\n        return;\n      }\n      var item = queue.shift();\n      if (item) {\n        cb(item);\n      }\n    }, timeout || TIMEOUT);\n  };\n  var clear = function clear() {\n    queue = [];\n    if (interval) {\n      clearInterval(interval);\n      interval = null;\n    }\n  };\n  return {\n    push: push,\n    clear: clear,\n    getQueue: function getQueue() {\n      return queue;\n    }\n  };\n}\n\n// this hook accepts a callback to run component is unmounted\nfunction useUnmount(callback) {\n  useLayoutEffect(function () {\n    return function () {\n      callback();\n    };\n  }, []);\n}\nfunction useMarkAsReadScheduler(_ref, _ref2) {\n  var isConnected = _ref.isConnected;\n  var logger = _ref2.logger;\n  var markAsReadScheduler = useMemo(function () {\n    return schedulerFactory({\n      logger: logger,\n      cb: function cb(channel) {\n        try {\n          channel.markAsRead();\n        } catch (error) {\n          logger.warning('Channel: Mark as delivered failed', {\n            channel: channel,\n            error: error\n          });\n        }\n      }\n    });\n  }, []);\n  useEffect(function () {\n    // for simplicity, we clear the queue when the connection is lost\n    if (!isConnected) {\n      markAsReadScheduler.clear();\n    }\n  }, [isConnected]);\n  useUnmount(function () {\n    markAsReadScheduler.clear();\n  });\n  return markAsReadScheduler;\n}\nfunction useMarkAsDeliveredScheduler(_ref, _ref2) {\n  var isConnected = _ref.isConnected;\n  var logger = _ref2.logger;\n  var markAsDeliveredScheduler = useMemo(function () {\n    return schedulerFactory({\n      logger: logger,\n      cb: function cb(channel) {\n        try {\n          channel.markAsDelivered();\n        } catch (error) {\n          logger.warning('Channel: Mark as delivered failed', {\n            channel: channel,\n            error: error\n          });\n        }\n      }\n    });\n  }, []);\n  useEffect(function () {\n    // for simplicity, we clear the queue when the connection is lost\n    if (!isConnected) {\n      markAsDeliveredScheduler.clear();\n    }\n  }, [isConnected]);\n  useUnmount(function () {\n    markAsDeliveredScheduler.clear();\n  });\n  return markAsDeliveredScheduler;\n}\nfunction Sendbird(props) {\n  var _props$replyType = props.replyType,\n    replyType = _props$replyType === void 0 ? 'NONE' : _props$replyType,\n    _props$isMentionEnabl = props.isMentionEnabled,\n    isMentionEnabled = _props$isMentionEnabl === void 0 ? false : _props$isMentionEnabl,\n    _props$isReactionEnab = props.isReactionEnabled,\n    isReactionEnabled = _props$isReactionEnab === void 0 ? true : _props$isReactionEnab,\n    _props$disableUserPro = props.disableUserProfile,\n    disableUserProfile = _props$disableUserPro === void 0 ? false : _props$disableUserPro,\n    _props$isVoiceMessage = props.isVoiceMessageEnabled,\n    isVoiceMessageEnabled = _props$isVoiceMessage === void 0 ? true : _props$isVoiceMessage,\n    _props$isTypingIndica = props.isTypingIndicatorEnabledOnChannelList,\n    isTypingIndicatorEnabledOnChannelList = _props$isTypingIndica === void 0 ? false : _props$isTypingIndica,\n    _props$isMessageRecei = props.isMessageReceiptStatusEnabledOnChannelList,\n    isMessageReceiptStatusEnabledOnChannelList = _props$isMessageRecei === void 0 ? false : _props$isMessageRecei;\n  return /*#__PURE__*/React__default.createElement(UIKitConfigProvider, {\n    localConfigs: {\n      common: {\n        enableUsingDefaultUserProfile: !disableUserProfile\n      },\n      groupChannel: {\n        channel: {\n          enableReactions: isReactionEnabled,\n          enableMention: isMentionEnabled,\n          enableVoiceMessage: isVoiceMessageEnabled,\n          /**\n           * Since dashbord UIKit Configuration's replyType is consisted of all lowercase letters,\n           * we convert it from here.\n           * i.e. 'THREAD' -> 'thread'\n           */\n          replyType: replyType.toLowerCase()\n        },\n        channelList: {\n          enableTypingIndicator: isTypingIndicatorEnabledOnChannelList,\n          enableMessageReceiptStatus: isMessageReceiptStatusEnabledOnChannelList\n        }\n      }\n    }\n  }, /*#__PURE__*/React__default.createElement(SendbirdSDK, props));\n}\nvar SendbirdSDK = function SendbirdSDK(_ref) {\n  var appId = _ref.appId,\n    userId = _ref.userId,\n    children = _ref.children,\n    _ref$accessToken = _ref.accessToken,\n    accessToken = _ref$accessToken === void 0 ? '' : _ref$accessToken,\n    _ref$customApiHost = _ref.customApiHost,\n    customApiHost = _ref$customApiHost === void 0 ? '' : _ref$customApiHost,\n    _ref$customWebSocketH = _ref.customWebSocketHost,\n    customWebSocketHost = _ref$customWebSocketH === void 0 ? '' : _ref$customWebSocketH,\n    _ref$configureSession = _ref.configureSession,\n    configureSession = _ref$configureSession === void 0 ? null : _ref$configureSession,\n    _ref$theme = _ref.theme,\n    theme = _ref$theme === void 0 ? 'light' : _ref$theme,\n    _ref$config = _ref.config,\n    config = _ref$config === void 0 ? {} : _ref$config,\n    _ref$nickname = _ref.nickname,\n    nickname = _ref$nickname === void 0 ? '' : _ref$nickname,\n    _ref$colorSet = _ref.colorSet,\n    colorSet = _ref$colorSet === void 0 ? null : _ref$colorSet,\n    _ref$stringSet = _ref.stringSet,\n    stringSet = _ref$stringSet === void 0 ? null : _ref$stringSet,\n    _ref$dateLocale = _ref.dateLocale,\n    dateLocale = _ref$dateLocale === void 0 ? null : _ref$dateLocale,\n    _ref$profileUrl = _ref.profileUrl,\n    profileUrl = _ref$profileUrl === void 0 ? '' : _ref$profileUrl,\n    _ref$voiceRecord = _ref.voiceRecord,\n    voiceRecord = _ref$voiceRecord === void 0 ? {\n      maxRecordingTime: VOICE_RECORDER_DEFAULT_MAX,\n      minRecordingTime: VOICE_RECORDER_DEFAULT_MIN\n    } : _ref$voiceRecord,\n    _ref$userListQuery = _ref.userListQuery,\n    userListQuery = _ref$userListQuery === void 0 ? null : _ref$userListQuery,\n    _ref$imageCompression = _ref.imageCompression,\n    imageCompression = _ref$imageCompression === void 0 ? {} : _ref$imageCompression,\n    _ref$allowProfileEdit = _ref.allowProfileEdit,\n    allowProfileEdit = _ref$allowProfileEdit === void 0 ? false : _ref$allowProfileEdit,\n    _ref$disableMarkAsDel = _ref.disableMarkAsDelivered,\n    disableMarkAsDelivered = _ref$disableMarkAsDel === void 0 ? false : _ref$disableMarkAsDel,\n    _ref$renderUserProfil = _ref.renderUserProfile,\n    renderUserProfile = _ref$renderUserProfil === void 0 ? null : _ref$renderUserProfil,\n    _ref$onUserProfileMes = _ref.onUserProfileMessage,\n    onUserProfileMessage = _ref$onUserProfileMes === void 0 ? null : _ref$onUserProfileMes;\n  var breakpoint = false;\n  var _config$logLevel = config.logLevel,\n    logLevel = _config$logLevel === void 0 ? '' : _config$logLevel,\n    _config$userMention = config.userMention,\n    userMention = _config$userMention === void 0 ? {} : _config$userMention,\n    _config$isREMUnitEnab = config.isREMUnitEnabled,\n    isREMUnitEnabled = _config$isREMUnitEnab === void 0 ? false : _config$isREMUnitEnab;\n  var _useState5 = useState(LoggerFactory(logLevel)),\n    _useState6 = _slicedToArray(_useState5, 2),\n    logger = _useState6[0],\n    setLogger = _useState6[1];\n  var _useState7 = useState(pubSubFactory()),\n    _useState8 = _slicedToArray(_useState7, 1),\n    pubSub = _useState8[0];\n  var _useReducer = useReducer(reducer$1, initialState$1),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    sdkStore = _useReducer2[0],\n    sdkDispatcher = _useReducer2[1];\n  var _useReducer3 = useReducer(reducer, initialState),\n    _useReducer4 = _slicedToArray(_useReducer3, 2),\n    userStore = _useReducer4[0],\n    userDispatcher = _useReducer4[1];\n  var _useUIKitConfig = useUIKitConfig(),\n    configs = _useUIKitConfig.configs,\n    initDashboardConfigs = _useUIKitConfig.initDashboardConfigs;\n  useTheme(colorSet);\n  var reconnect = useConnect({\n    appId: appId,\n    userId: userId,\n    accessToken: accessToken\n  }, {\n    logger: logger,\n    nickname: nickname,\n    profileUrl: profileUrl,\n    configureSession: configureSession,\n    customApiHost: customApiHost,\n    customWebSocketHost: customWebSocketHost,\n    sdk: sdkStore === null || sdkStore === void 0 ? void 0 : sdkStore.sdk,\n    sdkDispatcher: sdkDispatcher,\n    userDispatcher: userDispatcher,\n    initDashboardConfigs: initDashboardConfigs\n  });\n\n  // to create a pubsub to communicate between parent and child\n  useEffect(function () {\n    setLogger(LoggerFactory(logLevel));\n  }, [logLevel]);\n  useAppendDomNode(['sendbird-modal-root', 'sendbird-dropdown-portal', 'sendbird-emoji-list-portal'], 'body');\n\n  // should move to reducer\n  var _useState9 = useState(theme),\n    _useState10 = _slicedToArray(_useState9, 2),\n    currenttheme = _useState10[0],\n    setCurrenttheme = _useState10[1];\n  useEffect(function () {\n    setCurrenttheme(theme);\n  }, [theme]);\n  useEffect(function () {\n    var body = document.querySelector('body');\n    body.classList.remove('sendbird-experimental__rem__units');\n    if (isREMUnitEnabled) {\n      body.classList.add('sendbird-experimental__rem__units');\n    }\n  }, [isREMUnitEnabled]);\n  // add-remove theme from body\n  useEffect(function () {\n    logger.info('Setup theme', \"Theme: \".concat(currenttheme));\n    try {\n      var body = document.querySelector('body');\n      body.classList.remove('sendbird-theme--light');\n      body.classList.remove('sendbird-theme--dark');\n      body.classList.add(\"sendbird-theme--\".concat(currenttheme || 'light'));\n      logger.info('Finish setup theme');\n      // eslint-disable-next-line no-empty\n    } catch (e) {\n      logger.warning('Setup theme failed', \"\".concat(e));\n    }\n    return function () {\n      try {\n        var _body = document.querySelector('body');\n        _body.classList.remove('sendbird-theme--light');\n        _body.classList.remove('sendbird-theme--dark');\n        // eslint-disable-next-line no-empty\n      } catch (_unused) {}\n    };\n  }, [currenttheme]);\n  var isOnline = useConnectionStatus(sdkStore.sdk, logger);\n  var markAsReadScheduler = useMarkAsReadScheduler({\n    isConnected: isOnline\n  }, {\n    logger: logger\n  });\n  var markAsDeliveredScheduler = useMarkAsDeliveredScheduler({\n    isConnected: isOnline\n  }, {\n    logger: logger\n  });\n  var localeStringSet = React__default.useMemo(function () {\n    if (!stringSet) {\n      return getStringSet('en');\n    }\n    return _objectSpread2(_objectSpread2({}, getStringSet('en')), stringSet);\n  }, [stringSet]);\n  return /*#__PURE__*/React__default.createElement(SendbirdSdkContext.Provider, {\n    value: {\n      stores: {\n        sdkStore: sdkStore,\n        userStore: userStore\n      },\n      dispatchers: {\n        sdkDispatcher: sdkDispatcher,\n        userDispatcher: userDispatcher,\n        reconnect: reconnect\n      },\n      config: {\n        disableMarkAsDelivered: disableMarkAsDelivered,\n        renderUserProfile: renderUserProfile,\n        onUserProfileMessage: onUserProfileMessage,\n        allowProfileEdit: allowProfileEdit,\n        isOnline: isOnline,\n        userId: userId,\n        appId: appId,\n        accessToken: accessToken,\n        theme: currenttheme,\n        setCurrenttheme: setCurrenttheme,\n        userListQuery: userListQuery,\n        logger: logger,\n        pubSub: pubSub,\n        imageCompression: _objectSpread2({\n          compressionRate: 0.7\n        }, imageCompression),\n        voiceRecord: voiceRecord,\n        userMention: {\n          maxMentionCount: (userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount) || 10,\n          maxSuggestionCount: (userMention === null || userMention === void 0 ? void 0 : userMention.maxSuggestionCount) || 15\n        },\n        markAsReadScheduler: markAsReadScheduler,\n        markAsDeliveredScheduler: markAsDeliveredScheduler,\n        // From UIKitConfigProvider.localConfigs\n        disableUserProfile: !configs.common.enableUsingDefaultUserProfile,\n        isReactionEnabled: configs.groupChannel.channel.enableReactions,\n        isMentionEnabled: configs.groupChannel.channel.enableMention,\n        isVoiceMessageEnabled: configs.groupChannel.channel.enableVoiceMessage,\n        replyType:\n        /**\n         * Since UIKitConfigContext's replyType is consisted of all lowercase letters,\n         * we need to convert it into all uppercase ones like\n         *  - 'thread' -> 'THREAD'\n         *  - 'quote_reply' -> 'QUOTE_REPLY'\n         */\n        configs.groupChannel.channel.replyType.toUpperCase(),\n        isTypingIndicatorEnabledOnChannelList: configs.groupChannel.channelList.enableTypingIndicator,\n        isMessageReceiptStatusEnabledOnChannelList: configs.groupChannel.channelList.enableMessageReceiptStatus\n        // TODO(Ahyoung): add more configs from UIKitConfigProvider.remoteConfigs\n      }\n    }\n  }, /*#__PURE__*/React__default.createElement(MediaQueryProvider, {\n    logger: logger,\n    breakpoint: breakpoint\n  }, /*#__PURE__*/React__default.createElement(LocalizationProvider, {\n    stringSet: localeStringSet,\n    dateLocale: dateLocale\n  }, /*#__PURE__*/React__default.createElement(VoiceMessageProvider, {\n    isVoiceMessageEnabled: configs.groupChannel.channel.enableVoiceMessage\n  }, children))));\n};\nexport { Sendbird as default };","map":{"version":3,"mappings":"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","names":["isEmpty","obj","undefined","prop","hasOwnProperty","JSON","stringify","useTheme","overrides","useLayoutEffect","cssVars","variables","SDK_ACTIONS","INIT_SDK","SET_SDK_LOADING","RESET_SDK","SDK_ERROR","initialState","initialized","loading","sdk","error","reducer","state","action","match","with","type","_ref","payload","_ref2","otherwise","user","USER_ACTIONS","INIT_USER","RESET_USER","UPDATE_USER_INFO","useConnectionStatus","logger","useState","isOnline","setIsOnline","useEffect","uniqueHandlerId","uuidv4","warning","handler","ConnectionHandler","onDisconnected","onReconnectStarted","onReconnectSucceeded","onReconnectFailed","reconnect","info","addConnectionHandler","removeConnectionHandler","tryReconnect","connectionState","window","addEventListener","removeEventListener","body","document","querySelector","classList","add","e","remove","disconnectSdk","sdkDispatcher","userDispatcher","Promise","resolve","disconnect","then","finally","APP_VERSION_STRING","getMissingParamError","userId","appId","getConnectSbError","code","message","setUpParams","customApiHost","customWebSocketHost","params","modules","GroupChannelModule","OpenChannelModule","newSdk","SendbirdChat","init","setUpConnection","_ref3","initDashboardConfigs","configureSession","nickname","profileUrl","accessToken","reject","_logger$info","sessionHandler","_logger$info2","setSessionHandler","_logger$info3","version","addExtension","connectCbSucess","_logger$info4","config","_logger$info5","catch","_logger$error","isTextuallyNull","_logger$info6","updateCurrentUserInfo","namedUser","_logger$info7","connectCbError","errorMessage","_logger$error2","_logger$info8","connect","res","err","_logger$error3","useConnect","triggerTypes","staticTypes","useCallback","LOG_LEVELS","DEBUG","WARNING","ERROR","INFO","ALL","colorLog","level","printLog","title","description","console","log","Date","toISOString","noop","getDefaultLogger","LoggerFactory","lvl","customInterface","logInterface","lvlArray","Array","isArray","applyLog","lgLvl","reduce","accumulator","currentLvl","pubSubFactory","topics","hOP","__getTopics","subscribe","topic","listener","call","index","push","publish","forEach","item","useAppendDomNode","ids","rootSelector","root","id","elem","createElement","setAttribute","appendChild","target","getElementById","removeChild","snakeToCamel","map","result","Object","keys","key","camelKey","replace","m","toUpperCase","isSameType","a","b","prototype","toString","getConfigsByPriority","localConfigs","remoteConfigs","prioritizedConfigs","initialConfig","common","enableUsingDefaultUserProfile","groupChannel","channel","enableMention","enableOgtag","enableReactions","enableTypingIndicator","enableVoiceMessage","input","camera","enablePhoto","enableVideo","enableDocument","gallery","replyType","threadReplySelectType","channelList","enableMessageReceiptStatus","setting","enableMessageSearch","openChannel","UIKitConfigStorageManager","constructor","storage","_defineProperty","get","storedConfig","mergedConfig","lastUpdatedAt","uikitConfigurations","mergeConfigs","setItem","initialPayload","getItem","parse","UIKitConfigContext","createContext","configs","UIKitConfigProvider","children","setRemoteConfigs","getUIKitConfiguration","json","uikit_configurations","manager","storedConfigs","appInfo","uikitConfigInfo","update","updatedPayloed","React","Provider","value","useUIKitConfig","useContext","VoiceMessageProvider","isVoiceMessageEnabled","VoicePlayerProvider","VoiceRecorderProvider","TIMEOUT","schedulerFactory","timeout","cb","queue","interval","channelPresent","find","c","url","shift","setInterval","length","clearInterval","clear","getQueue","useUnmount","callback","useMarkAsReadScheduler","isConnected","markAsReadScheduler","useMemo","markAsRead","useMarkAsDeliveredScheduler","markAsDeliveredScheduler","markAsDelivered","Sendbird","props","isMentionEnabled","isReactionEnabled","disableUserProfile","isTypingIndicatorEnabledOnChannelList","isMessageReceiptStatusEnabledOnChannelList","toLowerCase","SendbirdSDK","theme","colorSet","stringSet","dateLocale","voiceRecord","maxRecordingTime","VOICE_RECORDER_DEFAULT_MAX","minRecordingTime","VOICE_RECORDER_DEFAULT_MIN","userListQuery","imageCompression","allowProfileEdit","disableMarkAsDelivered","renderUserProfile","onUserProfileMessage","breakpoint","logLevel","userMention","isREMUnitEnabled","setLogger","pubSub","useReducer","sdkReducers","sdkInitialState","sdkStore","userReducers","userInitialState","userStore","currenttheme","setCurrenttheme","useOnlineStatus","localeStringSet","getStringSet","SendbirdSdkContext","stores","dispatchers","compressionRate","maxMentionCount","maxSuggestionCount","MediaQueryProvider","LocalizationProvider"],"sources":["C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\hooks\\useTheme.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\dux\\sdk\\actionTypes.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\dux\\sdk\\initialState.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\dux\\sdk\\reducers.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\dux\\user\\initialState.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\dux\\user\\reducers.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\hooks\\useOnlineStatus.js","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\hooks\\useConnect\\disconnectSdk.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\hooks\\useConnect\\setupConnection.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\hooks\\useConnect\\connect.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\hooks\\useConnect\\index.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\Logger\\index.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\pubSub\\index.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\hooks\\useAppendDomNode.js","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\UIKitConfigProvider\\utils\\snakeToCamel.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\UIKitConfigProvider\\utils\\types.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\UIKitConfigProvider\\utils\\getConfigsByPriority.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\UIKitConfigProvider\\const\\initialConfig.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\UIKitConfigProvider\\UIKitConfigStorageManager\\index.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\UIKitConfigProvider\\index.tsx","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\VoiceMessageProvider.tsx","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\hooks\\schedulerFactory.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\hooks\\useUnmount.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\hooks\\useMarkAsReadScheduler.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\hooks\\useMarkAsDeliveredScheduler.ts","C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\Sendbird.tsx"],"sourcesContent":["import { useLayoutEffect } from 'react';\nimport cssVars from 'css-vars-ponyfill';\n\nconst isEmpty = (obj) => {\n  if (obj === null || obj === undefined) {\n    return true;\n  }\n\n  for (const prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n  return JSON.stringify(obj) === JSON.stringify({});\n};\n\nconst useTheme = (overrides: Record<string, string>): void => {\n  useLayoutEffect(() => {\n    if (!isEmpty(overrides)) {\n      cssVars({\n        variables: {\n          ...{\n            '--sendbird-dark-primary-500': '#4d2aa6',\n            '--sendbird-dark-primary-400': '#6440C4',\n            '--sendbird-dark-primary-300': '#7B53EF',\n            '--sendbird-dark-primary-200': '#9E8CF5',\n            '--sendbird-dark-primary-100': '#E2DFFF',\n\n            '--sendbird-dark-secondary-500': '#007A7A',\n            '--sendbird-dark-secondary-400': '#189A8D',\n            '--sendbird-dark-secondary-300': '#2EBA9F',\n            '--sendbird-dark-secondary-200': '#6FD6BE',\n            '--sendbird-dark-secondary-100': '#AEF2DC',\n\n            '--sendbird-dark-information-100': '#b2d9ff',\n\n            '--sendbird-dark-error-500': '#A30E2D',\n            '--sendbird-dark-error-400': '#C11F41',\n            '--sendbird-dark-error-300': '#E53157',\n            '--sendbird-dark-error-200': '#FF6183',\n            '--sendbird-dark-error-100': '#FFABBD',\n\n            '--sendbird-dark-background-700': '#000000',\n            '--sendbird-dark-background-600': '#161616',\n            '--sendbird-dark-background-500': '#2C2C2C',\n            '--sendbird-dark-background-400': '#393939',\n            '--sendbird-dark-background-300': '#A8A8A8',\n            '--sendbird-dark-background-200': '#D9D9D9',\n            '--sendbird-dark-background-100': '#F0F0F0',\n            '--sendbird-dark-background-50': '#FFFFFF',\n\n            '--sendbird-dark-overlay': 'rgba(0, 0, 0, 0.32)',\n\n            '--sendbird-dark-onlight-01': 'rgba(0, 0, 0, 0.88)',\n            '--sendbird-dark-onlight-02': 'rgba(0, 0, 0, 0.50)',\n            '--sendbird-dark-onlight-03': 'rgba(0, 0, 0, 0.38)',\n            '--sendbird-dark-onlight-04': 'rgba(0, 0, 0, 0.12)',\n\n            '--sendbird-dark-ondark-01': 'rgba(255, 255, 255, 0.88)',\n            '--sendbird-dark-ondark-02': 'rgba(255, 255, 255, 0.50)',\n            '--sendbird-dark-ondark-03': 'rgba(255, 255, 255, 0.38)',\n            '--sendbird-dark-ondark-04': 'rgba(255, 255, 255, 0.12)',\n\n            '--sendbird-dark-shadow-01': '0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)',\n            '--sendbird-dark-shadow-02': '0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)',\n            '--sendbird-dark-shadow-03': '0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)',\n            '--sendbird-dark-shadow-04': '0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)',\n\n            '--sendbird-dark-shadow-message-input': '0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)',\n\n            '--sendbird-light-primary-500': '#4d2aa6',\n            '--sendbird-light-primary-400': '#6440C4',\n            '--sendbird-light-primary-300': '#7B53EF',\n            '--sendbird-light-primary-200': '#9E8CF5',\n            '--sendbird-light-primary-100': '#E2DFFF',\n\n            '--sendbird-light-secondary-500': '#007A7A',\n            '--sendbird-light-secondary-400': '#189A8D',\n            '--sendbird-light-secondary-300': '#2EBA9F',\n            '--sendbird-light-secondary-200': '#6FD6BE',\n            '--sendbird-light-secondary-100': '#AEF2DC',\n\n            '--sendbird-light-information-100': '#b2d9ff',\n\n            '--sendbird-light-error-500': '#A30E2D',\n            '--sendbird-light-error-400': '#C11F41',\n            '--sendbird-light-error-300': '#E53157',\n            '--sendbird-light-error-200': '#FF6183',\n            '--sendbird-light-error-100': '#FFABBD',\n\n            '--sendbird-light-background-700': '#000000',\n            '--sendbird-light-background-600': '#161616',\n            '--sendbird-light-background-500': '#2C2C2C',\n            '--sendbird-light-background-400': '#393939',\n            '--sendbird-light-background-300': '#A8A8A8',\n            '--sendbird-light-background-200': '#D9D9D9',\n            '--sendbird-light-background-100': '#F0F0F0',\n            '--sendbird-light-background-50': ' #FFFFFF',\n\n            '--sendbird-light-overlay': 'rgba(0, 0, 0, 0.32)',\n\n            '--sendbird-light-onlight-01': 'rgba(0, 0, 0, 0.88)',\n            '--sendbird-light-onlight-02': 'rgba(0, 0, 0, 0.50)',\n            '--sendbird-light-onlight-03': 'rgba(0, 0, 0, 0.38)',\n            '--sendbird-light-onlight-04': 'rgba(0, 0, 0, 0.12)',\n\n            '--sendbird-light-ondark-01': 'rgba(255, 255, 255, 0.88)',\n            '--sendbird-light-ondark-02': 'rgba(255, 255, 255, 0.50)',\n            '--sendbird-light-ondark-03': 'rgba(255, 255, 255, 0.38)',\n            '--sendbird-light-ondark-04': 'rgba(255, 255, 255, 0.12)',\n\n            '--sendbird-light-shadow-01': '0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)',\n            '--sendbird-light-shadow-02': '0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)',\n            '--sendbird-light-shadow-03': '0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)',\n            '--sendbird-light-shadow-04': '0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)',\n\n            '--sendbird-light-shadow-message-input': '0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)',\n          },\n          ...overrides,\n        },\n      });\n    }\n  }, [overrides]);\n};\n\nexport default useTheme;\n","import SendbirdChat from '@sendbird/chat';\nimport { CreateAction } from '../../../utils/typeHelpers/reducers/createAction';\n\nexport const SDK_ACTIONS = {\n  INIT_SDK: 'INIT_SDK',\n  SET_SDK_LOADING: 'SET_SDK_LOADING',\n  RESET_SDK: 'RESET_SDK',\n  SDK_ERROR: 'SDK_ERROR',\n} as const;\n\ntype SDK_PAYLOAD_TYPES = {\n  [SDK_ACTIONS.SET_SDK_LOADING]: boolean,\n  [SDK_ACTIONS.INIT_SDK]: SendbirdChat,\n  [SDK_ACTIONS.SDK_ERROR]: null,\n  [SDK_ACTIONS.RESET_SDK]: null,\n};\n\nexport type SdkActionTypes = CreateAction<SDK_PAYLOAD_TYPES>;\n","import SendbirdChat from '@sendbird/chat';\n\nexport interface SdkStoreStateType {\n  initialized: boolean;\n  loading: boolean;\n  sdk: SendbirdChat,\n  error: boolean;\n}\n\nconst initialState: SdkStoreStateType = {\n  initialized: false,\n  loading: false,\n  sdk: {} as SendbirdChat,\n  error: false,\n};\n\nexport default initialState;\n","import { match } from 'ts-pattern';\nimport { SdkActionTypes, SDK_ACTIONS } from './actionTypes';\nimport initialState, { SdkStoreStateType } from './initialState';\n\nexport default function reducer(state: SdkStoreStateType, action: SdkActionTypes): SdkStoreStateType {\n  return match(action)\n    .with({ type: SDK_ACTIONS.SET_SDK_LOADING }, ({ payload }) => {\n      return {\n        ...state,\n        initialized: false,\n        loading: payload,\n      };\n    })\n    .with({ type: SDK_ACTIONS.SDK_ERROR }, () => {\n      return {\n        ...state,\n        initialized: false,\n        loading: false,\n        error: true,\n      };\n    })\n    .with({ type: SDK_ACTIONS.INIT_SDK }, ({ payload }) => {\n      return {\n        sdk: payload,\n        initialized: true,\n        loading: false,\n        error: false,\n      };\n    })\n    .with({ type: SDK_ACTIONS.RESET_SDK }, () => {\n      return initialState;\n    })\n    .otherwise(() => {\n      return state;\n    });\n}\n","import { User } from '@sendbird/chat';\n\nexport interface UserStoreStateType {\n  initialized: boolean;\n  loading: boolean;\n  user: User;\n}\n\nconst initialState: UserStoreStateType = {\n  initialized: false,\n  loading: false,\n  user: {} as User,\n};\n\nexport default initialState;\n","import { match } from 'ts-pattern';\nimport { UserActionTypes, USER_ACTIONS } from './actionTypes';\nimport initialState, { UserStoreStateType } from './initialState';\n\nexport default function reducer(state: UserStoreStateType, action: UserActionTypes): UserStoreStateType {\n  return match(action)\n    .with({ type: USER_ACTIONS.INIT_USER }, ({ payload }) => {\n      return {\n        initialized: true,\n        loading: false,\n        user: payload,\n      };\n    })\n    .with({ type: USER_ACTIONS.RESET_USER }, () => {\n      return initialState;\n    })\n    .with({ type: USER_ACTIONS.UPDATE_USER_INFO }, ({ payload }) => {\n      return {\n        ...state,\n        user: payload,\n      };\n    })\n    .otherwise(() => {\n      return state;\n    });\n}\n","import { ConnectionHandler } from '@sendbird/chat';\nimport { useState, useEffect } from 'react';\n\nimport { uuidv4 } from '../../utils/uuid';\n\nfunction useConnectionStatus(sdk, logger) {\n  const [isOnline, setIsOnline] = useState(true);\n\n  useEffect(() => {\n    const uniqueHandlerId = uuidv4();\n    try {\n      logger.warning('sdk changed', uniqueHandlerId);\n      const handler = new ConnectionHandler();\n      handler.onDisconnected = () => {\n        logger.warning('onDisconnected', { isOnline });\n      };\n      handler.onReconnectStarted = () => {\n        setIsOnline(false);\n        logger.warning('onReconnectStarted', { isOnline });\n      };\n      handler.onReconnectSucceeded = () => {\n        setIsOnline(true);\n        logger.warning('onReconnectSucceeded', { isOnline });\n      };\n      handler.onReconnectFailed = () => {\n        sdk.reconnect();\n        logger.warning('onReconnectFailed');\n      };\n      logger.info('Added ConnectionHandler', uniqueHandlerId);\n      // workaround -> addConnectionHandler invalidates session handler\n      // provided through configureSession\n      if (sdk?.addConnectionHandler) {\n        sdk.addConnectionHandler(uniqueHandlerId, handler);\n      }\n    } catch {\n      //\n    }\n    return () => {\n      try {\n        sdk.removeConnectionHandler(uniqueHandlerId);\n        logger.info('Removed ConnectionHandler', uniqueHandlerId);\n      } catch {\n        //\n      }\n    };\n  }, [sdk]);\n\n  useEffect(() => {\n    const tryReconnect = () => {\n      try {\n        logger.warning('Try reconnecting SDK');\n        if (sdk.connectionState !== 'OPEN') { // connection is not broken yet\n          sdk.reconnect();\n        }\n      } catch {\n        //\n      }\n    };\n    // addEventListener version\n    window.addEventListener('online', tryReconnect);\n    return () => {\n      window.removeEventListener('online', tryReconnect);\n    };\n  }, [sdk]);\n\n  // add offline-class to body\n  useEffect(() => {\n    const body = document.querySelector('body');\n    if (!isOnline) {\n      try {\n        body.classList.add('sendbird__offline');\n        logger.info('Added class sendbird__offline to body');\n      } catch (e) {\n        //\n      }\n    } else {\n      try {\n        body.classList.remove('sendbird__offline');\n        logger.info('Removed class sendbird__offline from body');\n      } catch (e) {\n        //\n      }\n    }\n  }, [isOnline]);\n\n  return isOnline;\n}\n\nexport default useConnectionStatus;\n","import { SDK_ACTIONS } from '../../dux/sdk/actionTypes';\nimport { USER_ACTIONS } from '../../dux/user/actionTypes';\nimport { DisconnectSdkTypes } from './types';\n\nexport async function disconnectSdk({\n  sdkDispatcher,\n  userDispatcher,\n  sdk,\n}: DisconnectSdkTypes): Promise<boolean> {\n  return new Promise((resolve) => {\n    sdkDispatcher({ type: SDK_ACTIONS.SET_SDK_LOADING, payload: true });\n    if (sdk?.disconnect) {\n      sdk.disconnect()\n        .then(() => {\n          sdkDispatcher({ type: SDK_ACTIONS.RESET_SDK });\n          userDispatcher({ type: USER_ACTIONS.RESET_USER });\n        })\n        .finally(() => {\n          resolve(true);\n        });\n    } else {\n      resolve(true);\n    }\n  });\n}\n","import SendbirdChat, { SendbirdError, User } from '@sendbird/chat';\nimport { OpenChannelModule } from '@sendbird/chat/openChannel';\nimport { GroupChannelModule } from '@sendbird/chat/groupChannel';\n\nimport { SDK_ACTIONS } from '../../dux/sdk/actionTypes';\nimport { USER_ACTIONS } from '../../dux/user/actionTypes';\n\nimport { isTextuallyNull } from '../../../utils';\n\nimport { SetupConnectionTypes } from './types';\n\nconst APP_VERSION_STRING = '__react_dev_mode__';\n\nconst { INIT_SDK, SET_SDK_LOADING, RESET_SDK, SDK_ERROR } = SDK_ACTIONS;\nconst { INIT_USER, UPDATE_USER_INFO, RESET_USER } = USER_ACTIONS;\n\nexport function getMissingParamError({ userId, appId }: { userId?: string, appId?: string }): string {\n  return `SendbirdProvider | useConnect/setupConnection/Connection failed UserId: ${userId} or appId: ${appId} missing`;\n}\nexport function getConnectSbError(error?: SendbirdError): string {\n  return `SendbirdProvider | useConnect/setupConnection/Connection failed. ${error?.code || ''} ${error?.message || ''}`;\n}\n\nexport function setUpParams({\n  appId,\n  customApiHost,\n  customWebSocketHost,\n}: {\n  appId: string;\n  customApiHost?: string;\n  customWebSocketHost?: string;\n}): SendbirdChat {\n  const params = {\n    appId,\n    modules: [\n      new GroupChannelModule(),\n      new OpenChannelModule(),\n    ],\n  };\n  if (customApiHost) {\n    params['customApiHost'] = customApiHost;\n  }\n  if (customWebSocketHost) {\n    params['customWebSocketHost'] = customWebSocketHost;\n  }\n  const newSdk = SendbirdChat.init(params);\n  return newSdk;\n}\n\n// Steps\n// 1. Check if minimum userID/appID is provided\n//  1.a. If not, throw error > !reject\n//  1.b. If yes, continue\n// 2. Set up params with custom host if provided\n// 3. Set up session handler if provided\n// 4. Set up version\n// 5. Connect to Sendbird -> either using user ID or (user ID + access token)\n// 6. If connected, connectCbSucess\n//  6.a check if nickname is to be updated -> no > !resolve immediately\n//  6.b check if nickname is to be updated -> yes > update nickname > !resolve\n// 7. If not connected, connectCbError > !reject\nexport async function setUpConnection({\n  logger,\n  sdkDispatcher,\n  userDispatcher,\n  initDashboardConfigs,\n  userId,\n  appId,\n  customApiHost,\n  customWebSocketHost,\n  configureSession,\n  nickname,\n  profileUrl,\n  accessToken,\n}: SetupConnectionTypes): Promise<void> {\n  return new Promise((resolve, reject) => {\n    logger?.info?.('SendbirdProvider | useConnect/setupConnection/init', { userId, appId });\n    sdkDispatcher({ type: SET_SDK_LOADING, payload: true });\n\n    if (userId && appId) {\n      const newSdk = setUpParams({\n        appId,\n        customApiHost,\n        customWebSocketHost,\n      });\n\n      if (configureSession && typeof configureSession === 'function') {\n        const sessionHandler = configureSession(newSdk);\n        logger?.info?.('SendbirdProvider | useConnect/setupConnection/configureSession', sessionHandler);\n        newSdk.setSessionHandler(sessionHandler);\n      }\n\n      logger?.info?.('SendbirdProvider | useConnect/setupConnection/setVersion', { version: APP_VERSION_STRING });\n      newSdk.addExtension('sb_uikit', APP_VERSION_STRING);\n\n      const connectCbSucess = async (user: User) => {\n        logger?.info?.('SendbirdProvider | useConnect/setupConnection/connectCbSucess', user);\n        sdkDispatcher({ type: INIT_SDK, payload: newSdk });\n        userDispatcher({ type: INIT_USER, payload: user });\n\n        initDashboardConfigs(newSdk)\n          .then(config => {\n            logger?.info?.('SendbirdProvider | useConnect/setupConnection/getUIKitConfiguration success', {\n              config,\n            });\n          })\n          .catch(error => {\n            logger?.error?.('SendbirdProvider | useConnect/setupConnection/getUIKitConfiguration failed', {\n              error,\n            });\n          });\n\n        // use nickname/profileUrl if provided\n        // or set userID as nickname\n        if ((nickname !== user.nickname || profileUrl !== user.profileUrl)\n          && !(isTextuallyNull(nickname) && isTextuallyNull(profileUrl))\n        ) {\n          logger?.info?.('SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo', {\n            nickname,\n            profileUrl,\n          });\n          newSdk.updateCurrentUserInfo({\n            nickname: nickname || user.nickname,\n            profileUrl: profileUrl || user.profileUrl,\n          }).then((namedUser) => {\n            logger?.info?.('SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo success', {\n              nickname,\n              profileUrl,\n            });\n            userDispatcher({ type: UPDATE_USER_INFO, payload: namedUser });\n          }).finally(() => {\n            resolve();\n          });\n        } else {\n          resolve();\n        }\n      };\n\n      const connectCbError = (e: SendbirdError) => {\n        const errorMessage = getConnectSbError(e);\n        logger?.error?.(errorMessage, {\n          e,\n          appId,\n          userId,\n        });\n        sdkDispatcher({ type: RESET_SDK });\n        userDispatcher({ type: RESET_USER });\n\n        sdkDispatcher({ type: SDK_ERROR });\n        // exit promise with error\n        reject(errorMessage);\n      };\n\n      logger?.info?.(`SendbirdProvider | useConnect/setupConnection/connect connecting using ${accessToken ?? userId}`);\n      newSdk.connect(userId, accessToken)\n        .then((res) => connectCbSucess(res))\n        .catch((err) => connectCbError(err));\n    } else {\n      const errorMessage = getMissingParamError({ userId, appId });\n      sdkDispatcher({ type: SDK_ERROR });\n      logger?.error?.(errorMessage);\n      // exit promise with error\n      reject(errorMessage);\n    }\n  });\n}\n","import { disconnectSdk } from './disconnectSdk';\nimport { setUpConnection } from './setupConnection';\nimport { ConnectTypes } from './types';\n\nexport async function connect({\n  logger,\n  sdkDispatcher,\n  userDispatcher,\n  initDashboardConfigs,\n  userId,\n  appId,\n  customApiHost,\n  customWebSocketHost,\n  configureSession,\n  nickname,\n  profileUrl,\n  accessToken,\n  sdk,\n}: ConnectTypes): Promise<void> {\n  await disconnectSdk({\n    logger,\n    sdkDispatcher,\n    userDispatcher,\n    sdk,\n  });\n  await setUpConnection({\n    logger,\n    sdkDispatcher,\n    userDispatcher,\n    initDashboardConfigs,\n    userId,\n    appId,\n    customApiHost,\n    customWebSocketHost,\n    configureSession,\n    nickname,\n    profileUrl,\n    accessToken,\n  });\n}\n","import { useCallback, useEffect } from 'react';\n\nimport { ReconnectType, StaticTypes, TriggerTypes } from './types';\nimport { connect } from './connect';\n\nexport default function useConnect(triggerTypes: TriggerTypes, staticTypes: StaticTypes): ReconnectType {\n  const { userId, appId, accessToken } = triggerTypes;\n  const {\n    logger,\n    nickname,\n    profileUrl,\n    configureSession,\n    customApiHost,\n    customWebSocketHost,\n    sdk,\n    sdkDispatcher,\n    userDispatcher,\n    initDashboardConfigs,\n  } = staticTypes;\n  logger?.info?.('SendbirdProvider | useConnect', { ...triggerTypes, ...staticTypes });\n\n  useEffect(() => {\n    logger?.info?.('SendbirdProvider | useConnect/useEffect', { userId, appId, accessToken });\n    try {\n      connect({\n        userId,\n        appId,\n        accessToken,\n        logger,\n        nickname,\n        profileUrl,\n        configureSession,\n        customApiHost,\n        customWebSocketHost,\n        sdk,\n        sdkDispatcher,\n        userDispatcher,\n        initDashboardConfigs,\n      });\n    } catch (error) {\n      logger?.error?.('SendbirdProvider | useConnect/useEffect', error);\n    }\n  }, [userId, appId, accessToken]);\n  const reconnect = useCallback(() => {\n    logger?.info?.('SendbirdProvider | useConnect/reconnect/useCallback', { sdk });\n\n    try {\n      connect({\n        userId,\n        appId,\n        accessToken,\n        logger,\n        nickname,\n        profileUrl,\n        configureSession,\n        customApiHost,\n        customWebSocketHost,\n        sdk,\n        sdkDispatcher,\n        userDispatcher,\n        initDashboardConfigs,\n      });\n    } catch (error) {\n      logger?.error?.('SendbirdProvider | useConnect/reconnect/useCallback', error);\n    }\n  }, [sdk]);\n  return reconnect;\n}\n","// Logger, pretty much explains it\n// in SendbirdProvider\n\nimport { ObjectValues } from '../../utils/typeHelpers/objectValues';\n\n// const [logger, setLogger] = useState(LoggerFactory(logLevel));\nexport const LOG_LEVELS = {\n  DEBUG: 'debug',\n  WARNING: 'warning',\n  ERROR: 'error',\n  INFO: 'info',\n  ALL: 'all',\n} as const;\nexport type LogLevel = ObjectValues<typeof LOG_LEVELS>;\n\nconst colorLog = (level: LogLevel): string => {\n  switch (level) {\n    case LOG_LEVELS.WARNING:\n      return ('color: Orange');\n    case LOG_LEVELS.ERROR:\n      return ('color: Red');\n    default:\n      return ('color: Gray');\n  }\n};\n\ninterface PrintLogProps {\n  level: LogLevel;\n  title: string;\n  description?: string;\n}\nexport const printLog = ({\n  level,\n  title,\n  description = '',\n}: PrintLogProps): void => {\n  // eslint-disable-next-line no-console\n  console.log(\n    `%c SendbirdUIKit | ${level} | ${new Date().toISOString()} | ${title} ${description && '|'}`, colorLog(level), description,\n  );\n};\n\ntype LoggerLogType = (title?: string, description?: string) => void;\ninterface LoggerInterface {\n  info: LoggerLogType;\n  error: LoggerLogType;\n  warning: LoggerLogType;\n}\n\nconst noop = () => { /* noop */ };\nexport const getDefaultLogger = (): LoggerInterface => ({\n  info: noop,\n  error: noop,\n  warning: noop,\n});\n\nexport const LoggerFactory = (\n  lvl: LogLevel,\n  customInterface?: () => void,\n): LoggerInterface => {\n  const logInterface = customInterface || printLog;\n  const lvlArray: Array<LogLevel> = Array.isArray(lvl) ? lvl : [lvl];\n\n  const applyLog = (lgLvl: LogLevel) => (title?: string, description?: string) => logInterface({\n    level: lgLvl,\n    title,\n    description,\n  });\n\n  const logger = lvlArray.reduce((accumulator, currentLvl) => {\n    if (currentLvl === LOG_LEVELS.DEBUG || currentLvl === LOG_LEVELS.ALL) {\n      return ({\n        ...accumulator,\n        info: applyLog(LOG_LEVELS.INFO),\n        error: applyLog(LOG_LEVELS.ERROR),\n        warning: applyLog(LOG_LEVELS.WARNING),\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.INFO) {\n      return ({\n        ...accumulator,\n        info: applyLog(LOG_LEVELS.INFO),\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.ERROR) {\n      return ({\n        ...accumulator,\n        error: applyLog(LOG_LEVELS.ERROR),\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.WARNING) {\n      return ({\n        ...accumulator,\n        warning: applyLog(LOG_LEVELS.WARNING),\n      });\n    }\n\n    return { ...accumulator };\n  }, getDefaultLogger());\n  return logger;\n};\n\n// TODO: Make this to hook, useLogger\n","// https://davidwalsh.name/pubsub-javascript\n// we use pubsub to sync events between multiple components(example - ChannelList, Channel)\n// for example, if customer sends a message from their custom component\n// without pubsub,we would not be able to listen to it\n// in our ChannelList or Conversation\n\ninterface PubSubTypes {\n  __getTopics: () => Record<string, string>;\n  subscribe: (topic: string, listener: unknown) => { remove: () => void };\n  publish: (topic: string, info: unknown) => void;\n}\n\nconst pubSubFactory = (): PubSubTypes => {\n  const topics = {};\n  const hOP = topics.hasOwnProperty;\n\n  return {\n    __getTopics: () => topics,\n    subscribe: (topic, listener) => {\n      // Create the topic's object if not yet created\n      if (!hOP.call(topics, topic)) { topics[topic] = []; }\n\n      // Add the listener to queue\n      const index = topics[topic].push(listener) - 1;\n\n      // Provide handle back for removal of topic\n      return {\n        remove: () => {\n          delete topics[topic][index];\n        },\n      };\n    },\n    publish: (topic, info) => {\n      // If the topic doesn't exist, or there's no listeners in queue, just leave\n      if (!hOP.call(topics, topic)) { return; }\n\n      // Cycle through topics queue, fire!\n      topics[topic].forEach((item) => {\n        item(info !== undefined ? info : {});\n      });\n    },\n  };\n};\n\nexport default pubSubFactory;\n","import { useEffect } from 'react';\n\n/* eslint-disable default-param-last */\nfunction useAppendDomNode(ids = [], rootSelector) {\n  useEffect(() => {\n    const root = document.querySelector(rootSelector);\n    ids.forEach((id) => {\n      const elem = document.createElement('div');\n      elem.setAttribute('id', id);\n      root.appendChild(elem);\n    });\n    return () => {\n      ids.forEach((id) => {\n        const target = document.getElementById(id);\n        if (target) {\n          root.removeChild(target);\n        }\n      });\n    };\n  }, []);\n}\n\nexport default useAppendDomNode;\n","type CamelCase<T> = T extends object\n  ? {\n      [K in keyof T as Uncapitalize<CamelCaseKey<K & string>>]: CamelCase<T[K]>;\n    }\n  : T;\n\ntype CamelCaseKey<K extends string> = K extends `${infer A}_${infer B}`\n  ? `${Lowercase<A>}${Capitalize<CamelCaseKey<B & string>>}`\n  : K;\n\nexport function snakeToCamel<T>(obj: T): CamelCase<T> {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj as CamelCase<T>;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map((item) => snakeToCamel(item)) as CamelCase<T>;\n  }\n\n  const result = {} as CamelCase<T>;\n  Object.keys(obj).forEach((key) => {\n    const camelKey = key.replace(/_\\w/g, (m) => m[1].toUpperCase());\n    result[camelKey] = snakeToCamel(obj[key]);\n  });\n\n  return result;\n}\n","// @link https://gist.github.com/navix/6c25c15e0a2d3cd0e5bce999e0086fc9\n/* eslint-disable @typescript-eslint/ban-types */\nexport type DeepPartial<T> = T extends Function\n  ? T\n  : (T extends object ? { [P in keyof T]?: DeepPartial<T[P]>; } : T);\n\nexport function isSameType<T, U>(a: T, b: U): boolean {\n  // we do this cause typeof can't differenciate object/ array/ null\n  return Object.prototype.toString.call(a) === Object.prototype.toString.call(b);\n}\n","import { DeepPartial, isSameType } from './types';\nimport { UIKitConfigInfo } from '../types';\n\n/**\n * @param localConfigs Set directly in code level. It has higher priority than remote ones\n * @param remoteConfigs Set by Feature Config setting in Dashboard\n * @returns\n */\nexport default function getConfigsByPriority(localConfigs: DeepPartial<UIKitConfigInfo>, remoteConfigs: UIKitConfigInfo): UIKitConfigInfo {\n  const prioritizedConfigs = { ...remoteConfigs }; // copy remoteConfigs to prevent mutation\n\n  Object.keys(localConfigs).forEach(key => {\n    if (prioritizedConfigs.hasOwnProperty(key) && isSameType(localConfigs[key], prioritizedConfigs[key])) {\n      prioritizedConfigs[key] = typeof localConfigs[key] === 'object'\n        // Recursively call getConfigsByPriority only when the value of the key is Object\n        ? getConfigsByPriority(localConfigs[key], prioritizedConfigs[key])\n        : localConfigs[key];\n    }\n  });\n\n  return prioritizedConfigs;\n}\n","import { UIKitConfigInfo } from '../types';\n\n// @link: https://docs.google.com/spreadsheets/d/1-AozBMHRYOXS74vZ-7x2ptQcBL6nnM-orJWRvUgmkd4/edit#gid=0\nconst initialConfig: UIKitConfigInfo = {\n  common: {\n    enableUsingDefaultUserProfile: false,\n  },\n  groupChannel: {\n    channel: {\n      enableMention: false,\n      enableOgtag: true,\n      enableReactions: true,\n      enableTypingIndicator: true,\n      enableVoiceMessage: false,\n      input: {\n        camera: {\n          enablePhoto: true,\n          enableVideo: true,\n        },\n        enableDocument: true,\n        gallery: {\n          enablePhoto: true,\n          enableVideo: true,\n        },\n      },\n      replyType: 'quote_reply',\n      threadReplySelectType: 'thread',\n    },\n    channelList: {\n      enableMessageReceiptStatus: false,\n      enableTypingIndicator: false,\n    },\n    setting: {\n      enableMessageSearch: false,\n    },\n  },\n  openChannel: {\n    channel: {\n      enableOgtag: true,\n      input: {\n        camera: {\n          enablePhoto: true,\n          enableVideo: true,\n        },\n        enableDocument: true,\n        gallery: {\n          enablePhoto: true,\n          enableVideo: true,\n        },\n      },\n    },\n  },\n};\n\nexport default initialConfig;\n","import { UIKitConfigPayload } from '../types';\nimport mergeConfigs from '../utils/getConfigsByPriority';\nimport initialConfig from '../const/initialConfig';\n\nexport interface StorageInterface {\n  getItem(key: string): Promise<null|string>;\n  setItem(key: string, value: string): Promise<void>;\n}\n\nexport class UIKitConfigStorageManager {\n  key: string;\n\n  storage: StorageInterface;\n\n  constructor(storage: StorageInterface) {\n    this.storage = storage;\n  }\n\n  init(appId: string) {\n    this.key = `sbu@${appId}.uikitConfiguration`;\n    return this.get();\n  }\n\n  async update(payload: UIKitConfigPayload) {\n    const storedConfig = await this.get();\n    const mergedConfig = {\n      lastUpdatedAt: payload.lastUpdatedAt,\n      uikitConfigurations: mergeConfigs(payload?.uikitConfigurations, storedConfig?.uikitConfigurations),\n    };\n    await this.storage.setItem(this.key, JSON.stringify(mergedConfig));\n    return mergedConfig;\n  }\n\n  async get(): Promise<UIKitConfigPayload> {\n    const initialPayload = {\n      lastUpdatedAt: 0,\n      uikitConfigurations: initialConfig,\n    };\n    try {\n      const storedConfig = await this.storage.getItem(this.key);\n      if (storedConfig) {\n        // TODO: Validation\n        return JSON.parse(storedConfig);\n      } else {\n        return initialPayload;\n      }\n    } catch {\n      return initialPayload;\n    }\n  }\n}\n","import SendbirdChat from '@sendbird/chat';\nimport React, { useCallback, useState, createContext, useContext } from 'react';\n\nimport { snakeToCamel } from './utils/snakeToCamel';\nimport { DeepPartial } from './utils/types';\n\nimport getConfigsByPriority from './utils/getConfigsByPriority';\n\nimport { UIKitConfigInfo } from './types';\nimport initialConfig from './const/initialConfig';\nimport { UIKitConfigStorageManager, type StorageInterface } from './UIKitConfigStorageManager';\n\ninterface UIKitConfigContextInterface {\n  initDashboardConfigs: (sdk: SendbirdChat) => Promise<void>;\n  configs: UIKitConfigInfo;\n}\nconst UIKitConfigContext = createContext<UIKitConfigContextInterface>({\n  initDashboardConfigs: () => Promise.resolve(),\n  configs: initialConfig,\n});\n\ninterface UIKitConfigProviderProps {\n  // Configurations set by code level\n  localConfigs: DeepPartial<UIKitConfigInfo>;\n  children: React.ReactElement;\n  // If the storage value is not provided,\n  // it'll fetch the new configs set by dashboard everytime\n  storage?: StorageInterface;\n}\n\nconst UIKitConfigProvider = ({ storage, children, localConfigs }: UIKitConfigProviderProps) => {\n  // Set by Feature Config setting in Dashboard\n  const [remoteConfigs, setRemoteConfigs] = useState<UIKitConfigInfo>(initialConfig);\n\n  const initDashboardConfigs = useCallback(async (sdk: SendbirdChat) => {\n    try {\n      if (storage == null) {\n        const payload = await sdk.getUIKitConfiguration();\n        setRemoteConfigs(snakeToCamel(payload.json.uikit_configurations));\n        return;\n      }\n\n      // Compare the sdk uikitConfig's lastUpdatedAt <-> stored one\n      const manager = new UIKitConfigStorageManager(storage);\n      const storedConfigs = await manager.init(sdk.appId);\n\n      if (sdk.appInfo.uikitConfigInfo.lastUpdatedAt === storedConfigs.lastUpdatedAt) {\n        setRemoteConfigs(storedConfigs.uikitConfigurations);\n      } else {\n        const payload = await sdk.getUIKitConfiguration();\n        const updatedPayloed = await manager.update(snakeToCamel(payload.json));\n        setRemoteConfigs(updatedPayloed.uikitConfigurations);\n      }\n    } catch (error) {\n      //\n    }\n  }, []);\n\n  const configs = getConfigsByPriority(localConfigs, remoteConfigs);\n\n  return <UIKitConfigContext.Provider value={{\n    initDashboardConfigs,\n    configs,\n  }}>{children}</UIKitConfigContext.Provider>;\n};\n\nconst useUIKitConfig = () => useContext(UIKitConfigContext);\n\nexport { UIKitConfigProvider, useUIKitConfig };\n","import React from 'react';\nimport { VoicePlayerProvider } from '../hooks/VoicePlayer';\nimport { VoiceRecorderProvider } from '../hooks/VoiceRecorder';\n\nexport interface VoiceMessageProviderProps {\n  children: React.ReactElement;\n  isVoiceMessageEnabled?: boolean;\n}\n\nexport const VoiceMessageProvider = ({\n  children,\n  isVoiceMessageEnabled = true,\n}: VoiceMessageProviderProps): React.ReactElement => {\n  if (!isVoiceMessageEnabled) {\n    return (\n      <VoicePlayerProvider>\n        {children}\n      </VoicePlayerProvider>\n    );\n  }\n  return (\n    <VoiceRecorderProvider>\n      <VoicePlayerProvider>\n        {children}\n      </VoicePlayerProvider>\n    </VoiceRecorderProvider>\n  );\n};\n\nexport default VoiceMessageProvider;\n","import { GroupChannel } from '@sendbird/chat/groupChannel';\nimport { Logger } from '../SendbirdState';\n\nconst TIMEOUT = 2000;\n\n/*\n  * This is a factory function that returns a scheduler.\n  * The scheduler is a queue that calls the callback function on intervals.\n  * If interval is empty, the callback function is called immediately.\n  * If interval is not empty, the callback function is called after the interval.\n*/\nexport function schedulerFactory<T>({\n  logger,\n  timeout,\n  cb,\n}: {\n  logger: Logger;\n  timeout?: number;\n  cb: (item: T) => void;\n}) {\n  let queue: GroupChannel[] = [];\n  let interval: ReturnType<typeof setTimeout> | null = null;\n  const push = (channel: GroupChannel) => {\n    const channelPresent = queue.find((c) => c.url === channel.url);\n    if (!channelPresent) {\n      queue.push(channel);\n    } else {\n      logger.info('Channel: Mark as read already in queue', { channel });\n    }\n    // start the interval if it's not already running\n    if (interval) {\n      return;\n    }\n    const item = queue.shift();\n    if (item) {\n      cb(item as T);\n    }\n    interval = setInterval(() => {\n      if (queue.length === 0 && interval) {\n        clearInterval(interval);\n        interval = null;\n        return;\n      }\n      const item = queue.shift();\n      if (item) {\n        cb(item as T);\n      }\n    }, (timeout || TIMEOUT));\n  };\n  const clear = () => {\n    queue = [];\n    if (interval) {\n      clearInterval(interval);\n      interval = null;\n    }\n  };\n  return {\n    push,\n    clear,\n    getQueue: () => queue,\n  };\n}\n","import { useLayoutEffect } from 'react';\n\n// this hook accepts a callback to run component is unmounted\nexport function useUnmount(callback: () => void) {\n  useLayoutEffect(() => {\n    return () => {\n      callback();\n    };\n  }, []);\n}\n","import { useEffect, useMemo } from 'react';\nimport { GroupChannel } from '@sendbird/chat/groupChannel';\n\nimport { schedulerFactory } from './schedulerFactory';\nimport { Logger } from '../SendbirdState';\nimport { useUnmount } from '../../hooks/useUnmount';\n\nexport type MarkAsReadSchedulerType = {\n  push: (channel: GroupChannel) => void;\n  clear: () => void;\n  getQueue: () => GroupChannel[];\n};\n\ninterface DynamicParams {\n  isConnected: boolean;\n}\n\ninterface StaticParams {\n  logger: Logger;\n}\n\nexport function useMarkAsReadScheduler({\n  isConnected,\n}: DynamicParams, {\n  logger,\n}: StaticParams): MarkAsReadSchedulerType {\n  const markAsReadScheduler = useMemo(() => schedulerFactory<GroupChannel>({\n    logger,\n    cb: (channel) => {\n      try {\n        channel.markAsRead();\n      } catch (error) {\n        logger.warning('Channel: Mark as delivered failed', { channel, error });\n      }\n    },\n  }), []);\n\n  useEffect(() => {\n    // for simplicity, we clear the queue when the connection is lost\n    if (!isConnected) {\n      markAsReadScheduler.clear();\n    }\n  }, [isConnected]);\n\n  useUnmount(() => { markAsReadScheduler.clear(); });\n\n  return markAsReadScheduler;\n}\n","import { useEffect, useMemo } from 'react';\nimport { GroupChannel } from '@sendbird/chat/groupChannel';\n\nimport { schedulerFactory } from './schedulerFactory';\nimport { Logger } from '../SendbirdState';\nimport { useUnmount } from '../../hooks/useUnmount';\n\nexport type MarkAsDeliveredSchedulerType = {\n  push: (channel: GroupChannel) => void;\n  clear: () => void;\n  getQueue: () => GroupChannel[];\n};\n\ninterface DynamicParams {\n  isConnected: boolean;\n}\n\ninterface StaticParams {\n  logger: Logger;\n}\n\nexport function useMarkAsDeliveredScheduler({\n  isConnected,\n}: DynamicParams, {\n  logger,\n}: StaticParams): MarkAsDeliveredSchedulerType {\n  const markAsDeliveredScheduler = useMemo(() => schedulerFactory<GroupChannel>({\n    logger,\n    cb: (channel) => {\n      try {\n        channel.markAsDelivered();\n      } catch (error) {\n        logger.warning('Channel: Mark as delivered failed', { channel, error });\n      }\n    },\n  }), []);\n\n  useEffect(() => {\n    // for simplicity, we clear the queue when the connection is lost\n    if (!isConnected) {\n      markAsDeliveredScheduler.clear();\n    }\n  }, [isConnected]);\n\n  useUnmount(() => { markAsDeliveredScheduler.clear(); });\n\n  return markAsDeliveredScheduler;\n}\n","import './index.scss';\nimport './__experimental__typography.scss';\n\nimport React, { useEffect, useReducer, useState } from 'react';\nimport { User } from '@sendbird/chat';\n\nimport { SendbirdSdkContext } from './SendbirdSdkContext';\n\nimport useTheme from './hooks/useTheme';\n\nimport sdkReducers from './dux/sdk/reducers';\nimport userReducers from './dux/user/reducers';\n\nimport sdkInitialState from './dux/sdk/initialState';\nimport userInitialState from './dux/user/initialState';\n\nimport useOnlineStatus from './hooks/useOnlineStatus';\nimport useConnect from './hooks/useConnect';\nimport { LoggerFactory, LogLevel } from './Logger';\nimport pubSubFactory from './pubSub/index';\nimport useAppendDomNode from '../hooks/useAppendDomNode';\n\nimport { UIKitConfigProvider, useUIKitConfig } from './UIKitConfigProvider';\nimport { VoiceMessageProvider } from './VoiceMessageProvider';\nimport { LocalizationProvider } from './LocalizationContext';\nimport { MediaQueryProvider } from './MediaQueryContext';\nimport getStringSet from '../ui/Label/stringSet';\nimport { VOICE_RECORDER_DEFAULT_MAX, VOICE_RECORDER_DEFAULT_MIN } from '../utils/consts';\nimport { useMarkAsReadScheduler } from './hooks/useMarkAsReadScheduler';\nimport { ConfigureSessionTypes } from './hooks/useConnect/types';\nimport { useMarkAsDeliveredScheduler } from './hooks/useMarkAsDeliveredScheduler';\n\nexport type UserListQueryType = {\n  hasNext?: boolean;\n  next: () => Promise<Array<User>>;\n};\n\ninterface VoiceRecordOptions {\n  maxRecordingTime?: number;\n  minRecordingTime?: number;\n}\n\nexport interface ImageCompressionOptions {\n  compressionRate?: number;\n  resizingWidth?: number | string;\n  resizingHeight?: number | string;\n}\n\nexport interface SendbirdConfig {\n  logLevel?: string | Array<string>;\n  pubSub?: () => void;// TODO: Define pubSub type and apply it here\n  userMention?: {\n    maxMentionCount?: number;\n    maxSuggestionCount?: number;\n  };\n  isREMUnitEnabled?: boolean;\n}\n\ninterface CommonUIKitConfigProps {\n  replyType?: 'NONE' | 'QUOTE_REPLY' | 'THREAD';\n  isMentionEnabled?: boolean;\n  isReactionEnabled?: boolean;\n  disableUserProfile?: boolean;\n  isVoiceMessageEnabled?: boolean;\n  isTypingIndicatorEnabledOnChannelList?: boolean;\n  isMessageReceiptStatusEnabledOnChannelList?: boolean;\n}\nexport interface SendbirdProviderProps extends CommonUIKitConfigProps {\n  appId: string;\n  userId: string;\n  children: React.ReactElement;\n  accessToken?: string;\n  customApiHost?: string;\n  customWebSocketHost?: string;\n  configureSession?: ConfigureSessionTypes;\n  theme?: 'light' | 'dark';\n  config?: SendbirdConfig;\n  nickname?: string;\n  colorSet?: Record<string, string>;\n  stringSet?: Record<string, string>;\n  dateLocale?: Locale;\n  profileUrl?: string;\n  voiceRecord?: VoiceRecordOptions;\n  userListQuery?: UserListQueryType;\n  imageCompression?: ImageCompressionOptions;\n  allowProfileEdit?: boolean;\n  disableMarkAsDelivered?: boolean;\n  renderUserProfile?: () => React.ReactElement;\n  onUserProfileMessage?: () => void;\n}\n\nfunction Sendbird(props: SendbirdProviderProps) {\n  const {\n    replyType = 'NONE',\n    isMentionEnabled = false,\n    isReactionEnabled = true,\n    disableUserProfile = false,\n    isVoiceMessageEnabled = true,\n    isTypingIndicatorEnabledOnChannelList = false,\n    isMessageReceiptStatusEnabledOnChannelList = false,\n  } = props;\n\n  return (\n    <UIKitConfigProvider\n      localConfigs={{\n        common: {\n          enableUsingDefaultUserProfile: !disableUserProfile,\n        },\n        groupChannel: {\n          channel: {\n            enableReactions: isReactionEnabled,\n            enableMention: isMentionEnabled,\n            enableVoiceMessage: isVoiceMessageEnabled,\n            /**\n             * Since dashbord UIKit Configuration's replyType is consisted of all lowercase letters,\n             * we convert it from here.\n             * i.e. 'THREAD' -> 'thread'\n             */\n            replyType: replyType.toLowerCase(),\n          },\n          channelList: {\n            enableTypingIndicator: isTypingIndicatorEnabledOnChannelList,\n            enableMessageReceiptStatus: isMessageReceiptStatusEnabledOnChannelList,\n          },\n        },\n      }}\n    >\n      <SendbirdSDK {...props} />\n    </UIKitConfigProvider>\n  );\n}\nconst SendbirdSDK = ({\n  appId,\n  userId,\n  children,\n  accessToken = '',\n  customApiHost = '',\n  customWebSocketHost = '',\n  configureSession = null,\n  theme = 'light',\n  config = {},\n  nickname = '',\n  colorSet = null,\n  stringSet = null,\n  dateLocale = null,\n  profileUrl = '',\n  voiceRecord = { maxRecordingTime: VOICE_RECORDER_DEFAULT_MAX, minRecordingTime: VOICE_RECORDER_DEFAULT_MIN },\n  userListQuery = null,\n  imageCompression = {},\n  allowProfileEdit = false,\n  disableMarkAsDelivered = false,\n  renderUserProfile = null,\n  onUserProfileMessage = null,\n}: SendbirdProviderProps): React.ReactElement => {\n  const breakpoint = false;\n\n  const {\n    logLevel = '',\n    userMention = {},\n    isREMUnitEnabled = false,\n  } = config;\n  const [logger, setLogger] = useState(LoggerFactory(logLevel as LogLevel));\n  const [pubSub] = useState(pubSubFactory());\n  const [sdkStore, sdkDispatcher] = useReducer(sdkReducers, sdkInitialState);\n  const [userStore, userDispatcher] = useReducer(userReducers, userInitialState);\n\n  const { configs, initDashboardConfigs } = useUIKitConfig();\n\n  useTheme(colorSet);\n\n  const reconnect = useConnect({\n    appId,\n    userId,\n    accessToken,\n  }, {\n    logger,\n    nickname,\n    profileUrl,\n    configureSession,\n    customApiHost,\n    customWebSocketHost,\n    sdk: sdkStore?.sdk,\n    sdkDispatcher,\n    userDispatcher,\n    initDashboardConfigs,\n  });\n\n  // to create a pubsub to communicate between parent and child\n  useEffect(() => {\n    setLogger(LoggerFactory(logLevel as LogLevel));\n  }, [logLevel]);\n\n  useAppendDomNode([\n    'sendbird-modal-root',\n    'sendbird-dropdown-portal',\n    'sendbird-emoji-list-portal',\n  ], 'body');\n\n  // should move to reducer\n  const [currenttheme, setCurrenttheme] = useState(theme);\n  useEffect(() => {\n    setCurrenttheme(theme);\n  }, [theme]);\n\n  useEffect(() => {\n    const body = document.querySelector('body');\n    body.classList.remove('sendbird-experimental__rem__units');\n    if (isREMUnitEnabled) {\n      body.classList.add('sendbird-experimental__rem__units');\n    }\n  }, [isREMUnitEnabled]);\n  // add-remove theme from body\n  useEffect(() => {\n    logger.info('Setup theme', `Theme: ${currenttheme}`);\n    try {\n      const body = document.querySelector('body');\n      body.classList.remove('sendbird-theme--light');\n      body.classList.remove('sendbird-theme--dark');\n      body.classList.add(`sendbird-theme--${currenttheme || 'light'}`);\n      logger.info('Finish setup theme');\n      // eslint-disable-next-line no-empty\n    } catch (e) {\n      logger.warning('Setup theme failed', `${e}`);\n    }\n    return () => {\n      try {\n        const body = document.querySelector('body');\n        body.classList.remove('sendbird-theme--light');\n        body.classList.remove('sendbird-theme--dark');\n        // eslint-disable-next-line no-empty\n      } catch { }\n    };\n  }, [currenttheme]);\n\n  const isOnline = useOnlineStatus(sdkStore.sdk, logger);\n\n  const markAsReadScheduler = useMarkAsReadScheduler({ isConnected: isOnline }, { logger });\n  const markAsDeliveredScheduler = useMarkAsDeliveredScheduler({ isConnected: isOnline }, { logger });\n\n  const localeStringSet = React.useMemo(() => {\n    if (!stringSet) {\n      return getStringSet('en');\n    }\n    return {\n      ...getStringSet('en'),\n      ...stringSet,\n    };\n  }, [stringSet]);\n\n  return (\n    <SendbirdSdkContext.Provider\n      value={{\n        stores: {\n          sdkStore,\n          userStore,\n        },\n        dispatchers: {\n          sdkDispatcher,\n          userDispatcher,\n          reconnect,\n        },\n        config: {\n          disableMarkAsDelivered,\n          renderUserProfile,\n          onUserProfileMessage,\n          allowProfileEdit,\n          isOnline,\n          userId,\n          appId,\n          accessToken,\n          theme: currenttheme,\n          setCurrenttheme,\n          userListQuery,\n          logger,\n          pubSub,\n          imageCompression: {\n            compressionRate: 0.7,\n            ...imageCompression,\n          },\n          voiceRecord,\n          userMention: {\n            maxMentionCount: userMention?.maxMentionCount || 10,\n            maxSuggestionCount: userMention?.maxSuggestionCount || 15,\n          },\n          markAsReadScheduler,\n          markAsDeliveredScheduler,\n          // From UIKitConfigProvider.localConfigs\n          disableUserProfile:\n            !configs.common.enableUsingDefaultUserProfile,\n          isReactionEnabled:\n            configs.groupChannel.channel.enableReactions,\n          isMentionEnabled:\n            configs.groupChannel.channel.enableMention,\n          isVoiceMessageEnabled:\n            configs.groupChannel.channel.enableVoiceMessage,\n          replyType:\n            /**\n             * Since UIKitConfigContext's replyType is consisted of all lowercase letters,\n             * we need to convert it into all uppercase ones like\n             *  - 'thread' -> 'THREAD'\n             *  - 'quote_reply' -> 'QUOTE_REPLY'\n             */\n            configs.groupChannel.channel.replyType.toUpperCase(),\n          isTypingIndicatorEnabledOnChannelList:\n            configs.groupChannel.channelList.enableTypingIndicator,\n          isMessageReceiptStatusEnabledOnChannelList:\n            configs.groupChannel.channelList.enableMessageReceiptStatus,\n          // TODO(Ahyoung): add more configs from UIKitConfigProvider.remoteConfigs\n        },\n      }}\n    >\n      <MediaQueryProvider logger={logger} breakpoint={breakpoint}>\n        <LocalizationProvider stringSet={localeStringSet} dateLocale={dateLocale}>\n          <VoiceMessageProvider isVoiceMessageEnabled={configs.groupChannel.channel.enableVoiceMessage}>\n            {children}\n          </VoiceMessageProvider>\n        </LocalizationProvider>\n      </MediaQueryProvider>\n    </SendbirdSdkContext.Provider>\n  );\n};\n\nexport default Sendbird;\n"]},"metadata":{},"sourceType":"module"}