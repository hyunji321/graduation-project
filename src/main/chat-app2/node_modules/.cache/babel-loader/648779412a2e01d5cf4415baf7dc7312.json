{"ast":null,"code":"import _slicedToArray from \"C:/Users/\\uC774\\uACBD\\uBBFC/IdeaProjects/sendbird-uikit-whatsapp-sample/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { b as _extends } from '../_rollupPluginBabelHelpers-6bb0305c.js';\nimport React__default, { useState } from 'react';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport { h as getClassName, p as isVideoMessage, o as isGifMessage, C as isSentMessage } from '../index-7eb65acf.js';\nimport { n as noop } from '../utils-4bbbca2c.js';\nimport { u as useLongPress } from '../useLongPress-1303953d.js';\nimport 'prop-types';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../MediaQueryContext-11f0e43f.js';\nfunction ThumbnailMessageItemBody(_ref) {\n  var _thumbnails$, _message$reactions$le, _message$reactions;\n  var _ref$className = _ref.className,\n    className = _ref$className === void 0 ? '' : _ref$className,\n    message = _ref.message,\n    _ref$isByMe = _ref.isByMe,\n    isByMe = _ref$isByMe === void 0 ? false : _ref$isByMe,\n    _ref$mouseHover = _ref.mouseHover,\n    mouseHover = _ref$mouseHover === void 0 ? false : _ref$mouseHover,\n    _ref$isReactionEnable = _ref.isReactionEnabled,\n    isReactionEnabled = _ref$isReactionEnable === void 0 ? false : _ref$isReactionEnable,\n    _ref$showFileViewer = _ref.showFileViewer,\n    showFileViewer = _ref$showFileViewer === void 0 ? noop : _ref$showFileViewer,\n    _ref$style = _ref.style,\n    style = _ref$style === void 0 ? {} : _ref$style;\n  var _message$thumbnails = message.thumbnails,\n    thumbnails = _message$thumbnails === void 0 ? [] : _message$thumbnails;\n  var thumbnailUrl = thumbnails.length > 0 ? (_thumbnails$ = thumbnails[0]) === null || _thumbnails$ === void 0 ? void 0 : _thumbnails$.url : '';\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    imageRendered = _useState2[0],\n    setImageRendered = _useState2[1];\n  var onClickHandler = useLongPress({\n    onLongPress: noop,\n    onClick: function onClick() {\n      if (isSentMessage(message)) {\n        showFileViewer === null || showFileViewer === void 0 ? void 0 : showFileViewer(true);\n      }\n    }\n  });\n  return /*#__PURE__*/React__default.createElement(\"div\", _extends({\n    className: getClassName([className, 'sendbird-thumbnail-message-item-body', isByMe ? 'outgoing' : 'incoming', mouseHover ? 'mouse-hover' : '', isReactionEnabled && ((_message$reactions$le = (_message$reactions = message.reactions) === null || _message$reactions === void 0 ? void 0 : _message$reactions.length) !== null && _message$reactions$le !== void 0 ? _message$reactions$le : 0) > 0 ? 'reactions' : ''])\n  }, onClickHandler), /*#__PURE__*/React__default.createElement(ImageRenderer, {\n    className: \"sendbird-thumbnail-message-item-body__thumbnail\",\n    url: thumbnailUrl || (message === null || message === void 0 ? void 0 : message.url),\n    alt: message === null || message === void 0 ? void 0 : message.type,\n    width: (style === null || style === void 0 ? void 0 : style.width) || '360px',\n    height: (style === null || style === void 0 ? void 0 : style.height) || '270px',\n    onLoad: function onLoad() {\n      setImageRendered(true);\n    },\n    placeHolder: function placeHolder(style_) {\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"sendbird-thumbnail-message-item-body__placeholder\",\n        style: style_\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"sendbird-thumbnail-message-item-body__placeholder__icon\"\n      }, /*#__PURE__*/React__default.createElement(Icon, {\n        type: isVideoMessage(message) ? IconTypes.PLAY : IconTypes.PHOTO,\n        fillColor: IconColors.ON_BACKGROUND_2,\n        width: \"34px\",\n        height: \"34px\"\n      })));\n    }\n  }), isVideoMessage(message) && !thumbnailUrl && !imageRendered && /*#__PURE__*/React__default.createElement(\"video\", {\n    className: \"sendbird-thumbnail-message-item-body__video\"\n  }, /*#__PURE__*/React__default.createElement(\"source\", {\n    src: message === null || message === void 0 ? void 0 : message.url,\n    type: message === null || message === void 0 ? void 0 : message.type\n  })), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-thumbnail-message-item-body__image-cover\"\n  }), (isVideoMessage(message) || isGifMessage(message)) && /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-thumbnail-message-item-body__icon-wrapper\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-thumbnail-message-item-body__icon-wrapper__icon\"\n  }, /*#__PURE__*/React__default.createElement(Icon, {\n    type: isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF,\n    fillColor: IconColors.GRAY,\n    width: \"34px\",\n    height: \"34px\"\n  }))));\n}\nexport { ThumbnailMessageItemBody as default };","map":{"version":3,"mappings":"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","names":["ThumbnailMessageItemBody","_ref","className","message","isByMe","mouseHover","isReactionEnabled","showFileViewer","noop","style","thumbnails","thumbnailUrl","length","_thumbnails$","url","useState","imageRendered","setImageRendered","onClickHandler","useLongPress","onLongPress","onClick","isSentMessage","React","getClassName","reactions","_message$reactions","ImageRenderer","alt","type","width","height","onLoad","placeHolder","style_","Icon","isVideoMessage","IconTypes","PLAY","PHOTO","fillColor","IconColors","ON_BACKGROUND_2","src","isGifMessage","GIF","GRAY"],"sources":["C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\ui\\ThumbnailMessageItemBody\\index.tsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useState } from 'react';\nimport type { FileMessage } from '@sendbird/chat/message';\n\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport ImageRenderer from '../ImageRenderer';\nimport { getClassName, isGifMessage, isSentMessage, isVideoMessage } from '../../utils';\nimport { noop } from '../../utils/utils';\nimport useLongPress from '../../hooks/useLongPress';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: FileMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  isReactionEnabled?: boolean;\n  showFileViewer?: (bool: boolean) => void;\n  style?: Record<string, any>;\n}\n\nexport default function ThumbnailMessageItemBody({\n  className = '',\n  message,\n  isByMe = false,\n  mouseHover = false,\n  isReactionEnabled = false,\n  showFileViewer = noop,\n  style = {},\n}: Props): ReactElement {\n  const { thumbnails = [] } = message;\n  const thumbnailUrl: string = thumbnails.length > 0 ? thumbnails[0]?.url : '';\n  const [imageRendered, setImageRendered] = useState(false);\n\n  const onClickHandler = useLongPress({\n    onLongPress: noop,\n    onClick: () => {\n      if (isSentMessage(message)) {\n        showFileViewer?.(true);\n      }\n    },\n  });\n\n  return (\n    <div\n      className={getClassName([\n        className,\n        'sendbird-thumbnail-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        (isReactionEnabled && (message.reactions?.length ?? 0) > 0) ? 'reactions' : '',\n      ])}\n      {...onClickHandler}\n    >\n      <ImageRenderer\n        className=\"sendbird-thumbnail-message-item-body__thumbnail\"\n        url={thumbnailUrl || message?.url}\n        alt={message?.type}\n        width={style?.width || '360px'}\n        height={style?.height || '270px'}\n        onLoad={() => { setImageRendered(true); }}\n        placeHolder={(style_: Record<string, any>) => (\n          <div\n            className=\"sendbird-thumbnail-message-item-body__placeholder\"\n            style={style_}\n          >\n            <div className=\"sendbird-thumbnail-message-item-body__placeholder__icon\">\n              <Icon\n                type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.PHOTO}\n                fillColor={IconColors.ON_BACKGROUND_2}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )}\n      />\n      {\n        (isVideoMessage(message) && !thumbnailUrl) && !imageRendered && (\n          <video className=\"sendbird-thumbnail-message-item-body__video\">\n            <source src={message?.url} type={message?.type} />\n          </video>\n        )\n      }\n      <div className=\"sendbird-thumbnail-message-item-body__image-cover\" />\n      {\n        (isVideoMessage(message) || isGifMessage(message)) && (\n          <div className=\"sendbird-thumbnail-message-item-body__icon-wrapper\">\n            <div className=\"sendbird-thumbnail-message-item-body__icon-wrapper__icon\">\n              <Icon\n                type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF}\n                fillColor={IconColors.GRAY}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )\n      }\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}