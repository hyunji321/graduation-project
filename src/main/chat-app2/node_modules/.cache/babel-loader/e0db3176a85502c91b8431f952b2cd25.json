{"ast":null,"code":"import React__default from 'react';\nimport useSendbirdStateContext from '../../useSendbirdStateContext.js';\nimport { u as useChannelContext } from '../../ChannelProvider-910bbc1f.js';\nimport { P as PlaceHolder, a as PlaceHolderTypes } from '../../index-cef1cfff.js';\nimport ConnectionStatus from '../../ui/ConnectionStatus.js';\nimport ChannelHeader from './ChannelHeader.js';\nimport MessageList from './MessageList.js';\nimport TypingIndicator from './TypingIndicator.js';\nimport MessageInputWrapper from './MessageInput.js';\nimport '../../withSendbird.js';\nimport '../../_rollupPluginBabelHelpers-6bb0305c.js';\nimport '../../UserProfileContext-9cfbab4d.js';\nimport 'prop-types';\nimport '../../index-7cdd58b8.js';\nimport '../../index-99aabd9e.js';\nimport '../../topics-b2b77fb9.js';\nimport '../../index-7eb65acf.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../compareIds-defe2bb3.js';\nimport '../../const-b3f02313.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../uuid-1adedf62.js';\nimport '@sendbird/chat/message';\nimport '../../consts-95d8566e.js';\nimport '../../LocalizationContext-076d6d2e.js';\nimport '../../stringSet-13bbd4a2.js';\nimport '../../ui/Icon.js';\nimport '../../index-63949de5.js';\nimport '../../ui/Loader.js';\nimport '../../utils-30d3ca65.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../ui/Avatar.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../utils-d86ad6ab.js';\nimport '../../MediaQueryContext-11f0e43f.js';\nimport '../../utils-4bbbca2c.js';\nimport './Message.js';\nimport './SuggestedMentionList.js';\nimport '../../const-221c6a89.js';\nimport '../../ThreadProvider-3a4a4db0.js';\nimport '../../Thread/context/types.js';\nimport '@sendbird/chat';\nimport '../../ui/DateSeparator.js';\nimport '../../color-879cc347.js';\nimport '../../ui/MessageInput.js';\nimport '../../ui/Button.js';\nimport 'dompurify';\nimport '../../consts-ff014656.js';\nimport '../../consts-c41580ae.js';\nimport '../../consts-81544e52.js';\nimport '../../tokenize-c40f2b57.js';\nimport '../../ui/MessageContent.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../index-5c1b672d.js';\nimport '../../index-306bc4ab.js';\nimport '../../index-fe932783.js';\nimport '../../ui/MessageItemMenu.js';\nimport '../../ui/ContextMenu.js';\nimport 'react-dom';\nimport '../../ui/SortByRow.js';\nimport '../../types-4ff4177c.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ReactionButton.js';\nimport '../../useLongPress-1303953d.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../index-38e61c64.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../index-2c3e11ea.js';\nimport '../../index.module-54d57ec3.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../index-aca30408.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../index-5c985608.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport './FileViewer.js';\nimport './RemoveMessageModal.js';\nimport '../../ui/Modal.js';\nimport '../../index-9e49ffe3.js';\nimport '../../useDirtyGetMentions-aa730e2c.js';\nimport './UnreadCount.js';\nimport './FrozenNotification.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../VoiceMessageInputWrapper-dc459df1.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../index-e6e562c5.js';\nconst ChannelUI = _ref => {\n  var _globalStore$stores, _globalStore$stores$s, _globalStore$config, _globalStore$config2;\n  let {\n    isLoading,\n    renderPlaceholderLoader,\n    renderPlaceholderInvalid,\n    renderPlaceholderEmpty,\n    renderChannelHeader,\n    renderMessage,\n    renderMessageInput,\n    renderTypingIndicator,\n    renderCustomSeparator,\n    renderFileUploadIcon,\n    renderVoiceMessageIcon,\n    renderSendMessageIcon\n  } = _ref;\n  const {\n    channelUrl,\n    isInvalid\n  } = useChannelContext();\n  const globalStore = useSendbirdStateContext();\n  const sdkError = globalStore === null || globalStore === void 0 ? void 0 : (_globalStore$stores = globalStore.stores) === null || _globalStore$stores === void 0 ? void 0 : (_globalStore$stores$s = _globalStore$stores.sdkStore) === null || _globalStore$stores$s === void 0 ? void 0 : _globalStore$stores$s.error;\n  const logger = globalStore === null || globalStore === void 0 ? void 0 : (_globalStore$config = globalStore.config) === null || _globalStore$config === void 0 ? void 0 : _globalStore$config.logger;\n  const isOnline = globalStore === null || globalStore === void 0 ? void 0 : (_globalStore$config2 = globalStore.config) === null || _globalStore$config2 === void 0 ? void 0 : _globalStore$config2.isOnline;\n  if (isLoading) {\n    return /*#__PURE__*/React__default.createElement(\"div\", {\n      className: \"sendbird-conversation\"\n    }, (renderPlaceholderLoader === null || renderPlaceholderLoader === void 0 ? void 0 : renderPlaceholderLoader()) || /*#__PURE__*/React__default.createElement(PlaceHolder, {\n      type: PlaceHolderTypes.LOADING\n    }));\n  }\n  if (!channelUrl) {\n    return /*#__PURE__*/React__default.createElement(\"div\", {\n      className: \"sendbird-conversation\"\n    }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || /*#__PURE__*/React__default.createElement(PlaceHolder, {\n      type: PlaceHolderTypes.NO_CHANNELS\n    }));\n  }\n  if (isInvalid) {\n    return /*#__PURE__*/React__default.createElement(\"div\", {\n      className: \"sendbird-conversation\"\n    }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || /*#__PURE__*/React__default.createElement(PlaceHolder, {\n      type: PlaceHolderTypes.WRONG\n    }));\n  }\n  if (sdkError) {\n    return /*#__PURE__*/React__default.createElement(\"div\", {\n      className: \"sendbird-conversation\"\n    }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || /*#__PURE__*/React__default.createElement(PlaceHolder, {\n      type: PlaceHolderTypes.WRONG,\n      retryToConnect: () => {\n        logger.info('Channel: reconnecting');\n        // reconnect();\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-conversation\"\n  }, (renderChannelHeader === null || renderChannelHeader === void 0 ? void 0 : renderChannelHeader()) || /*#__PURE__*/React__default.createElement(ChannelHeader, {\n    className: \"sendbird-conversation__channel-header\"\n  }), /*#__PURE__*/React__default.createElement(MessageList, {\n    className: \"sendbird-conversation__message-list\",\n    renderMessage: renderMessage,\n    renderPlaceholderEmpty: renderPlaceholderEmpty,\n    renderCustomSeparator: renderCustomSeparator,\n    renderPlaceholderLoader: renderPlaceholderLoader\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-conversation__footer\"\n  }, (renderMessageInput === null || renderMessageInput === void 0 ? void 0 : renderMessageInput()) || /*#__PURE__*/React__default.createElement(MessageInputWrapper, {\n    renderFileUploadIcon: renderFileUploadIcon,\n    renderVoiceMessageIcon: renderVoiceMessageIcon,\n    renderSendMessageIcon: renderSendMessageIcon\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-conversation__footer__typing-indicator\"\n  }, (renderTypingIndicator === null || renderTypingIndicator === void 0 ? void 0 : renderTypingIndicator()) || /*#__PURE__*/React__default.createElement(TypingIndicator, null), !isOnline && /*#__PURE__*/React__default.createElement(ConnectionStatus, null))));\n};\nexport { ChannelUI as default };","map":{"version":3,"mappings":"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","names":["ChannelUI","_ref","isLoading","renderPlaceholderLoader","renderPlaceholderInvalid","renderPlaceholderEmpty","renderChannelHeader","renderMessage","renderMessageInput","renderTypingIndicator","renderCustomSeparator","renderFileUploadIcon","renderVoiceMessageIcon","renderSendMessageIcon","channelUrl","isInvalid","useChannelContext","globalStore","useSendbirdStateContext","sdkError","stores","_globalStore$stores","sdkStore","_globalStore$stores$s","error","logger","config","_globalStore$config","isOnline","_globalStore$config2","React","className","PlaceHolder","type","PlaceHolderTypes","LOADING","NO_CHANNELS","WRONG","retryToConnect","info","ChannelHeader","MessageList","MessageInputWrapper","TypingIndicator","ConnectionStatus"],"sources":["C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\modules\\Channel\\components\\ChannelUI\\index.tsx"],"sourcesContent":["import './channel-ui.scss';\n\nimport React from 'react';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport ConnectionStatus from '../../../../ui/ConnectionStatus';\nimport ChannelHeader from '../ChannelHeader';\nimport MessageList from '../MessageList';\nimport TypingIndicator from '../TypingIndicator';\nimport MessageInputWrapper from '../MessageInput';\nimport { RenderCustomSeparatorProps, RenderMessageProps } from '../../../../types';\n\nexport interface ChannelUIProps {\n  isLoading?: boolean;\n  renderPlaceholderLoader?: () => React.ReactElement;\n  renderPlaceholderInvalid?: () => React.ReactElement;\n  renderPlaceholderEmpty?: () => React.ReactElement;\n  renderChannelHeader?: () => React.ReactElement;\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderMessageInput?: () => React.ReactElement;\n  renderFileUploadIcon?: () => React.ReactElement;\n  renderVoiceMessageIcon?: () => React.ReactElement;\n  renderSendMessageIcon?: () => React.ReactElement;\n  renderTypingIndicator?: () => React.ReactElement;\n  renderCustomSeparator?: (props: RenderCustomSeparatorProps) => React.ReactElement;\n}\n\nconst ChannelUI: React.FC<ChannelUIProps> = ({\n  isLoading,\n  renderPlaceholderLoader,\n  renderPlaceholderInvalid,\n  renderPlaceholderEmpty,\n  renderChannelHeader,\n  renderMessage,\n  renderMessageInput,\n  renderTypingIndicator,\n  renderCustomSeparator,\n  renderFileUploadIcon,\n  renderVoiceMessageIcon,\n  renderSendMessageIcon,\n}: ChannelUIProps) => {\n  const {\n    channelUrl,\n    isInvalid,\n  } = useChannelContext();\n\n  const globalStore = useSendbirdStateContext();\n  const sdkError = globalStore?.stores?.sdkStore?.error;\n  const logger = globalStore?.config?.logger;\n  const isOnline = globalStore?.config?.isOnline;\n\n  if (isLoading) {\n    return (<div className=\"sendbird-conversation\">\n      {\n        renderPlaceholderLoader?.() || (\n          <PlaceHolder type={PlaceHolderTypes.LOADING} />\n        )\n      }\n    </div>);\n  }\n\n  if (!channelUrl) {\n    return (<div className=\"sendbird-conversation\">\n      {\n        renderPlaceholderInvalid?.() || (\n          <PlaceHolder type={PlaceHolderTypes.NO_CHANNELS} />\n        )\n      }\n    </div>);\n  }\n  if (isInvalid) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder type={PlaceHolderTypes.WRONG} />\n          )\n        }\n      </div>\n    );\n  }\n  if (sdkError) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder\n              type={PlaceHolderTypes.WRONG}\n              retryToConnect={() => {\n                logger.info('Channel: reconnecting');\n                // reconnect();\n              }}\n            />\n          )\n        }\n      </div>\n    );\n  }\n  return (\n    <div className='sendbird-conversation'>\n      {renderChannelHeader?.() || (\n        <ChannelHeader className=\"sendbird-conversation__channel-header\" />\n      )}\n      <MessageList\n        className=\"sendbird-conversation__message-list\"\n        renderMessage={renderMessage}\n        renderPlaceholderEmpty={renderPlaceholderEmpty}\n        renderCustomSeparator={renderCustomSeparator}\n        renderPlaceholderLoader={renderPlaceholderLoader}\n      />\n      <div className=\"sendbird-conversation__footer\">\n        {\n          renderMessageInput?.() || (\n            <MessageInputWrapper\n              renderFileUploadIcon={renderFileUploadIcon}\n              renderVoiceMessageIcon={renderVoiceMessageIcon}\n              renderSendMessageIcon={renderSendMessageIcon}\n            />\n          )\n        }\n        <div className=\"sendbird-conversation__footer__typing-indicator\">\n          {\n            renderTypingIndicator?.() || (\n              <TypingIndicator />\n            )\n          }\n          {\n            !isOnline && (\n              <ConnectionStatus />\n            )\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChannelUI;\n"]},"metadata":{},"sourceType":"module"}