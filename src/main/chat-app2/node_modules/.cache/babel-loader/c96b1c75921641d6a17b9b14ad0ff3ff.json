{"ast":null,"code":"import { b as _extends } from '../_rollupPluginBabelHelpers-6bb0305c.js';\nimport React__default, { useState } from 'react';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport { h as getClassName, p as isVideoMessage, o as isGifMessage, C as isSentMessage } from '../index-7eb65acf.js';\nimport { n as noop } from '../utils-4bbbca2c.js';\nimport { u as useLongPress } from '../useLongPress-1303953d.js';\nimport 'prop-types';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../MediaQueryContext-11f0e43f.js';\nfunction ThumbnailMessageItemBody(_ref) {\n  var _thumbnails$, _message$reactions$le, _message$reactions;\n  let {\n    className = '',\n    message,\n    isByMe = false,\n    mouseHover = false,\n    isReactionEnabled = false,\n    showFileViewer = noop,\n    style = {}\n  } = _ref;\n  const {\n    thumbnails = []\n  } = message;\n  const thumbnailUrl = thumbnails.length > 0 ? (_thumbnails$ = thumbnails[0]) === null || _thumbnails$ === void 0 ? void 0 : _thumbnails$.url : '';\n  const [imageRendered, setImageRendered] = useState(false);\n  const onClickHandler = useLongPress({\n    onLongPress: noop,\n    onClick: () => {\n      if (isSentMessage(message)) {\n        showFileViewer === null || showFileViewer === void 0 ? void 0 : showFileViewer(true);\n      }\n    }\n  });\n  return /*#__PURE__*/React__default.createElement(\"div\", _extends({\n    className: getClassName([className, 'sendbird-thumbnail-message-item-body', isByMe ? 'outgoing' : 'incoming', mouseHover ? 'mouse-hover' : '', isReactionEnabled && ((_message$reactions$le = (_message$reactions = message.reactions) === null || _message$reactions === void 0 ? void 0 : _message$reactions.length) !== null && _message$reactions$le !== void 0 ? _message$reactions$le : 0) > 0 ? 'reactions' : ''])\n  }, onClickHandler), /*#__PURE__*/React__default.createElement(ImageRenderer, {\n    className: \"sendbird-thumbnail-message-item-body__thumbnail\",\n    url: thumbnailUrl || (message === null || message === void 0 ? void 0 : message.url),\n    alt: message === null || message === void 0 ? void 0 : message.type,\n    width: (style === null || style === void 0 ? void 0 : style.width) || '360px',\n    height: (style === null || style === void 0 ? void 0 : style.height) || '270px',\n    onLoad: () => {\n      setImageRendered(true);\n    },\n    placeHolder: style_ => /*#__PURE__*/React__default.createElement(\"div\", {\n      className: \"sendbird-thumbnail-message-item-body__placeholder\",\n      style: style_\n    }, /*#__PURE__*/React__default.createElement(\"div\", {\n      className: \"sendbird-thumbnail-message-item-body__placeholder__icon\"\n    }, /*#__PURE__*/React__default.createElement(Icon, {\n      type: isVideoMessage(message) ? IconTypes.PLAY : IconTypes.PHOTO,\n      fillColor: IconColors.ON_BACKGROUND_2,\n      width: \"34px\",\n      height: \"34px\"\n    })))\n  }), isVideoMessage(message) && !thumbnailUrl && !imageRendered && /*#__PURE__*/React__default.createElement(\"video\", {\n    className: \"sendbird-thumbnail-message-item-body__video\"\n  }, /*#__PURE__*/React__default.createElement(\"source\", {\n    src: message === null || message === void 0 ? void 0 : message.url,\n    type: message === null || message === void 0 ? void 0 : message.type\n  })), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-thumbnail-message-item-body__image-cover\"\n  }), (isVideoMessage(message) || isGifMessage(message)) && /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-thumbnail-message-item-body__icon-wrapper\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-thumbnail-message-item-body__icon-wrapper__icon\"\n  }, /*#__PURE__*/React__default.createElement(Icon, {\n    type: isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF,\n    fillColor: IconColors.GRAY,\n    width: \"34px\",\n    height: \"34px\"\n  }))));\n}\nexport { ThumbnailMessageItemBody as default };","map":{"version":3,"mappings":"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","names":["ThumbnailMessageItemBody","className","message","isByMe","mouseHover","isReactionEnabled","showFileViewer","noop","style","thumbnails","thumbnailUrl","length","_thumbnails$","url","imageRendered","setImageRendered","useState","onClickHandler","useLongPress","onLongPress","onClick","isSentMessage","React","getClassName","reactions","_message$reactions","ImageRenderer","alt","type","width","height","onLoad","placeHolder","style_","Icon","isVideoMessage","IconTypes","PLAY","PHOTO","fillColor","IconColors","ON_BACKGROUND_2","src","isGifMessage","GIF","GRAY"],"sources":["C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\ui\\ThumbnailMessageItemBody\\index.tsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useState } from 'react';\nimport type { FileMessage } from '@sendbird/chat/message';\n\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport ImageRenderer from '../ImageRenderer';\nimport { getClassName, isGifMessage, isSentMessage, isVideoMessage } from '../../utils';\nimport { noop } from '../../utils/utils';\nimport useLongPress from '../../hooks/useLongPress';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: FileMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  isReactionEnabled?: boolean;\n  showFileViewer?: (bool: boolean) => void;\n  style?: Record<string, any>;\n}\n\nexport default function ThumbnailMessageItemBody({\n  className = '',\n  message,\n  isByMe = false,\n  mouseHover = false,\n  isReactionEnabled = false,\n  showFileViewer = noop,\n  style = {},\n}: Props): ReactElement {\n  const { thumbnails = [] } = message;\n  const thumbnailUrl: string = thumbnails.length > 0 ? thumbnails[0]?.url : '';\n  const [imageRendered, setImageRendered] = useState(false);\n\n  const onClickHandler = useLongPress({\n    onLongPress: noop,\n    onClick: () => {\n      if (isSentMessage(message)) {\n        showFileViewer?.(true);\n      }\n    },\n  });\n\n  return (\n    <div\n      className={getClassName([\n        className,\n        'sendbird-thumbnail-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        (isReactionEnabled && (message.reactions?.length ?? 0) > 0) ? 'reactions' : '',\n      ])}\n      {...onClickHandler}\n    >\n      <ImageRenderer\n        className=\"sendbird-thumbnail-message-item-body__thumbnail\"\n        url={thumbnailUrl || message?.url}\n        alt={message?.type}\n        width={style?.width || '360px'}\n        height={style?.height || '270px'}\n        onLoad={() => { setImageRendered(true); }}\n        placeHolder={(style_: Record<string, any>) => (\n          <div\n            className=\"sendbird-thumbnail-message-item-body__placeholder\"\n            style={style_}\n          >\n            <div className=\"sendbird-thumbnail-message-item-body__placeholder__icon\">\n              <Icon\n                type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.PHOTO}\n                fillColor={IconColors.ON_BACKGROUND_2}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )}\n      />\n      {\n        (isVideoMessage(message) && !thumbnailUrl) && !imageRendered && (\n          <video className=\"sendbird-thumbnail-message-item-body__video\">\n            <source src={message?.url} type={message?.type} />\n          </video>\n        )\n      }\n      <div className=\"sendbird-thumbnail-message-item-body__image-cover\" />\n      {\n        (isVideoMessage(message) || isGifMessage(message)) && (\n          <div className=\"sendbird-thumbnail-message-item-body__icon-wrapper\">\n            <div className=\"sendbird-thumbnail-message-item-body__icon-wrapper__icon\">\n              <Icon\n                type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF}\n                fillColor={IconColors.GRAY}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )\n      }\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}