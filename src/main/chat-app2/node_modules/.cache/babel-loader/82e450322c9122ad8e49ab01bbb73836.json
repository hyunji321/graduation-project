{"ast":null,"code":"import React__default, { useState, useEffect } from 'react';\nconst DEFAULT_MOBILE = false;\n// const DEFAULT_MOBILE = '768px';\nconst MOBILE_CLASSNAME = 'sendbird--mobile-mode';\nconst MediaQueryContext = /*#__PURE__*/React__default.createContext({\n  breakpoint: DEFAULT_MOBILE,\n  isMobile: false\n});\nconst addClassNameToBody = () => {\n  try {\n    const body = document.querySelector('body');\n    body === null || body === void 0 ? void 0 : body.classList.add(MOBILE_CLASSNAME);\n  } catch (_unused) {\n    // noop\n  }\n};\nconst removeClassNameFromBody = () => {\n  try {\n    const body = document.querySelector('body');\n    body === null || body === void 0 ? void 0 : body.classList.remove(MOBILE_CLASSNAME);\n  } catch (_unused2) {\n    // noop\n  }\n};\nconst MediaQueryProvider = props => {\n  const {\n    children,\n    logger\n  } = props;\n  const breakpoint = (props === null || props === void 0 ? void 0 : props.breakpoint) || DEFAULT_MOBILE;\n  const [isMobile, setIsMobile] = useState(false);\n  useEffect(() => {\n    var _logger$info6;\n    const updateSize = () => {\n      if (typeof breakpoint === 'boolean') {\n        setIsMobile(breakpoint);\n        if (breakpoint) {\n          var _logger$info;\n          logger === null || logger === void 0 ? void 0 : (_logger$info = logger.info) === null || _logger$info === void 0 ? void 0 : _logger$info.call(logger, 'MediaQueryProvider: isMobile: true');\n          addClassNameToBody();\n        } else {\n          var _logger$info2;\n          logger === null || logger === void 0 ? void 0 : (_logger$info2 = logger.info) === null || _logger$info2 === void 0 ? void 0 : _logger$info2.call(logger, 'MediaQueryProvider: isMobile: false');\n          removeClassNameFromBody();\n        }\n      } else {\n        var _logger$info3;\n        const mq = window.matchMedia(`(max-width: ${breakpoint})`);\n        logger === null || logger === void 0 ? void 0 : (_logger$info3 = logger.info) === null || _logger$info3 === void 0 ? void 0 : _logger$info3.call(logger, `MediaQueryProvider: Screensize updated to ${breakpoint}`);\n        if (mq.matches) {\n          var _logger$info4;\n          setIsMobile(true);\n          addClassNameToBody();\n          logger === null || logger === void 0 ? void 0 : (_logger$info4 = logger.info) === null || _logger$info4 === void 0 ? void 0 : _logger$info4.call(logger, 'MediaQueryProvider: isMobile: true');\n        } else {\n          var _logger$info5;\n          setIsMobile(false);\n          removeClassNameFromBody();\n          logger === null || logger === void 0 ? void 0 : (_logger$info5 = logger.info) === null || _logger$info5 === void 0 ? void 0 : _logger$info5.call(logger, 'MediaQueryProvider: isMobile: false');\n        }\n      }\n    };\n    updateSize();\n    window.addEventListener('resize', updateSize);\n    logger === null || logger === void 0 ? void 0 : (_logger$info6 = logger.info) === null || _logger$info6 === void 0 ? void 0 : _logger$info6.call(logger, 'MediaQueryProvider: addEventListener', {\n      updateSize\n    });\n    return () => {\n      var _logger$info7;\n      window.removeEventListener('resize', updateSize);\n      logger === null || logger === void 0 ? void 0 : (_logger$info7 = logger.info) === null || _logger$info7 === void 0 ? void 0 : _logger$info7.call(logger, 'MediaQueryProvider: removeEventListener', {\n        updateSize\n      });\n    };\n  }, [breakpoint]);\n  return /*#__PURE__*/React__default.createElement(MediaQueryContext.Provider, {\n    value: {\n      breakpoint,\n      isMobile\n    }\n  }, children);\n};\nconst useMediaQueryContext = () => React__default.useContext(MediaQueryContext);\nexport { MediaQueryProvider as M, useMediaQueryContext as u };","map":{"version":3,"mappings":"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","names":["DEFAULT_MOBILE","MOBILE_CLASSNAME","MediaQueryContext","React","createContext","breakpoint","isMobile","addClassNameToBody","body","document","querySelector","classList","add","removeClassNameFromBody","remove","MediaQueryProvider","props","children","logger","setIsMobile","useState","useEffect","updateSize","info","_logger$info","_logger$info2","mq","window","matchMedia","_logger$info3","matches","_logger$info4","_logger$info5","addEventListener","_logger$info6","removeEventListener","_logger$info7","Provider","value","useMediaQueryContext","useContext"],"sources":["C:\\Users\\이경민\\IdeaProjects\\sendbird-uikit-whatsapp-sample\\node_modules\\@sendbird\\src\\lib\\MediaQueryContext.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport type { Logger } from './SendbirdState';\n\nconst DEFAULT_MOBILE = false;\n// const DEFAULT_MOBILE = '768px';\nconst MOBILE_CLASSNAME = 'sendbird--mobile-mode';\n\nconst MediaQueryContext = React.createContext({\n  breakpoint: DEFAULT_MOBILE,\n  isMobile: false,\n});\n\nexport interface MediaQueryProviderProps {\n  children: React.ReactElement;\n  breakpoint?: string | boolean;\n  logger?: Logger;\n}\n\nconst addClassNameToBody = () => {\n  try {\n    const body = document.querySelector('body');\n    body?.classList.add(MOBILE_CLASSNAME);\n  } catch {\n    // noop\n  }\n};\n\nconst removeClassNameFromBody = () => {\n  try {\n    const body = document.querySelector('body');\n    body?.classList.remove(MOBILE_CLASSNAME);\n  } catch {\n    // noop\n  }\n};\n\nconst MediaQueryProvider = (props: MediaQueryProviderProps): React.ReactElement => {\n  const {\n    children,\n    logger,\n  } = props;\n  const breakpoint = props?.breakpoint || DEFAULT_MOBILE;\n  const [isMobile, setIsMobile] = useState(false);\n  useEffect(() => {\n    const updateSize = () => {\n      if (typeof breakpoint === 'boolean') {\n        setIsMobile(breakpoint);\n        if (breakpoint) {\n          logger?.info?.('MediaQueryProvider: isMobile: true');\n          addClassNameToBody();\n        } else {\n          logger?.info?.('MediaQueryProvider: isMobile: false');\n          removeClassNameFromBody();\n        }\n      } else {\n        const mq = window.matchMedia(`(max-width: ${breakpoint})`);\n        logger?.info?.(`MediaQueryProvider: Screensize updated to ${breakpoint}`);\n        if (mq.matches) {\n          setIsMobile(true);\n          addClassNameToBody();\n          logger?.info?.('MediaQueryProvider: isMobile: true');\n        } else {\n          setIsMobile(false);\n          removeClassNameFromBody();\n          logger?.info?.('MediaQueryProvider: isMobile: false');\n        }\n      }\n    };\n    updateSize();\n    window.addEventListener('resize', updateSize);\n    logger?.info?.('MediaQueryProvider: addEventListener', { updateSize });\n    return () => {\n      window.removeEventListener('resize', updateSize);\n      logger?.info?.('MediaQueryProvider: removeEventListener', { updateSize });\n    };\n  }, [breakpoint]);\n  return (\n    <MediaQueryContext.Provider value={{ breakpoint, isMobile }}>\n      {children}\n    </MediaQueryContext.Provider>\n  );\n};\n\nexport type useMediaQueryContextType = () => ({\n  breakpoint: string | boolean;\n  isMobile: boolean;\n});\n\nconst useMediaQueryContext: useMediaQueryContextType = () => React.useContext(MediaQueryContext);\n\nexport { MediaQueryProvider, useMediaQueryContext };\n"]},"metadata":{},"sourceType":"module"}